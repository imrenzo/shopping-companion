import"./modulepreload-polyfill-B5Qt9EMX.js";import{r as h,j as t,c as m}from"./client-DtcM3YKn.js";/* empty css                 */import{l as x}from"./logo-BM0kFVSw.js";import{p as f}from"./geminiProcess-D6tGS-I9.js";var o=h();function g(){const[e,a]=o.useState(null),[l,d]=o.useState(!0),[c,u]=o.useState("");return o.useEffect(()=>{(async()=>{var n;try{const[r]=await chrome.tabs.query({active:!0,currentWindow:!0});if(!(r!=null&&r.id)||typeof r.id!="number")throw new Error("No valid active tab ID");const s=await chrome.tabs.sendMessage(r.id,{type:"SCRAPE_PRODUCT"}),i=(n=s==null?void 0:s.data)==null?void 0:n.title;if(!i)throw new Error("No product title found");const p=await f(i);a(p)}catch(r){console.error("Error fetching product data:",r),u("Failed to load product info.")}finally{d(!1)}})()},[]),t.jsx("div",{className:"absolute top-0 left-0 right-0 bottom-0 text-center h-full p-3 bg-gray-800",children:t.jsxs("header",{className:"flex flex-col items-center justify-center text-white",children:[t.jsx("img",{src:x,className:"h-36 pointer-events-none animate-spin-slow",alt:"logo"}),l?t.jsx("p",{className:"mt-4 text-gray-300",children:"Processing product..."}):c?t.jsx("p",{className:"text-red-400",children:c}):e?t.jsxs("div",{className:"mt-4 text-left text-white bg-gray-700 p-4 rounded shadow",children:[t.jsx("h2",{className:"text-xl font-bold mb-2",children:"Product Analysis"}),t.jsxs("p",{children:[t.jsx("strong",{children:"Product Name:"})," ",e.productName]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Score:"})," ",e.score]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Suggested Alternative:"})," ",e.suggestedAlternative]})]}):t.jsx("p",{children:"No data available."})]})})}function j(){const e=document.querySelector("#__root");if(!e)throw new Error("Can't find Popup root element");m.createRoot(e).render(t.jsx(g,{}))}j();
//# sourceMappingURL=index.html-D7yWNOLW.js.map
