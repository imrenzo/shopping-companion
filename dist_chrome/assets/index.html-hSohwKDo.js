import"./modulepreload-polyfill-B5Qt9EMX.js";import{r as Ws,j as ne,c as Js}from"./client-DtcM3YKn.js";/* empty css                 */import{g as Ks}from"./_commonjsHelpers-CqkleIqs.js";function zs(n,e){for(var t=0;t<e.length;t++){const o=e[t];if(typeof o!="string"&&!Array.isArray(o)){for(const i in o)if(i!=="default"&&!(i in n)){const r=Object.getOwnPropertyDescriptor(o,i);r&&Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:()=>o[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}var K=Ws();const Ys=Ks(K),No=zs({__proto__:null,default:Ys},[K]);var G;(function(n){n.assertEqual=i=>{};function e(i){}n.assertIs=e;function t(i){throw new Error}n.assertNever=t,n.arrayToEnum=i=>{const r={};for(const l of i)r[l]=l;return r},n.getValidEnumValues=i=>{const r=n.objectKeys(i).filter(u=>typeof i[i[u]]!="number"),l={};for(const u of r)l[u]=i[u];return n.objectValues(l)},n.objectValues=i=>n.objectKeys(i).map(function(r){return i[r]}),n.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const r=[];for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&r.push(l);return r},n.find=(i,r)=>{for(const l of i)if(r(l))return l},n.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function o(i,r=" | "){return i.map(l=>typeof l=="string"?`'${l}'`:l).join(r)}n.joinValues=o,n.jsonStringifyReplacer=(i,r)=>typeof r=="bigint"?r.toString():r})(G||(G={}));var Do;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(Do||(Do={}));const k=G.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),be=n=>{switch(typeof n){case"undefined":return k.undefined;case"string":return k.string;case"number":return Number.isNaN(n)?k.nan:k.number;case"boolean":return k.boolean;case"function":return k.function;case"bigint":return k.bigint;case"symbol":return k.symbol;case"object":return Array.isArray(n)?k.array:n===null?k.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?k.promise:typeof Map<"u"&&n instanceof Map?k.map:typeof Set<"u"&&n instanceof Set?k.set:typeof Date<"u"&&n instanceof Date?k.date:k.object;default:return k.unknown}},I=G.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Re extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=o=>{this.issues=[...this.issues,o]},this.addIssues=(o=[])=>{this.issues=[...this.issues,...o]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(r){return r.message},o={_errors:[]},i=r=>{for(const l of r.issues)if(l.code==="invalid_union")l.unionErrors.map(i);else if(l.code==="invalid_return_type")i(l.returnTypeError);else if(l.code==="invalid_arguments")i(l.argumentsError);else if(l.path.length===0)o._errors.push(t(l));else{let u=o,f=0;for(;f<l.path.length;){const c=l.path[f];f===l.path.length-1?(u[c]=u[c]||{_errors:[]},u[c]._errors.push(t(l))):u[c]=u[c]||{_errors:[]},u=u[c],f++}}};return i(this),o}static assert(e){if(!(e instanceof Re))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,G.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},o=[];for(const i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):o.push(e(i));return{formErrors:o,fieldErrors:t}}get formErrors(){return this.flatten()}}Re.create=n=>new Re(n);const Pn=(n,e)=>{let t;switch(n.code){case I.invalid_type:n.received===k.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case I.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,G.jsonStringifyReplacer)}`;break;case I.unrecognized_keys:t=`Unrecognized key(s) in object: ${G.joinValues(n.keys,", ")}`;break;case I.invalid_union:t="Invalid input";break;case I.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${G.joinValues(n.options)}`;break;case I.invalid_enum_value:t=`Invalid enum value. Expected ${G.joinValues(n.options)}, received '${n.received}'`;break;case I.invalid_arguments:t="Invalid function arguments";break;case I.invalid_return_type:t="Invalid function return type";break;case I.invalid_date:t="Invalid date";break;case I.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:G.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case I.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case I.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case I.custom:t="Invalid input";break;case I.invalid_intersection_types:t="Intersection results could not be merged";break;case I.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case I.not_finite:t="Number must be finite";break;default:t=e.defaultError,G.assertNever(n)}return{message:t}};let Zs=Pn;function Xs(){return Zs}const Qs=n=>{const{data:e,path:t,errorMaps:o,issueData:i}=n,r=[...t,...i.path||[]],l={...i,path:r};if(i.message!==void 0)return{...i,path:r,message:i.message};let u="";const f=o.filter(c=>!!c).slice().reverse();for(const c of f)u=c(l,{data:e,defaultError:u}).message;return{...i,path:r,message:u}};function P(n,e){const t=Xs(),o=Qs({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===Pn?void 0:Pn].filter(i=>!!i)});n.common.issues.push(o)}class ue{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const o=[];for(const i of t){if(i.status==="aborted")return L;i.status==="dirty"&&e.dirty(),o.push(i.value)}return{status:e.value,value:o}}static async mergeObjectAsync(e,t){const o=[];for(const i of t){const r=await i.key,l=await i.value;o.push({key:r,value:l})}return ue.mergeObjectSync(e,o)}static mergeObjectSync(e,t){const o={};for(const i of t){const{key:r,value:l}=i;if(r.status==="aborted"||l.status==="aborted")return L;r.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),r.value!=="__proto__"&&(typeof l.value<"u"||i.alwaysSet)&&(o[r.value]=l.value)}return{status:e.value,value:o}}}const L=Object.freeze({status:"aborted"}),yt=n=>({status:"dirty",value:n}),ge=n=>({status:"valid",value:n}),bo=n=>n.status==="aborted",Fo=n=>n.status==="dirty",ot=n=>n.status==="valid",Jt=n=>typeof Promise<"u"&&n instanceof Promise;var N;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(N||(N={}));class Me{constructor(e,t,o,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=o,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Lo=(n,e)=>{if(ot(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Re(n.common.issues);return this._error=t,this._error}}};function U(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:o,description:i}=n;if(e&&(t||o))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(l,u)=>{const{message:f}=n;return l.code==="invalid_enum_value"?{message:f??u.defaultError}:typeof u.data>"u"?{message:f??o??u.defaultError}:l.code!=="invalid_type"?{message:u.defaultError}:{message:f??t??u.defaultError}},description:i}}class B{get description(){return this._def.description}_getType(e){return be(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:be(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ue,ctx:{common:e.parent.common,data:e.data,parsedType:be(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Jt(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const o=this.safeParse(e,t);if(o.success)return o.data;throw o.error}safeParse(e,t){const o={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:be(e)},i=this._parseSync({data:e,path:o.path,parent:o});return Lo(o,i)}"~validate"(e){var o,i;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:be(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:t});return ot(r)?{value:r.value}:{issues:t.common.issues}}catch(r){(i=(o=r==null?void 0:r.message)==null?void 0:o.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(r=>ot(r)?{value:r.value}:{issues:t.common.issues})}async parseAsync(e,t){const o=await this.safeParseAsync(e,t);if(o.success)return o.data;throw o.error}async safeParseAsync(e,t){const o={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:be(e)},i=this._parse({data:e,path:o.path,parent:o}),r=await(Jt(i)?i:Promise.resolve(i));return Lo(o,r)}refine(e,t){const o=i=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(i):t;return this._refinement((i,r)=>{const l=e(i),u=()=>r.addIssue({code:I.custom,...o(i)});return typeof Promise<"u"&&l instanceof Promise?l.then(f=>f?!0:(u(),!1)):l?!0:(u(),!1)})}refinement(e,t){return this._refinement((o,i)=>e(o)?!0:(i.addIssue(typeof t=="function"?t(o,i):t),!1))}_refinement(e){return new st({schema:this,typeName:F.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return Fe.create(this,this._def)}nullable(){return at.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ae.create(this)}promise(){return Xt.create(this,this._def)}or(e){return zt.create([this,e],this._def)}and(e){return Yt.create(this,e,this._def)}transform(e){return new st({...U(this._def),schema:this,typeName:F.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new bn({...U(this._def),innerType:this,defaultValue:t,typeName:F.ZodDefault})}brand(){return new _a({typeName:F.ZodBranded,type:this,...U(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new Fn({...U(this._def),innerType:this,catchValue:t,typeName:F.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return io.create(this,e)}readonly(){return Ln.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const js=/^c[^\s-]{8,}$/i,ea=/^[0-9a-z]+$/,ta=/^[0-9A-HJKMNP-TV-Z]{26}$/i,na=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,oa=/^[a-z0-9_-]{21}$/i,ia=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ra=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,sa=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,aa="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let _n;const la=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ua=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ca=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,fa=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,da=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,pa=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Fr="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ma=new RegExp(`^${Fr}$`);function Lr(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const t=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function ha(n){return new RegExp(`^${Lr(n)}$`)}function ga(n){let e=`${Fr}T${Lr(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function ya(n,e){return!!((e==="v4"||!e)&&la.test(n)||(e==="v6"||!e)&&ca.test(n))}function va(n,e){if(!ia.test(n))return!1;try{const[t]=n.split("."),o=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),i=JSON.parse(atob(o));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function Ca(n,e){return!!((e==="v4"||!e)&&ua.test(n)||(e==="v6"||!e)&&fa.test(n))}class Ee extends B{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==k.string){const r=this._getOrReturnCtx(e);return P(r,{code:I.invalid_type,expected:k.string,received:r.parsedType}),L}const o=new ue;let i;for(const r of this._def.checks)if(r.kind==="min")e.data.length<r.value&&(i=this._getOrReturnCtx(e,i),P(i,{code:I.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),o.dirty());else if(r.kind==="max")e.data.length>r.value&&(i=this._getOrReturnCtx(e,i),P(i,{code:I.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),o.dirty());else if(r.kind==="length"){const l=e.data.length>r.value,u=e.data.length<r.value;(l||u)&&(i=this._getOrReturnCtx(e,i),l?P(i,{code:I.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):u&&P(i,{code:I.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),o.dirty())}else if(r.kind==="email")sa.test(e.data)||(i=this._getOrReturnCtx(e,i),P(i,{validation:"email",code:I.invalid_string,message:r.message}),o.dirty());else if(r.kind==="emoji")_n||(_n=new RegExp(aa,"u")),_n.test(e.data)||(i=this._getOrReturnCtx(e,i),P(i,{validation:"emoji",code:I.invalid_string,message:r.message}),o.dirty());else if(r.kind==="uuid")na.test(e.data)||(i=this._getOrReturnCtx(e,i),P(i,{validation:"uuid",code:I.invalid_string,message:r.message}),o.dirty());else if(r.kind==="nanoid")oa.test(e.data)||(i=this._getOrReturnCtx(e,i),P(i,{validation:"nanoid",code:I.invalid_string,message:r.message}),o.dirty());else if(r.kind==="cuid")js.test(e.data)||(i=this._getOrReturnCtx(e,i),P(i,{validation:"cuid",code:I.invalid_string,message:r.message}),o.dirty());else if(r.kind==="cuid2")ea.test(e.data)||(i=this._getOrReturnCtx(e,i),P(i,{validation:"cuid2",code:I.invalid_string,message:r.message}),o.dirty());else if(r.kind==="ulid")ta.test(e.data)||(i=this._getOrReturnCtx(e,i),P(i,{validation:"ulid",code:I.invalid_string,message:r.message}),o.dirty());else if(r.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),P(i,{validation:"url",code:I.invalid_string,message:r.message}),o.dirty()}else r.kind==="regex"?(r.regex.lastIndex=0,r.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),P(i,{validation:"regex",code:I.invalid_string,message:r.message}),o.dirty())):r.kind==="trim"?e.data=e.data.trim():r.kind==="includes"?e.data.includes(r.value,r.position)||(i=this._getOrReturnCtx(e,i),P(i,{code:I.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),o.dirty()):r.kind==="toLowerCase"?e.data=e.data.toLowerCase():r.kind==="toUpperCase"?e.data=e.data.toUpperCase():r.kind==="startsWith"?e.data.startsWith(r.value)||(i=this._getOrReturnCtx(e,i),P(i,{code:I.invalid_string,validation:{startsWith:r.value},message:r.message}),o.dirty()):r.kind==="endsWith"?e.data.endsWith(r.value)||(i=this._getOrReturnCtx(e,i),P(i,{code:I.invalid_string,validation:{endsWith:r.value},message:r.message}),o.dirty()):r.kind==="datetime"?ga(r).test(e.data)||(i=this._getOrReturnCtx(e,i),P(i,{code:I.invalid_string,validation:"datetime",message:r.message}),o.dirty()):r.kind==="date"?ma.test(e.data)||(i=this._getOrReturnCtx(e,i),P(i,{code:I.invalid_string,validation:"date",message:r.message}),o.dirty()):r.kind==="time"?ha(r).test(e.data)||(i=this._getOrReturnCtx(e,i),P(i,{code:I.invalid_string,validation:"time",message:r.message}),o.dirty()):r.kind==="duration"?ra.test(e.data)||(i=this._getOrReturnCtx(e,i),P(i,{validation:"duration",code:I.invalid_string,message:r.message}),o.dirty()):r.kind==="ip"?ya(e.data,r.version)||(i=this._getOrReturnCtx(e,i),P(i,{validation:"ip",code:I.invalid_string,message:r.message}),o.dirty()):r.kind==="jwt"?va(e.data,r.alg)||(i=this._getOrReturnCtx(e,i),P(i,{validation:"jwt",code:I.invalid_string,message:r.message}),o.dirty()):r.kind==="cidr"?Ca(e.data,r.version)||(i=this._getOrReturnCtx(e,i),P(i,{validation:"cidr",code:I.invalid_string,message:r.message}),o.dirty()):r.kind==="base64"?da.test(e.data)||(i=this._getOrReturnCtx(e,i),P(i,{validation:"base64",code:I.invalid_string,message:r.message}),o.dirty()):r.kind==="base64url"?pa.test(e.data)||(i=this._getOrReturnCtx(e,i),P(i,{validation:"base64url",code:I.invalid_string,message:r.message}),o.dirty()):G.assertNever(r);return{status:o.value,value:e.data}}_regex(e,t,o){return this.refinement(i=>e.test(i),{validation:t,code:I.invalid_string,...N.errToObj(o)})}_addCheck(e){return new Ee({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...N.errToObj(e)})}url(e){return this._addCheck({kind:"url",...N.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...N.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...N.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...N.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...N.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...N.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...N.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...N.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...N.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...N.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...N.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...N.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...N.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...N.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...N.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...N.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...N.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...N.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...N.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...N.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...N.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...N.errToObj(t)})}nonempty(e){return this.min(1,N.errToObj(e))}trim(){return new Ee({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ee({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ee({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Ee.create=n=>new Ee({checks:[],typeName:F.ZodString,coerce:(n==null?void 0:n.coerce)??!1,...U(n)});function Ta(n,e){const t=(n.toString().split(".")[1]||"").length,o=(e.toString().split(".")[1]||"").length,i=t>o?t:o,r=Number.parseInt(n.toFixed(i).replace(".","")),l=Number.parseInt(e.toFixed(i).replace(".",""));return r%l/10**i}class Be extends B{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==k.number){const r=this._getOrReturnCtx(e);return P(r,{code:I.invalid_type,expected:k.number,received:r.parsedType}),L}let o;const i=new ue;for(const r of this._def.checks)r.kind==="int"?G.isInteger(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{code:I.invalid_type,expected:"integer",received:"float",message:r.message}),i.dirty()):r.kind==="min"?(r.inclusive?e.data<r.value:e.data<=r.value)&&(o=this._getOrReturnCtx(e,o),P(o,{code:I.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),i.dirty()):r.kind==="max"?(r.inclusive?e.data>r.value:e.data>=r.value)&&(o=this._getOrReturnCtx(e,o),P(o,{code:I.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),i.dirty()):r.kind==="multipleOf"?Ta(e.data,r.value)!==0&&(o=this._getOrReturnCtx(e,o),P(o,{code:I.not_multiple_of,multipleOf:r.value,message:r.message}),i.dirty()):r.kind==="finite"?Number.isFinite(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{code:I.not_finite,message:r.message}),i.dirty()):G.assertNever(r);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,N.toString(t))}gt(e,t){return this.setLimit("min",e,!1,N.toString(t))}lte(e,t){return this.setLimit("max",e,!0,N.toString(t))}lt(e,t){return this.setLimit("max",e,!1,N.toString(t))}setLimit(e,t,o,i){return new Be({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:o,message:N.toString(i)}]})}_addCheck(e){return new Be({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:N.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:N.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:N.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:N.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:N.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:N.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:N.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:N.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:N.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&G.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const o of this._def.checks){if(o.kind==="finite"||o.kind==="int"||o.kind==="multipleOf")return!0;o.kind==="min"?(t===null||o.value>t)&&(t=o.value):o.kind==="max"&&(e===null||o.value<e)&&(e=o.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Be.create=n=>new Be({checks:[],typeName:F.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...U(n)});class Ge extends B{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==k.bigint)return this._getInvalidInput(e);let o;const i=new ue;for(const r of this._def.checks)r.kind==="min"?(r.inclusive?e.data<r.value:e.data<=r.value)&&(o=this._getOrReturnCtx(e,o),P(o,{code:I.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),i.dirty()):r.kind==="max"?(r.inclusive?e.data>r.value:e.data>=r.value)&&(o=this._getOrReturnCtx(e,o),P(o,{code:I.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),i.dirty()):r.kind==="multipleOf"?e.data%r.value!==BigInt(0)&&(o=this._getOrReturnCtx(e,o),P(o,{code:I.not_multiple_of,multipleOf:r.value,message:r.message}),i.dirty()):G.assertNever(r);return{status:i.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return P(t,{code:I.invalid_type,expected:k.bigint,received:t.parsedType}),L}gte(e,t){return this.setLimit("min",e,!0,N.toString(t))}gt(e,t){return this.setLimit("min",e,!1,N.toString(t))}lte(e,t){return this.setLimit("max",e,!0,N.toString(t))}lt(e,t){return this.setLimit("max",e,!1,N.toString(t))}setLimit(e,t,o,i){return new Ge({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:o,message:N.toString(i)}]})}_addCheck(e){return new Ge({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:N.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:N.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:N.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:N.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:N.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Ge.create=n=>new Ge({checks:[],typeName:F.ZodBigInt,coerce:(n==null?void 0:n.coerce)??!1,...U(n)});class Kt extends B{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==k.boolean){const o=this._getOrReturnCtx(e);return P(o,{code:I.invalid_type,expected:k.boolean,received:o.parsedType}),L}return ge(e.data)}}Kt.create=n=>new Kt({typeName:F.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...U(n)});class it extends B{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==k.date){const r=this._getOrReturnCtx(e);return P(r,{code:I.invalid_type,expected:k.date,received:r.parsedType}),L}if(Number.isNaN(e.data.getTime())){const r=this._getOrReturnCtx(e);return P(r,{code:I.invalid_date}),L}const o=new ue;let i;for(const r of this._def.checks)r.kind==="min"?e.data.getTime()<r.value&&(i=this._getOrReturnCtx(e,i),P(i,{code:I.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),o.dirty()):r.kind==="max"?e.data.getTime()>r.value&&(i=this._getOrReturnCtx(e,i),P(i,{code:I.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),o.dirty()):G.assertNever(r);return{status:o.value,value:new Date(e.data.getTime())}}_addCheck(e){return new it({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:N.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:N.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}it.create=n=>new it({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:F.ZodDate,...U(n)});class Vo extends B{_parse(e){if(this._getType(e)!==k.symbol){const o=this._getOrReturnCtx(e);return P(o,{code:I.invalid_type,expected:k.symbol,received:o.parsedType}),L}return ge(e.data)}}Vo.create=n=>new Vo({typeName:F.ZodSymbol,...U(n)});class Uo extends B{_parse(e){if(this._getType(e)!==k.undefined){const o=this._getOrReturnCtx(e);return P(o,{code:I.invalid_type,expected:k.undefined,received:o.parsedType}),L}return ge(e.data)}}Uo.create=n=>new Uo({typeName:F.ZodUndefined,...U(n)});class $o extends B{_parse(e){if(this._getType(e)!==k.null){const o=this._getOrReturnCtx(e);return P(o,{code:I.invalid_type,expected:k.null,received:o.parsedType}),L}return ge(e.data)}}$o.create=n=>new $o({typeName:F.ZodNull,...U(n)});class Bo extends B{constructor(){super(...arguments),this._any=!0}_parse(e){return ge(e.data)}}Bo.create=n=>new Bo({typeName:F.ZodAny,...U(n)});class kn extends B{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ge(e.data)}}kn.create=n=>new kn({typeName:F.ZodUnknown,...U(n)});class Le extends B{_parse(e){const t=this._getOrReturnCtx(e);return P(t,{code:I.invalid_type,expected:k.never,received:t.parsedType}),L}}Le.create=n=>new Le({typeName:F.ZodNever,...U(n)});class Go extends B{_parse(e){if(this._getType(e)!==k.undefined){const o=this._getOrReturnCtx(e);return P(o,{code:I.invalid_type,expected:k.void,received:o.parsedType}),L}return ge(e.data)}}Go.create=n=>new Go({typeName:F.ZodVoid,...U(n)});class Ae extends B{_parse(e){const{ctx:t,status:o}=this._processInputParams(e),i=this._def;if(t.parsedType!==k.array)return P(t,{code:I.invalid_type,expected:k.array,received:t.parsedType}),L;if(i.exactLength!==null){const l=t.data.length>i.exactLength.value,u=t.data.length<i.exactLength.value;(l||u)&&(P(t,{code:l?I.too_big:I.too_small,minimum:u?i.exactLength.value:void 0,maximum:l?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),o.dirty())}if(i.minLength!==null&&t.data.length<i.minLength.value&&(P(t,{code:I.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),o.dirty()),i.maxLength!==null&&t.data.length>i.maxLength.value&&(P(t,{code:I.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),o.dirty()),t.common.async)return Promise.all([...t.data].map((l,u)=>i.type._parseAsync(new Me(t,l,t.path,u)))).then(l=>ue.mergeArray(o,l));const r=[...t.data].map((l,u)=>i.type._parseSync(new Me(t,l,t.path,u)));return ue.mergeArray(o,r)}get element(){return this._def.type}min(e,t){return new Ae({...this._def,minLength:{value:e,message:N.toString(t)}})}max(e,t){return new Ae({...this._def,maxLength:{value:e,message:N.toString(t)}})}length(e,t){return new Ae({...this._def,exactLength:{value:e,message:N.toString(t)}})}nonempty(e){return this.min(1,e)}}Ae.create=(n,e)=>new Ae({type:n,minLength:null,maxLength:null,exactLength:null,typeName:F.ZodArray,...U(e)});function Xe(n){if(n instanceof ie){const e={};for(const t in n.shape){const o=n.shape[t];e[t]=Fe.create(Xe(o))}return new ie({...n._def,shape:()=>e})}else return n instanceof Ae?new Ae({...n._def,type:Xe(n.element)}):n instanceof Fe?Fe.create(Xe(n.unwrap())):n instanceof at?at.create(Xe(n.unwrap())):n instanceof Oe?Oe.create(n.items.map(e=>Xe(e))):n}class ie extends B{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=G.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==k.object){const c=this._getOrReturnCtx(e);return P(c,{code:I.invalid_type,expected:k.object,received:c.parsedType}),L}const{status:o,ctx:i}=this._processInputParams(e),{shape:r,keys:l}=this._getCached(),u=[];if(!(this._def.catchall instanceof Le&&this._def.unknownKeys==="strip"))for(const c in i.data)l.includes(c)||u.push(c);const f=[];for(const c of l){const d=r[c],p=i.data[c];f.push({key:{status:"valid",value:c},value:d._parse(new Me(i,p,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Le){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of u)f.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(c==="strict")u.length>0&&(P(i,{code:I.unrecognized_keys,keys:u}),o.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of u){const p=i.data[d];f.push({key:{status:"valid",value:d},value:c._parse(new Me(i,p,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of f){const p=await d.key,m=await d.value;c.push({key:p,value:m,alwaysSet:d.alwaysSet})}return c}).then(c=>ue.mergeObjectSync(o,c)):ue.mergeObjectSync(o,f)}get shape(){return this._def.shape()}strict(e){return N.errToObj,new ie({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,o)=>{var r,l;const i=((l=(r=this._def).errorMap)==null?void 0:l.call(r,t,o).message)??o.defaultError;return t.code==="unrecognized_keys"?{message:N.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new ie({...this._def,unknownKeys:"strip"})}passthrough(){return new ie({...this._def,unknownKeys:"passthrough"})}extend(e){return new ie({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ie({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:F.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new ie({...this._def,catchall:e})}pick(e){const t={};for(const o of G.objectKeys(e))e[o]&&this.shape[o]&&(t[o]=this.shape[o]);return new ie({...this._def,shape:()=>t})}omit(e){const t={};for(const o of G.objectKeys(this.shape))e[o]||(t[o]=this.shape[o]);return new ie({...this._def,shape:()=>t})}deepPartial(){return Xe(this)}partial(e){const t={};for(const o of G.objectKeys(this.shape)){const i=this.shape[o];e&&!e[o]?t[o]=i:t[o]=i.optional()}return new ie({...this._def,shape:()=>t})}required(e){const t={};for(const o of G.objectKeys(this.shape))if(e&&!e[o])t[o]=this.shape[o];else{let r=this.shape[o];for(;r instanceof Fe;)r=r._def.innerType;t[o]=r}return new ie({...this._def,shape:()=>t})}keyof(){return Vr(G.objectKeys(this.shape))}}ie.create=(n,e)=>new ie({shape:()=>n,unknownKeys:"strip",catchall:Le.create(),typeName:F.ZodObject,...U(e)});ie.strictCreate=(n,e)=>new ie({shape:()=>n,unknownKeys:"strict",catchall:Le.create(),typeName:F.ZodObject,...U(e)});ie.lazycreate=(n,e)=>new ie({shape:n,unknownKeys:"strip",catchall:Le.create(),typeName:F.ZodObject,...U(e)});class zt extends B{_parse(e){const{ctx:t}=this._processInputParams(e),o=this._def.options;function i(r){for(const u of r)if(u.result.status==="valid")return u.result;for(const u of r)if(u.result.status==="dirty")return t.common.issues.push(...u.ctx.common.issues),u.result;const l=r.map(u=>new Re(u.ctx.common.issues));return P(t,{code:I.invalid_union,unionErrors:l}),L}if(t.common.async)return Promise.all(o.map(async r=>{const l={...t,common:{...t.common,issues:[]},parent:null};return{result:await r._parseAsync({data:t.data,path:t.path,parent:l}),ctx:l}})).then(i);{let r;const l=[];for(const f of o){const c={...t,common:{...t.common,issues:[]},parent:null},d=f._parseSync({data:t.data,path:t.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!r&&(r={result:d,ctx:c}),c.common.issues.length&&l.push(c.common.issues)}if(r)return t.common.issues.push(...r.ctx.common.issues),r.result;const u=l.map(f=>new Re(f));return P(t,{code:I.invalid_union,unionErrors:u}),L}}get options(){return this._def.options}}zt.create=(n,e)=>new zt({options:n,typeName:F.ZodUnion,...U(e)});function Nn(n,e){const t=be(n),o=be(e);if(n===e)return{valid:!0,data:n};if(t===k.object&&o===k.object){const i=G.objectKeys(e),r=G.objectKeys(n).filter(u=>i.indexOf(u)!==-1),l={...n,...e};for(const u of r){const f=Nn(n[u],e[u]);if(!f.valid)return{valid:!1};l[u]=f.data}return{valid:!0,data:l}}else if(t===k.array&&o===k.array){if(n.length!==e.length)return{valid:!1};const i=[];for(let r=0;r<n.length;r++){const l=n[r],u=e[r],f=Nn(l,u);if(!f.valid)return{valid:!1};i.push(f.data)}return{valid:!0,data:i}}else return t===k.date&&o===k.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class Yt extends B{_parse(e){const{status:t,ctx:o}=this._processInputParams(e),i=(r,l)=>{if(bo(r)||bo(l))return L;const u=Nn(r.value,l.value);return u.valid?((Fo(r)||Fo(l))&&t.dirty(),{status:t.value,value:u.data}):(P(o,{code:I.invalid_intersection_types}),L)};return o.common.async?Promise.all([this._def.left._parseAsync({data:o.data,path:o.path,parent:o}),this._def.right._parseAsync({data:o.data,path:o.path,parent:o})]).then(([r,l])=>i(r,l)):i(this._def.left._parseSync({data:o.data,path:o.path,parent:o}),this._def.right._parseSync({data:o.data,path:o.path,parent:o}))}}Yt.create=(n,e,t)=>new Yt({left:n,right:e,typeName:F.ZodIntersection,...U(t)});class Oe extends B{_parse(e){const{status:t,ctx:o}=this._processInputParams(e);if(o.parsedType!==k.array)return P(o,{code:I.invalid_type,expected:k.array,received:o.parsedType}),L;if(o.data.length<this._def.items.length)return P(o,{code:I.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),L;!this._def.rest&&o.data.length>this._def.items.length&&(P(o,{code:I.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...o.data].map((l,u)=>{const f=this._def.items[u]||this._def.rest;return f?f._parse(new Me(o,l,o.path,u)):null}).filter(l=>!!l);return o.common.async?Promise.all(r).then(l=>ue.mergeArray(t,l)):ue.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new Oe({...this._def,rest:e})}}Oe.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Oe({items:n,typeName:F.ZodTuple,rest:null,...U(e)})};class Zt extends B{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:o}=this._processInputParams(e);if(o.parsedType!==k.object)return P(o,{code:I.invalid_type,expected:k.object,received:o.parsedType}),L;const i=[],r=this._def.keyType,l=this._def.valueType;for(const u in o.data)i.push({key:r._parse(new Me(o,u,o.path,u)),value:l._parse(new Me(o,o.data[u],o.path,u)),alwaysSet:u in o.data});return o.common.async?ue.mergeObjectAsync(t,i):ue.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,o){return t instanceof B?new Zt({keyType:e,valueType:t,typeName:F.ZodRecord,...U(o)}):new Zt({keyType:Ee.create(),valueType:e,typeName:F.ZodRecord,...U(t)})}}class Oo extends B{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:o}=this._processInputParams(e);if(o.parsedType!==k.map)return P(o,{code:I.invalid_type,expected:k.map,received:o.parsedType}),L;const i=this._def.keyType,r=this._def.valueType,l=[...o.data.entries()].map(([u,f],c)=>({key:i._parse(new Me(o,u,o.path,[c,"key"])),value:r._parse(new Me(o,f,o.path,[c,"value"]))}));if(o.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const f of l){const c=await f.key,d=await f.value;if(c.status==="aborted"||d.status==="aborted")return L;(c.status==="dirty"||d.status==="dirty")&&t.dirty(),u.set(c.value,d.value)}return{status:t.value,value:u}})}else{const u=new Map;for(const f of l){const c=f.key,d=f.value;if(c.status==="aborted"||d.status==="aborted")return L;(c.status==="dirty"||d.status==="dirty")&&t.dirty(),u.set(c.value,d.value)}return{status:t.value,value:u}}}}Oo.create=(n,e,t)=>new Oo({valueType:e,keyType:n,typeName:F.ZodMap,...U(t)});class Et extends B{_parse(e){const{status:t,ctx:o}=this._processInputParams(e);if(o.parsedType!==k.set)return P(o,{code:I.invalid_type,expected:k.set,received:o.parsedType}),L;const i=this._def;i.minSize!==null&&o.data.size<i.minSize.value&&(P(o,{code:I.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),i.maxSize!==null&&o.data.size>i.maxSize.value&&(P(o,{code:I.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());const r=this._def.valueType;function l(f){const c=new Set;for(const d of f){if(d.status==="aborted")return L;d.status==="dirty"&&t.dirty(),c.add(d.value)}return{status:t.value,value:c}}const u=[...o.data.values()].map((f,c)=>r._parse(new Me(o,f,o.path,c)));return o.common.async?Promise.all(u).then(f=>l(f)):l(u)}min(e,t){return new Et({...this._def,minSize:{value:e,message:N.toString(t)}})}max(e,t){return new Et({...this._def,maxSize:{value:e,message:N.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Et.create=(n,e)=>new Et({valueType:n,minSize:null,maxSize:null,typeName:F.ZodSet,...U(e)});class Dn extends B{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Dn.create=(n,e)=>new Dn({getter:n,typeName:F.ZodLazy,...U(e)});class qo extends B{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return P(t,{received:t.data,code:I.invalid_literal,expected:this._def.value}),L}return{status:"valid",value:e.data}}get value(){return this._def.value}}qo.create=(n,e)=>new qo({value:n,typeName:F.ZodLiteral,...U(e)});function Vr(n,e){return new rt({values:n,typeName:F.ZodEnum,...U(e)})}class rt extends B{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),o=this._def.values;return P(t,{expected:G.joinValues(o),received:t.parsedType,code:I.invalid_type}),L}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),o=this._def.values;return P(t,{received:t.data,code:I.invalid_enum_value,options:o}),L}return ge(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return rt.create(e,{...this._def,...t})}exclude(e,t=this._def){return rt.create(this.options.filter(o=>!e.includes(o)),{...this._def,...t})}}rt.create=Vr;class Ho extends B{_parse(e){const t=G.getValidEnumValues(this._def.values),o=this._getOrReturnCtx(e);if(o.parsedType!==k.string&&o.parsedType!==k.number){const i=G.objectValues(t);return P(o,{expected:G.joinValues(i),received:o.parsedType,code:I.invalid_type}),L}if(this._cache||(this._cache=new Set(G.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=G.objectValues(t);return P(o,{received:o.data,code:I.invalid_enum_value,options:i}),L}return ge(e.data)}get enum(){return this._def.values}}Ho.create=(n,e)=>new Ho({values:n,typeName:F.ZodNativeEnum,...U(e)});class Xt extends B{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==k.promise&&t.common.async===!1)return P(t,{code:I.invalid_type,expected:k.promise,received:t.parsedType}),L;const o=t.parsedType===k.promise?t.data:Promise.resolve(t.data);return ge(o.then(i=>this._def.type.parseAsync(i,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Xt.create=(n,e)=>new Xt({type:n,typeName:F.ZodPromise,...U(e)});class st extends B{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===F.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:o}=this._processInputParams(e),i=this._def.effect||null,r={addIssue:l=>{P(o,l),l.fatal?t.abort():t.dirty()},get path(){return o.path}};if(r.addIssue=r.addIssue.bind(r),i.type==="preprocess"){const l=i.transform(o.data,r);if(o.common.async)return Promise.resolve(l).then(async u=>{if(t.value==="aborted")return L;const f=await this._def.schema._parseAsync({data:u,path:o.path,parent:o});return f.status==="aborted"?L:f.status==="dirty"||t.value==="dirty"?yt(f.value):f});{if(t.value==="aborted")return L;const u=this._def.schema._parseSync({data:l,path:o.path,parent:o});return u.status==="aborted"?L:u.status==="dirty"||t.value==="dirty"?yt(u.value):u}}if(i.type==="refinement"){const l=u=>{const f=i.refinement(u,r);if(o.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(o.common.async===!1){const u=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});return u.status==="aborted"?L:(u.status==="dirty"&&t.dirty(),l(u.value),{status:t.value,value:u.value})}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(u=>u.status==="aborted"?L:(u.status==="dirty"&&t.dirty(),l(u.value).then(()=>({status:t.value,value:u.value}))))}if(i.type==="transform")if(o.common.async===!1){const l=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});if(!ot(l))return L;const u=i.transform(l.value,r);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:u}}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(l=>ot(l)?Promise.resolve(i.transform(l.value,r)).then(u=>({status:t.value,value:u})):L);G.assertNever(i)}}st.create=(n,e,t)=>new st({schema:n,typeName:F.ZodEffects,effect:e,...U(t)});st.createWithPreprocess=(n,e,t)=>new st({schema:e,effect:{type:"preprocess",transform:n},typeName:F.ZodEffects,...U(t)});class Fe extends B{_parse(e){return this._getType(e)===k.undefined?ge(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Fe.create=(n,e)=>new Fe({innerType:n,typeName:F.ZodOptional,...U(e)});class at extends B{_parse(e){return this._getType(e)===k.null?ge(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}at.create=(n,e)=>new at({innerType:n,typeName:F.ZodNullable,...U(e)});class bn extends B{_parse(e){const{ctx:t}=this._processInputParams(e);let o=t.data;return t.parsedType===k.undefined&&(o=this._def.defaultValue()),this._def.innerType._parse({data:o,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}bn.create=(n,e)=>new bn({innerType:n,typeName:F.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...U(e)});class Fn extends B{_parse(e){const{ctx:t}=this._processInputParams(e),o={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:o.data,path:o.path,parent:{...o}});return Jt(i)?i.then(r=>({status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new Re(o.common.issues)},input:o.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Re(o.common.issues)},input:o.data})}}removeCatch(){return this._def.innerType}}Fn.create=(n,e)=>new Fn({innerType:n,typeName:F.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...U(e)});class Wo extends B{_parse(e){if(this._getType(e)!==k.nan){const o=this._getOrReturnCtx(e);return P(o,{code:I.invalid_type,expected:k.nan,received:o.parsedType}),L}return{status:"valid",value:e.data}}}Wo.create=n=>new Wo({typeName:F.ZodNaN,...U(n)});class _a extends B{_parse(e){const{ctx:t}=this._processInputParams(e),o=t.data;return this._def.type._parse({data:o,path:t.path,parent:t})}unwrap(){return this._def.type}}class io extends B{_parse(e){const{status:t,ctx:o}=this._processInputParams(e);if(o.common.async)return(async()=>{const r=await this._def.in._parseAsync({data:o.data,path:o.path,parent:o});return r.status==="aborted"?L:r.status==="dirty"?(t.dirty(),yt(r.value)):this._def.out._parseAsync({data:r.value,path:o.path,parent:o})})();{const i=this._def.in._parseSync({data:o.data,path:o.path,parent:o});return i.status==="aborted"?L:i.status==="dirty"?(t.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:o.path,parent:o})}}static create(e,t){return new io({in:e,out:t,typeName:F.ZodPipeline})}}class Ln extends B{_parse(e){const t=this._def.innerType._parse(e),o=i=>(ot(i)&&(i.value=Object.freeze(i.value)),i);return Jt(t)?t.then(i=>o(i)):o(t)}unwrap(){return this._def.innerType}}Ln.create=(n,e)=>new Ln({innerType:n,typeName:F.ZodReadonly,...U(e)});var F;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(F||(F={}));const $e=Ee.create,Jo=Be.create;Ge.create;const Sa=Kt.create;it.create;const Ko=kn.create;Le.create;const vt=Ae.create,Ea=ie.create,xa=zt.create;Yt.create;Oe.create;const Aa=Zt.create,Ia=Dn.create,Ma=rt.create;Xt.create;Fe.create;at.create;const We={string:n=>Ee.create({...n,coerce:!0}),number:n=>Be.create({...n,coerce:!0}),boolean:n=>Kt.create({...n,coerce:!0}),bigint:n=>Ge.create({...n,coerce:!0}),date:n=>it.create({...n,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let wa,Ra;function Pa(){return{geminiUrl:wa,vertexUrl:Ra}}function ka(n,e,t){var o,i,r;if(!(!((o=n.httpOptions)===null||o===void 0)&&o.baseUrl)){const l=Pa();return n.vertexai?(i=l.vertexUrl)!==null&&i!==void 0?i:e:(r=l.geminiUrl)!==null&&r!==void 0?r:t}return n.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ct{}function b(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(o,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const r=e[i];return r!=null?String(r):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function a(n,e,t){for(let r=0;r<e.length-1;r++){const l=e[r];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in n))if(Array.isArray(t))n[u]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(n[u])){const f=n[u];if(Array.isArray(t))for(let c=0;c<f.length;c++){const d=f[c];a(d,e.slice(r+1),t[c])}else for(const c of f)a(c,e.slice(r+1),t)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in n||(n[u]=[{}]);const f=n[u];a(f[0],e.slice(r+1),t);return}(!n[l]||typeof n[l]!="object")&&(n[l]={}),n=n[l]}const o=e[e.length-1],i=n[o];if(i!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===i)return;if(typeof i=="object"&&typeof t=="object"&&i!==null&&t!==null)Object.assign(i,t);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else n[o]=t}function s(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let t=0;t<e.length;t++){if(typeof n!="object"||n===null)return;const o=e[t];if(o.endsWith("[]")){const i=o.slice(0,-2);if(i in n){const r=n[i];return Array.isArray(r)?r.map(l=>s(l,e.slice(t+1))):void 0}else return}else n=n[o]}return n}catch(t){if(t instanceof TypeError)return;throw t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var zo;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(zo||(zo={}));var Yo;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Yo||(Yo={}));var xe;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(xe||(xe={}));var Zo;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Zo||(Zo={}));var Xo;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Xo||(Xo={}));var Qo;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Qo||(Qo={}));var jo;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(jo||(jo={}));var ei;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(ei||(ei={}));var ti;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(ti||(ti={}));var ni;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(ni||(ni={}));var oi;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(oi||(oi={}));var ii;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(ii||(ii={}));var ri;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(ri||(ri={}));var Qt;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Qt||(Qt={}));var si;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(si||(si={}));var Vn;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Vn||(Vn={}));var ai;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(ai||(ai={}));var li;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(li||(li={}));var ui;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(ui||(ui={}));var ci;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(ci||(ci={}));var fi;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(fi||(fi={}));var di;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(di||(di={}));var pi;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(pi||(pi={}));var mi;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(mi||(mi={}));var hi;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi"})(hi||(hi={}));var gi;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(gi||(gi={}));var yi;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(yi||(yi={}));var vi;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(vi||(vi={}));var Ci;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Ci||(Ci={}));var Ti;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Ti||(Ti={}));var _i;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(_i||(_i={}));var Si;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Si||(Si={}));var Ei;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Ei||(Ei={}));var xi;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(xi||(xi={}));var Ai;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(Ai||(Ai={}));var Ii;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Ii||(Ii={}));var Mi;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Mi||(Mi={}));var wi;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(wi||(wi={}));var Qe;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Qe||(Qe={}));class mt{get text(){var e,t,o,i,r,l,u,f;if(((i=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",d=!1;const p=[];for(const m of(f=(u=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[y,v]of Object.entries(m))y!=="text"&&y!=="thought"&&(v!==null||v!==void 0)&&p.push(y);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;d=!0,c+=m.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?c:void 0}get data(){var e,t,o,i,r,l,u,f;if(((i=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const d=[];for(const p of(f=(u=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[m,y]of Object.entries(p))m!=="inlineData"&&(y!==null||y!==void 0)&&d.push(m);p.inlineData&&typeof p.inlineData.data=="string"&&(c+=atob(p.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,t,o,i,r,l,u,f;if(((i=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(f=(u=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,t,o,i,r,l,u,f,c;if(((i=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(f=(u=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return(c=d==null?void 0:d[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,t,o,i,r,l,u,f,c;if(((i=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(f=(u=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return(c=d==null?void 0:d[0])===null||c===void 0?void 0:c.output}}class Ri{}class Pi{}class Na{}class Da{}class ki{}class Ni{}class Di{}class ba{}class bi{}class Fi{}class Li{}class Fa{}class Un{constructor(e){const t={};for(const o of e.headers.entries())t[o[0]]=o[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class La{}class Va{}class Ua{get text(){var e,t,o;let i="",r=!1;const l=[];for(const u of(o=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&o!==void 0?o:[]){for(const[f,c]of Object.entries(u))f!=="text"&&f!=="thought"&&c!==null&&l.push(f);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;r=!0,i+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),r?i:void 0}get data(){var e,t,o;let i="";const r=[];for(const l of(o=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&o!==void 0?o:[]){for(const[u,f]of Object.entries(l))u!=="inlineData"&&f!==null&&r.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(i+=atob(l.inlineData.data))}return r.length>0&&console.warn(`there are non-data parts ${r} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class $a{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Z(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Ur(n,e){const t=Z(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function $r(n,e){return Array.isArray(e)?e.map(t=>jt(n,t)):[jt(n,e)]}function jt(n,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function Ba(n,e){const t=jt(n,e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Ga(n,e){const t=jt(n,e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Vi(n,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function Br(n,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>Vi(n,t)):[Vi(n,e)]}function $n(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Ui(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function $i(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function le(n,e){if(e==null)throw new Error("ContentUnion is required");return $n(e)?e:{role:"user",parts:Br(n,e)}}function Gr(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const o=le(n,t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(n.isVertexAI()){const t=le(n,e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>le(n,t)):[le(n,e)]}function ve(n,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(Ui(e)||$i(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[le(n,e)]}const t=[],o=[],i=$n(e[0]);for(const r of e){const l=$n(r);if(l!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)t.push(r);else{if(Ui(r)||$i(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return i||t.push({role:"user",parts:Br(n,o)}),t}const Oa=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),Bi=Ma(["string","number","integer","object","array","boolean","null"]),qa=xa([Bi,vt(Bi)]);function Ha(n=!0){const e=Ia(()=>{const t=Ea({type:qa.optional(),format:$e().optional(),title:$e().optional(),description:$e().optional(),default:Ko().optional(),items:e.optional(),minItems:We.string().optional(),maxItems:We.string().optional(),enum:vt(Ko()).optional(),properties:Aa($e(),e).optional(),required:vt($e()).optional(),minProperties:We.string().optional(),maxProperties:We.string().optional(),propertyOrdering:vt($e()).optional(),minimum:Jo().optional(),maximum:Jo().optional(),minLength:We.string().optional(),maxLength:We.string().optional(),pattern:$e().optional(),anyOf:vt(e).optional(),additionalProperties:Sa().optional()});return n?t.strict():t});return e}function Wa(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(o=>o!=="null");if(t.length===1)e.type=Object.values(xe).includes(t[0].toUpperCase())?t[0].toUpperCase():xe.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of t)e.anyOf.push({type:Object.values(xe).includes(o.toUpperCase())?o.toUpperCase():xe.TYPE_UNSPECIFIED})}}function je(n){const e={},t=["items"],o=["anyOf"],i=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const r=n.anyOf;r!=null&&r.length==2&&(r[0].type==="null"?(e.nullable=!0,n=r[1]):r[1].type==="null"&&(e.nullable=!0,n=r[0])),n.type instanceof Array&&Wa(n.type,e);for(const[l,u]of Object.entries(n))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(xe).includes(u.toUpperCase())?u.toUpperCase():xe.TYPE_UNSPECIFIED}else if(t.includes(l))e[l]=je(u);else if(o.includes(l)){const f=[];for(const c of u){if(c.type=="null"){e.nullable=!0;continue}f.push(je(c))}e[l]=f}else if(i.includes(l)){const f={};for(const[c,d]of Object.entries(u))f[c]=je(d);e[l]=f}else{if(l==="additionalProperties")continue;e[l]=u}return e}function en(n,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const t=Ha().parse(e);return je(t)}else return je(e)}function Or(n,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function ro(n,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function wt(n,e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(t.parameters=en(n,t.parameters)),t.response&&(t.response=en(n,t.response));return e}function Rt(n,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of e)t.push(o);return t}function Ja(n,e,t,o=1){const i=!e.startsWith(`${t}/`)&&e.split("/").length===o;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:i?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:i?`${t}/${e}`:e}function Ue(n,e){if(typeof e!="string")throw new Error("name must be a string");return Ja(n,e,"cachedContents")}function qr(n,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Ne(n,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function Ka(n){return n!=null&&typeof n=="object"&&"name"in n}function za(n){return n!=null&&typeof n=="object"&&"video"in n}function Ya(n){return n!=null&&typeof n=="object"&&"uri"in n}function Hr(n,e){var t;let o;if(Ka(e)&&(o=e.name),!(Ya(e)&&(o=e.uri,o===void 0))&&!(za(e)&&(o=(t=e.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof e=="string"&&(o=e),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function Wr(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function Jr(n,e){for(const t of["models","tunedModels","publisherModels"])if(Za(e,t))return e[t];return[]}function Za(n,e){return n!==null&&typeof n=="object"&&e in n}function Xa(n,e={}){const t=n,o={name:t.name,description:t.description,parameters:je(on(t.inputSchema))};return e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function Qa(n,e={}){const t=[],o=new Set;for(const i of n){const r=i.name;if(o.has(r))throw new Error(`Duplicate function name ${r} found in MCP tools. Please ensure function names are unique.`);o.add(r);const l=Xa(i,e);l.functionDeclarations&&t.push(...l.functionDeclarations)}return{functionDeclarations:t}}function ja(n){const e=[];for(const t of n)e.push(on(t));return e}function el(n){const e={};for(const[t,o]of Object.entries(n)){const i=o;e[t]=on(i)}return e}function on(n){const e=new Set(["items"]),t=new Set(["anyOf"]),o=new Set(["properties"]),i={};for(const[r,l]of Object.entries(n))if(e.has(r))i[r]=on(l);else if(t.has(r))i[r]=ja(l);else if(o.has(r))i[r]=el(l);else if(r==="type"){const u=l.toUpperCase();i[r]=Object.values(xe).includes(u)?u:xe.TYPE_UNSPECIFIED}else Oa.has(r)&&(i[r]=l);return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tl(n,e){const t={},o=s(e,["fps"]);o!=null&&a(t,["fps"],o);const i=s(e,["endOffset"]);i!=null&&a(t,["endOffset"],i);const r=s(e,["startOffset"]);return r!=null&&a(t,["startOffset"],r),t}function nl(n,e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["data"]);o!=null&&a(t,["data"],o);const i=s(e,["mimeType"]);return i!=null&&a(t,["mimeType"],i),t}function ol(n,e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["fileUri"]);o!=null&&a(t,["fileUri"],o);const i=s(e,["mimeType"]);return i!=null&&a(t,["mimeType"],i),t}function il(n,e){const t={},o=s(e,["videoMetadata"]);o!=null&&a(t,["videoMetadata"],tl(n,o));const i=s(e,["thought"]);i!=null&&a(t,["thought"],i);const r=s(e,["inlineData"]);r!=null&&a(t,["inlineData"],nl(n,r));const l=s(e,["fileData"]);l!=null&&a(t,["fileData"],ol(n,l));const u=s(e,["thoughtSignature"]);u!=null&&a(t,["thoughtSignature"],u);const f=s(e,["codeExecutionResult"]);f!=null&&a(t,["codeExecutionResult"],f);const c=s(e,["executableCode"]);c!=null&&a(t,["executableCode"],c);const d=s(e,["functionCall"]);d!=null&&a(t,["functionCall"],d);const p=s(e,["functionResponse"]);p!=null&&a(t,["functionResponse"],p);const m=s(e,["text"]);return m!=null&&a(t,["text"],m),t}function Gi(n,e){const t={},o=s(e,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>il(n,l))),a(t,["parts"],r)}const i=s(e,["role"]);return i!=null&&a(t,["role"],i),t}function rl(n,e){const t={},o=s(e,["behavior"]);o!=null&&a(t,["behavior"],o);const i=s(e,["description"]);i!=null&&a(t,["description"],i);const r=s(e,["name"]);r!=null&&a(t,["name"],r);const l=s(e,["parameters"]);l!=null&&a(t,["parameters"],l);const u=s(e,["response"]);return u!=null&&a(t,["response"],u),t}function sl(n,e){const t={},o=s(e,["startTime"]);o!=null&&a(t,["startTime"],o);const i=s(e,["endTime"]);return i!=null&&a(t,["endTime"],i),t}function al(n,e){const t={},o=s(e,["timeRangeFilter"]);return o!=null&&a(t,["timeRangeFilter"],sl(n,o)),t}function ll(n,e){const t={},o=s(e,["mode"]);o!=null&&a(t,["mode"],o);const i=s(e,["dynamicThreshold"]);return i!=null&&a(t,["dynamicThreshold"],i),t}function ul(n,e){const t={},o=s(e,["dynamicRetrievalConfig"]);return o!=null&&a(t,["dynamicRetrievalConfig"],ll(n,o)),t}function cl(){return{}}function fl(n,e){const t={},o=s(e,["functionDeclarations"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(c=>rl(n,c))),a(t,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(e,["googleSearch"]);i!=null&&a(t,["googleSearch"],al(n,i));const r=s(e,["googleSearchRetrieval"]);if(r!=null&&a(t,["googleSearchRetrieval"],ul(n,r)),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(e,["urlContext"])!=null&&a(t,["urlContext"],cl());const u=s(e,["codeExecution"]);return u!=null&&a(t,["codeExecution"],u),t}function dl(n,e){const t={},o=s(e,["mode"]);o!=null&&a(t,["mode"],o);const i=s(e,["allowedFunctionNames"]);return i!=null&&a(t,["allowedFunctionNames"],i),t}function pl(n,e){const t={},o=s(e,["latitude"]);o!=null&&a(t,["latitude"],o);const i=s(e,["longitude"]);return i!=null&&a(t,["longitude"],i),t}function ml(n,e){const t={},o=s(e,["latLng"]);o!=null&&a(t,["latLng"],pl(n,o));const i=s(e,["languageCode"]);return i!=null&&a(t,["languageCode"],i),t}function hl(n,e){const t={},o=s(e,["functionCallingConfig"]);o!=null&&a(t,["functionCallingConfig"],dl(n,o));const i=s(e,["retrievalConfig"]);return i!=null&&a(t,["retrievalConfig"],ml(n,i)),t}function gl(n,e,t){const o={},i=s(e,["ttl"]);t!==void 0&&i!=null&&a(t,["ttl"],i);const r=s(e,["expireTime"]);t!==void 0&&r!=null&&a(t,["expireTime"],r);const l=s(e,["displayName"]);t!==void 0&&l!=null&&a(t,["displayName"],l);const u=s(e,["contents"]);if(t!==void 0&&u!=null){let p=ve(n,u);Array.isArray(p)&&(p=p.map(m=>Gi(n,m))),a(t,["contents"],p)}const f=s(e,["systemInstruction"]);t!==void 0&&f!=null&&a(t,["systemInstruction"],Gi(n,le(n,f)));const c=s(e,["tools"]);if(t!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(m=>fl(n,m))),a(t,["tools"],p)}const d=s(e,["toolConfig"]);if(t!==void 0&&d!=null&&a(t,["toolConfig"],hl(n,d)),s(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function yl(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["model"],Ur(n,o));const i=s(e,["config"]);return i!=null&&a(t,["config"],gl(n,i,t)),t}function vl(n,e){const t={},o=s(e,["name"]);o!=null&&a(t,["_url","name"],Ue(n,o));const i=s(e,["config"]);return i!=null&&a(t,["config"],i),t}function Cl(n,e){const t={},o=s(e,["name"]);o!=null&&a(t,["_url","name"],Ue(n,o));const i=s(e,["config"]);return i!=null&&a(t,["config"],i),t}function Tl(n,e,t){const o={},i=s(e,["ttl"]);t!==void 0&&i!=null&&a(t,["ttl"],i);const r=s(e,["expireTime"]);return t!==void 0&&r!=null&&a(t,["expireTime"],r),o}function _l(n,e){const t={},o=s(e,["name"]);o!=null&&a(t,["_url","name"],Ue(n,o));const i=s(e,["config"]);return i!=null&&a(t,["config"],Tl(n,i,t)),t}function Sl(n,e,t){const o={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&a(t,["_query","pageSize"],i);const r=s(e,["pageToken"]);return t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),o}function El(n,e){const t={},o=s(e,["config"]);return o!=null&&a(t,["config"],Sl(n,o,t)),t}function xl(n,e){const t={},o=s(e,["fps"]);o!=null&&a(t,["fps"],o);const i=s(e,["endOffset"]);i!=null&&a(t,["endOffset"],i);const r=s(e,["startOffset"]);return r!=null&&a(t,["startOffset"],r),t}function Al(n,e){const t={},o=s(e,["displayName"]);o!=null&&a(t,["displayName"],o);const i=s(e,["data"]);i!=null&&a(t,["data"],i);const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function Il(n,e){const t={},o=s(e,["displayName"]);o!=null&&a(t,["displayName"],o);const i=s(e,["fileUri"]);i!=null&&a(t,["fileUri"],i);const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function Ml(n,e){const t={},o=s(e,["videoMetadata"]);o!=null&&a(t,["videoMetadata"],xl(n,o));const i=s(e,["thought"]);i!=null&&a(t,["thought"],i);const r=s(e,["inlineData"]);r!=null&&a(t,["inlineData"],Al(n,r));const l=s(e,["fileData"]);l!=null&&a(t,["fileData"],Il(n,l));const u=s(e,["thoughtSignature"]);u!=null&&a(t,["thoughtSignature"],u);const f=s(e,["codeExecutionResult"]);f!=null&&a(t,["codeExecutionResult"],f);const c=s(e,["executableCode"]);c!=null&&a(t,["executableCode"],c);const d=s(e,["functionCall"]);d!=null&&a(t,["functionCall"],d);const p=s(e,["functionResponse"]);p!=null&&a(t,["functionResponse"],p);const m=s(e,["text"]);return m!=null&&a(t,["text"],m),t}function Oi(n,e){const t={},o=s(e,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>Ml(n,l))),a(t,["parts"],r)}const i=s(e,["role"]);return i!=null&&a(t,["role"],i),t}function wl(n,e){const t={};if(s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=s(e,["description"]);o!=null&&a(t,["description"],o);const i=s(e,["name"]);i!=null&&a(t,["name"],i);const r=s(e,["parameters"]);r!=null&&a(t,["parameters"],r);const l=s(e,["response"]);return l!=null&&a(t,["response"],l),t}function Rl(n,e){const t={},o=s(e,["startTime"]);o!=null&&a(t,["startTime"],o);const i=s(e,["endTime"]);return i!=null&&a(t,["endTime"],i),t}function Pl(n,e){const t={},o=s(e,["timeRangeFilter"]);return o!=null&&a(t,["timeRangeFilter"],Rl(n,o)),t}function kl(n,e){const t={},o=s(e,["mode"]);o!=null&&a(t,["mode"],o);const i=s(e,["dynamicThreshold"]);return i!=null&&a(t,["dynamicThreshold"],i),t}function Nl(n,e){const t={},o=s(e,["dynamicRetrievalConfig"]);return o!=null&&a(t,["dynamicRetrievalConfig"],kl(n,o)),t}function Dl(){return{}}function bl(n,e){const t={},o=s(e,["apiKeyString"]);return o!=null&&a(t,["apiKeyString"],o),t}function Fl(n,e){const t={},o=s(e,["apiKeyConfig"]);o!=null&&a(t,["apiKeyConfig"],bl(n,o));const i=s(e,["authType"]);i!=null&&a(t,["authType"],i);const r=s(e,["googleServiceAccountConfig"]);r!=null&&a(t,["googleServiceAccountConfig"],r);const l=s(e,["httpBasicAuthConfig"]);l!=null&&a(t,["httpBasicAuthConfig"],l);const u=s(e,["oauthConfig"]);u!=null&&a(t,["oauthConfig"],u);const f=s(e,["oidcConfig"]);return f!=null&&a(t,["oidcConfig"],f),t}function Ll(n,e){const t={},o=s(e,["authConfig"]);return o!=null&&a(t,["authConfig"],Fl(n,o)),t}function Vl(){return{}}function Ul(n,e){const t={},o=s(e,["functionDeclarations"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(m=>wl(n,m))),a(t,["functionDeclarations"],p)}const i=s(e,["retrieval"]);i!=null&&a(t,["retrieval"],i);const r=s(e,["googleSearch"]);r!=null&&a(t,["googleSearch"],Pl(n,r));const l=s(e,["googleSearchRetrieval"]);l!=null&&a(t,["googleSearchRetrieval"],Nl(n,l)),s(e,["enterpriseWebSearch"])!=null&&a(t,["enterpriseWebSearch"],Dl());const f=s(e,["googleMaps"]);f!=null&&a(t,["googleMaps"],Ll(n,f)),s(e,["urlContext"])!=null&&a(t,["urlContext"],Vl());const d=s(e,["codeExecution"]);return d!=null&&a(t,["codeExecution"],d),t}function $l(n,e){const t={},o=s(e,["mode"]);o!=null&&a(t,["mode"],o);const i=s(e,["allowedFunctionNames"]);return i!=null&&a(t,["allowedFunctionNames"],i),t}function Bl(n,e){const t={},o=s(e,["latitude"]);o!=null&&a(t,["latitude"],o);const i=s(e,["longitude"]);return i!=null&&a(t,["longitude"],i),t}function Gl(n,e){const t={},o=s(e,["latLng"]);o!=null&&a(t,["latLng"],Bl(n,o));const i=s(e,["languageCode"]);return i!=null&&a(t,["languageCode"],i),t}function Ol(n,e){const t={},o=s(e,["functionCallingConfig"]);o!=null&&a(t,["functionCallingConfig"],$l(n,o));const i=s(e,["retrievalConfig"]);return i!=null&&a(t,["retrievalConfig"],Gl(n,i)),t}function ql(n,e,t){const o={},i=s(e,["ttl"]);t!==void 0&&i!=null&&a(t,["ttl"],i);const r=s(e,["expireTime"]);t!==void 0&&r!=null&&a(t,["expireTime"],r);const l=s(e,["displayName"]);t!==void 0&&l!=null&&a(t,["displayName"],l);const u=s(e,["contents"]);if(t!==void 0&&u!=null){let m=ve(n,u);Array.isArray(m)&&(m=m.map(y=>Oi(n,y))),a(t,["contents"],m)}const f=s(e,["systemInstruction"]);t!==void 0&&f!=null&&a(t,["systemInstruction"],Oi(n,le(n,f)));const c=s(e,["tools"]);if(t!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(y=>Ul(n,y))),a(t,["tools"],m)}const d=s(e,["toolConfig"]);t!==void 0&&d!=null&&a(t,["toolConfig"],Ol(n,d));const p=s(e,["kmsKeyName"]);return t!==void 0&&p!=null&&a(t,["encryption_spec","kmsKeyName"],p),o}function Hl(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["model"],Ur(n,o));const i=s(e,["config"]);return i!=null&&a(t,["config"],ql(n,i,t)),t}function Wl(n,e){const t={},o=s(e,["name"]);o!=null&&a(t,["_url","name"],Ue(n,o));const i=s(e,["config"]);return i!=null&&a(t,["config"],i),t}function Jl(n,e){const t={},o=s(e,["name"]);o!=null&&a(t,["_url","name"],Ue(n,o));const i=s(e,["config"]);return i!=null&&a(t,["config"],i),t}function Kl(n,e,t){const o={},i=s(e,["ttl"]);t!==void 0&&i!=null&&a(t,["ttl"],i);const r=s(e,["expireTime"]);return t!==void 0&&r!=null&&a(t,["expireTime"],r),o}function zl(n,e){const t={},o=s(e,["name"]);o!=null&&a(t,["_url","name"],Ue(n,o));const i=s(e,["config"]);return i!=null&&a(t,["config"],Kl(n,i,t)),t}function Yl(n,e,t){const o={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&a(t,["_query","pageSize"],i);const r=s(e,["pageToken"]);return t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),o}function Zl(n,e){const t={},o=s(e,["config"]);return o!=null&&a(t,["config"],Yl(n,o,t)),t}function $t(n,e){const t={},o=s(e,["name"]);o!=null&&a(t,["name"],o);const i=s(e,["displayName"]);i!=null&&a(t,["displayName"],i);const r=s(e,["model"]);r!=null&&a(t,["model"],r);const l=s(e,["createTime"]);l!=null&&a(t,["createTime"],l);const u=s(e,["updateTime"]);u!=null&&a(t,["updateTime"],u);const f=s(e,["expireTime"]);f!=null&&a(t,["expireTime"],f);const c=s(e,["usageMetadata"]);return c!=null&&a(t,["usageMetadata"],c),t}function Xl(){return{}}function Ql(n,e){const t={},o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const i=s(e,["cachedContents"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>$t(n,l))),a(t,["cachedContents"],r)}return t}function Bt(n,e){const t={},o=s(e,["name"]);o!=null&&a(t,["name"],o);const i=s(e,["displayName"]);i!=null&&a(t,["displayName"],i);const r=s(e,["model"]);r!=null&&a(t,["model"],r);const l=s(e,["createTime"]);l!=null&&a(t,["createTime"],l);const u=s(e,["updateTime"]);u!=null&&a(t,["updateTime"],u);const f=s(e,["expireTime"]);f!=null&&a(t,["expireTime"],f);const c=s(e,["usageMetadata"]);return c!=null&&a(t,["usageMetadata"],c),t}function jl(){return{}}function eu(n,e){const t={},o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const i=s(e,["cachedContents"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>Bt(n,l))),a(t,["cachedContents"],r)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var lt;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(lt||(lt={}));class rn{constructor(e,t,o,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,o,i)}init(e,t,o){var i,r;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.idxInternal=0;let l={config:{}};o?typeof o=="object"?l=Object.assign({},o):l=o:l={config:{}},l.config&&(l.config.pageToken=t.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(r=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&r!==void 0?r:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tu extends ct{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new rn(lt.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(t),t)}async create(e){var t,o,i,r;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=Hl(this.apiClient,e);return u=b("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>Bt(this.apiClient,d))}else{const c=yl(this.apiClient,e);return u=b("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>$t(this.apiClient,d))}}async get(e){var t,o,i,r;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=Wl(this.apiClient,e);return u=b("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>Bt(this.apiClient,d))}else{const c=vl(this.apiClient,e);return u=b("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>$t(this.apiClient,d))}}async delete(e){var t,o,i,r;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=Jl(this.apiClient,e);return u=b("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(()=>{const d=jl(),p=new Fi;return Object.assign(p,d),p})}else{const c=Cl(this.apiClient,e);return u=b("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(()=>{const d=Xl(),p=new Fi;return Object.assign(p,d),p})}}async update(e){var t,o,i,r;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=zl(this.apiClient,e);return u=b("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>Bt(this.apiClient,d))}else{const c=_l(this.apiClient,e);return u=b("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>$t(this.apiClient,d))}}async listInternal(e){var t,o,i,r;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=Zl(this.apiClient,e);return u=b("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>{const p=eu(this.apiClient,d),m=new Li;return Object.assign(m,p),m})}else{const c=El(this.apiClient,e);return u=b("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>{const p=Ql(this.apiClient,d),m=new Li;return Object.assign(m,p),m})}}}function qi(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],o=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Q(n){return this instanceof Q?(this.v=n,this):new Q(n)}function et(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=t.apply(n,e||[]),i,r=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(y){return function(v){return Promise.resolve(v).then(y,p)}}function u(y,v){o[y]&&(i[y]=function(g){return new Promise(function(_,S){r.push([y,g,_,S])>1||f(y,g)})},v&&(i[y]=v(i[y])))}function f(y,v){try{c(o[y](v))}catch(g){m(r[0][3],g)}}function c(y){y.value instanceof Q?Promise.resolve(y.value.v).then(d,p):m(r[0][2],y)}function d(y){f("next",y)}function p(y){f("throw",y)}function m(y,v){y(v),r.shift(),r.length&&f(r[0][0],r[0][1])}}function _t(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof qi=="function"?qi(n):n[Symbol.iterator](),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(r){t[r]=n[r]&&function(l){return new Promise(function(u,f){l=n[r](l),i(u,f,l.done,l.value)})}}function i(r,l,u,f){Promise.resolve(f).then(function(c){r({value:c,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nu(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:Kr(t)}function Kr(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function ou(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Hi(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let o=0;for(;o<t;)if(n[o].role==="user")e.push(n[o]),o++;else{const i=[];let r=!0;for(;o<t&&n[o].role==="model";)i.push(n[o]),r&&!Kr(n[o])&&(r=!1),o++;r?e.push(...i):e.pop()}return e}class iu{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new ru(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class ru{constructor(e,t,o,i={},r=[]){this.apiClient=e,this.modelsModule=t,this.model=o,this.config=i,this.history=r,this.sendPromise=Promise.resolve(),ou(r)}async sendMessage(e){var t;await this.sendPromise;const o=le(this.apiClient,e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var r,l,u;const f=await i,c=(l=(r=f.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content,d=f.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let m=[];d!=null&&(m=(u=d.slice(p))!==null&&u!==void 0?u:[]);const y=c?[c]:[];this.recordHistory(o,y,m)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var t;await this.sendPromise;const o=le(this.apiClient,e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const r=await i;return this.processStreamResponse(r,o)}getHistory(e=!1){const t=e?Hi(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var o,i;return et(this,arguments,function*(){var l,u,f,c;const d=[];try{for(var p=!0,m=_t(e),y;y=yield Q(m.next()),l=y.done,!l;p=!0){c=y.value,p=!1;const v=c;if(nu(v)){const g=(i=(o=v.candidates)===null||o===void 0?void 0:o[0])===null||i===void 0?void 0:i.content;g!==void 0&&d.push(g)}yield yield Q(v)}}catch(v){u={error:v}}finally{try{!p&&!l&&(f=m.return)&&(yield Q(f.call(m)))}finally{if(u)throw u.error}}this.recordHistory(t,d)})}recordHistory(e,t,o){let i=[];t.length>0&&t.every(r=>r.role!==void 0)?i=t:i.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...Hi(o)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function su(n,e,t){const o={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&a(t,["_query","pageSize"],i);const r=s(e,["pageToken"]);return t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),o}function au(n,e){const t={},o=s(e,["config"]);return o!=null&&a(t,["config"],su(n,o,t)),t}function lu(n,e){const t={},o=s(e,["details"]);o!=null&&a(t,["details"],o);const i=s(e,["message"]);i!=null&&a(t,["message"],i);const r=s(e,["code"]);return r!=null&&a(t,["code"],r),t}function uu(n,e){const t={},o=s(e,["name"]);o!=null&&a(t,["name"],o);const i=s(e,["displayName"]);i!=null&&a(t,["displayName"],i);const r=s(e,["mimeType"]);r!=null&&a(t,["mimeType"],r);const l=s(e,["sizeBytes"]);l!=null&&a(t,["sizeBytes"],l);const u=s(e,["createTime"]);u!=null&&a(t,["createTime"],u);const f=s(e,["expirationTime"]);f!=null&&a(t,["expirationTime"],f);const c=s(e,["updateTime"]);c!=null&&a(t,["updateTime"],c);const d=s(e,["sha256Hash"]);d!=null&&a(t,["sha256Hash"],d);const p=s(e,["uri"]);p!=null&&a(t,["uri"],p);const m=s(e,["downloadUri"]);m!=null&&a(t,["downloadUri"],m);const y=s(e,["state"]);y!=null&&a(t,["state"],y);const v=s(e,["source"]);v!=null&&a(t,["source"],v);const g=s(e,["videoMetadata"]);g!=null&&a(t,["videoMetadata"],g);const _=s(e,["error"]);return _!=null&&a(t,["error"],lu(n,_)),t}function cu(n,e){const t={},o=s(e,["file"]);o!=null&&a(t,["file"],uu(n,o));const i=s(e,["config"]);return i!=null&&a(t,["config"],i),t}function fu(n,e){const t={},o=s(e,["name"]);o!=null&&a(t,["_url","file"],Hr(n,o));const i=s(e,["config"]);return i!=null&&a(t,["config"],i),t}function du(n,e){const t={},o=s(e,["name"]);o!=null&&a(t,["_url","file"],Hr(n,o));const i=s(e,["config"]);return i!=null&&a(t,["config"],i),t}function pu(n,e){const t={},o=s(e,["details"]);o!=null&&a(t,["details"],o);const i=s(e,["message"]);i!=null&&a(t,["message"],i);const r=s(e,["code"]);return r!=null&&a(t,["code"],r),t}function Bn(n,e){const t={},o=s(e,["name"]);o!=null&&a(t,["name"],o);const i=s(e,["displayName"]);i!=null&&a(t,["displayName"],i);const r=s(e,["mimeType"]);r!=null&&a(t,["mimeType"],r);const l=s(e,["sizeBytes"]);l!=null&&a(t,["sizeBytes"],l);const u=s(e,["createTime"]);u!=null&&a(t,["createTime"],u);const f=s(e,["expirationTime"]);f!=null&&a(t,["expirationTime"],f);const c=s(e,["updateTime"]);c!=null&&a(t,["updateTime"],c);const d=s(e,["sha256Hash"]);d!=null&&a(t,["sha256Hash"],d);const p=s(e,["uri"]);p!=null&&a(t,["uri"],p);const m=s(e,["downloadUri"]);m!=null&&a(t,["downloadUri"],m);const y=s(e,["state"]);y!=null&&a(t,["state"],y);const v=s(e,["source"]);v!=null&&a(t,["source"],v);const g=s(e,["videoMetadata"]);g!=null&&a(t,["videoMetadata"],g);const _=s(e,["error"]);return _!=null&&a(t,["error"],pu(n,_)),t}function mu(n,e){const t={},o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const i=s(e,["files"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>Bn(n,l))),a(t,["files"],r)}return t}function hu(){return{}}function gu(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yu extends ct{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new rn(lt.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>Bn(this.apiClient,t))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,o;let i,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=au(this.apiClient,e);return r=b("files",u._url),l=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),i.then(f=>{const c=mu(this.apiClient,f),d=new Fa;return Object.assign(d,c),d})}}async createInternal(e){var t,o;let i,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=cu(this.apiClient,e);return r=b("upload/v1beta/files",u._url),l=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),i.then(()=>{const f=hu(),c=new La;return Object.assign(c,f),c})}}async get(e){var t,o;let i,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=fu(this.apiClient,e);return r=b("files/{file}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),i.then(f=>Bn(this.apiClient,f))}}async delete(e){var t,o;let i,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=du(this.apiClient,e);return r=b("files/{file}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),i.then(()=>{const f=gu(),c=new Va;return Object.assign(c,f),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vu(n,e){const t={},o=s(e,["voiceName"]);return o!=null&&a(t,["voiceName"],o),t}function Cu(n,e){const t={},o=s(e,["voiceName"]);return o!=null&&a(t,["voiceName"],o),t}function zr(n,e){const t={},o=s(e,["prebuiltVoiceConfig"]);return o!=null&&a(t,["prebuiltVoiceConfig"],vu(n,o)),t}function Tu(n,e){const t={},o=s(e,["prebuiltVoiceConfig"]);return o!=null&&a(t,["prebuiltVoiceConfig"],Cu(n,o)),t}function _u(n,e){const t={},o=s(e,["speaker"]);o!=null&&a(t,["speaker"],o);const i=s(e,["voiceConfig"]);return i!=null&&a(t,["voiceConfig"],zr(n,i)),t}function Su(n,e){const t={},o=s(e,["speakerVoiceConfigs"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>_u(n,r))),a(t,["speakerVoiceConfigs"],i)}return t}function Eu(n,e){const t={},o=s(e,["voiceConfig"]);o!=null&&a(t,["voiceConfig"],zr(n,o));const i=s(e,["multiSpeakerVoiceConfig"]);i!=null&&a(t,["multiSpeakerVoiceConfig"],Su(n,i));const r=s(e,["languageCode"]);return r!=null&&a(t,["languageCode"],r),t}function xu(n,e){const t={},o=s(e,["voiceConfig"]);if(o!=null&&a(t,["voiceConfig"],Tu(n,o)),s(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=s(e,["languageCode"]);return i!=null&&a(t,["languageCode"],i),t}function Au(n,e){const t={},o=s(e,["fps"]);o!=null&&a(t,["fps"],o);const i=s(e,["endOffset"]);i!=null&&a(t,["endOffset"],i);const r=s(e,["startOffset"]);return r!=null&&a(t,["startOffset"],r),t}function Iu(n,e){const t={},o=s(e,["fps"]);o!=null&&a(t,["fps"],o);const i=s(e,["endOffset"]);i!=null&&a(t,["endOffset"],i);const r=s(e,["startOffset"]);return r!=null&&a(t,["startOffset"],r),t}function Mu(n,e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["data"]);o!=null&&a(t,["data"],o);const i=s(e,["mimeType"]);return i!=null&&a(t,["mimeType"],i),t}function wu(n,e){const t={},o=s(e,["displayName"]);o!=null&&a(t,["displayName"],o);const i=s(e,["data"]);i!=null&&a(t,["data"],i);const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function Ru(n,e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["fileUri"]);o!=null&&a(t,["fileUri"],o);const i=s(e,["mimeType"]);return i!=null&&a(t,["mimeType"],i),t}function Pu(n,e){const t={},o=s(e,["displayName"]);o!=null&&a(t,["displayName"],o);const i=s(e,["fileUri"]);i!=null&&a(t,["fileUri"],i);const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function ku(n,e){const t={},o=s(e,["videoMetadata"]);o!=null&&a(t,["videoMetadata"],Au(n,o));const i=s(e,["thought"]);i!=null&&a(t,["thought"],i);const r=s(e,["inlineData"]);r!=null&&a(t,["inlineData"],Mu(n,r));const l=s(e,["fileData"]);l!=null&&a(t,["fileData"],Ru(n,l));const u=s(e,["thoughtSignature"]);u!=null&&a(t,["thoughtSignature"],u);const f=s(e,["codeExecutionResult"]);f!=null&&a(t,["codeExecutionResult"],f);const c=s(e,["executableCode"]);c!=null&&a(t,["executableCode"],c);const d=s(e,["functionCall"]);d!=null&&a(t,["functionCall"],d);const p=s(e,["functionResponse"]);p!=null&&a(t,["functionResponse"],p);const m=s(e,["text"]);return m!=null&&a(t,["text"],m),t}function Nu(n,e){const t={},o=s(e,["videoMetadata"]);o!=null&&a(t,["videoMetadata"],Iu(n,o));const i=s(e,["thought"]);i!=null&&a(t,["thought"],i);const r=s(e,["inlineData"]);r!=null&&a(t,["inlineData"],wu(n,r));const l=s(e,["fileData"]);l!=null&&a(t,["fileData"],Pu(n,l));const u=s(e,["thoughtSignature"]);u!=null&&a(t,["thoughtSignature"],u);const f=s(e,["codeExecutionResult"]);f!=null&&a(t,["codeExecutionResult"],f);const c=s(e,["executableCode"]);c!=null&&a(t,["executableCode"],c);const d=s(e,["functionCall"]);d!=null&&a(t,["functionCall"],d);const p=s(e,["functionResponse"]);p!=null&&a(t,["functionResponse"],p);const m=s(e,["text"]);return m!=null&&a(t,["text"],m),t}function Du(n,e){const t={},o=s(e,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>ku(n,l))),a(t,["parts"],r)}const i=s(e,["role"]);return i!=null&&a(t,["role"],i),t}function bu(n,e){const t={},o=s(e,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>Nu(n,l))),a(t,["parts"],r)}const i=s(e,["role"]);return i!=null&&a(t,["role"],i),t}function Fu(n,e){const t={},o=s(e,["behavior"]);o!=null&&a(t,["behavior"],o);const i=s(e,["description"]);i!=null&&a(t,["description"],i);const r=s(e,["name"]);r!=null&&a(t,["name"],r);const l=s(e,["parameters"]);l!=null&&a(t,["parameters"],l);const u=s(e,["response"]);return u!=null&&a(t,["response"],u),t}function Lu(n,e){const t={};if(s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=s(e,["description"]);o!=null&&a(t,["description"],o);const i=s(e,["name"]);i!=null&&a(t,["name"],i);const r=s(e,["parameters"]);r!=null&&a(t,["parameters"],r);const l=s(e,["response"]);return l!=null&&a(t,["response"],l),t}function Vu(n,e){const t={},o=s(e,["startTime"]);o!=null&&a(t,["startTime"],o);const i=s(e,["endTime"]);return i!=null&&a(t,["endTime"],i),t}function Uu(n,e){const t={},o=s(e,["startTime"]);o!=null&&a(t,["startTime"],o);const i=s(e,["endTime"]);return i!=null&&a(t,["endTime"],i),t}function $u(n,e){const t={},o=s(e,["timeRangeFilter"]);return o!=null&&a(t,["timeRangeFilter"],Vu(n,o)),t}function Bu(n,e){const t={},o=s(e,["timeRangeFilter"]);return o!=null&&a(t,["timeRangeFilter"],Uu(n,o)),t}function Gu(n,e){const t={},o=s(e,["mode"]);o!=null&&a(t,["mode"],o);const i=s(e,["dynamicThreshold"]);return i!=null&&a(t,["dynamicThreshold"],i),t}function Ou(n,e){const t={},o=s(e,["mode"]);o!=null&&a(t,["mode"],o);const i=s(e,["dynamicThreshold"]);return i!=null&&a(t,["dynamicThreshold"],i),t}function qu(n,e){const t={},o=s(e,["dynamicRetrievalConfig"]);return o!=null&&a(t,["dynamicRetrievalConfig"],Gu(n,o)),t}function Hu(n,e){const t={},o=s(e,["dynamicRetrievalConfig"]);return o!=null&&a(t,["dynamicRetrievalConfig"],Ou(n,o)),t}function Wu(){return{}}function Ju(n,e){const t={},o=s(e,["apiKeyString"]);return o!=null&&a(t,["apiKeyString"],o),t}function Ku(n,e){const t={},o=s(e,["apiKeyConfig"]);o!=null&&a(t,["apiKeyConfig"],Ju(n,o));const i=s(e,["authType"]);i!=null&&a(t,["authType"],i);const r=s(e,["googleServiceAccountConfig"]);r!=null&&a(t,["googleServiceAccountConfig"],r);const l=s(e,["httpBasicAuthConfig"]);l!=null&&a(t,["httpBasicAuthConfig"],l);const u=s(e,["oauthConfig"]);u!=null&&a(t,["oauthConfig"],u);const f=s(e,["oidcConfig"]);return f!=null&&a(t,["oidcConfig"],f),t}function zu(n,e){const t={},o=s(e,["authConfig"]);return o!=null&&a(t,["authConfig"],Ku(n,o)),t}function Yu(){return{}}function Zu(){return{}}function Xu(n,e){const t={},o=s(e,["functionDeclarations"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(c=>Fu(n,c))),a(t,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(e,["googleSearch"]);i!=null&&a(t,["googleSearch"],$u(n,i));const r=s(e,["googleSearchRetrieval"]);if(r!=null&&a(t,["googleSearchRetrieval"],qu(n,r)),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(e,["urlContext"])!=null&&a(t,["urlContext"],Yu());const u=s(e,["codeExecution"]);return u!=null&&a(t,["codeExecution"],u),t}function Qu(n,e){const t={},o=s(e,["functionDeclarations"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(m=>Lu(n,m))),a(t,["functionDeclarations"],p)}const i=s(e,["retrieval"]);i!=null&&a(t,["retrieval"],i);const r=s(e,["googleSearch"]);r!=null&&a(t,["googleSearch"],Bu(n,r));const l=s(e,["googleSearchRetrieval"]);l!=null&&a(t,["googleSearchRetrieval"],Hu(n,l)),s(e,["enterpriseWebSearch"])!=null&&a(t,["enterpriseWebSearch"],Wu());const f=s(e,["googleMaps"]);f!=null&&a(t,["googleMaps"],zu(n,f)),s(e,["urlContext"])!=null&&a(t,["urlContext"],Zu());const d=s(e,["codeExecution"]);return d!=null&&a(t,["codeExecution"],d),t}function ju(n,e){const t={},o=s(e,["handle"]);if(o!=null&&a(t,["handle"],o),s(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function ec(n,e){const t={},o=s(e,["handle"]);o!=null&&a(t,["handle"],o);const i=s(e,["transparent"]);return i!=null&&a(t,["transparent"],i),t}function Wi(){return{}}function Ji(){return{}}function tc(n,e){const t={},o=s(e,["disabled"]);o!=null&&a(t,["disabled"],o);const i=s(e,["startOfSpeechSensitivity"]);i!=null&&a(t,["startOfSpeechSensitivity"],i);const r=s(e,["endOfSpeechSensitivity"]);r!=null&&a(t,["endOfSpeechSensitivity"],r);const l=s(e,["prefixPaddingMs"]);l!=null&&a(t,["prefixPaddingMs"],l);const u=s(e,["silenceDurationMs"]);return u!=null&&a(t,["silenceDurationMs"],u),t}function nc(n,e){const t={},o=s(e,["disabled"]);o!=null&&a(t,["disabled"],o);const i=s(e,["startOfSpeechSensitivity"]);i!=null&&a(t,["startOfSpeechSensitivity"],i);const r=s(e,["endOfSpeechSensitivity"]);r!=null&&a(t,["endOfSpeechSensitivity"],r);const l=s(e,["prefixPaddingMs"]);l!=null&&a(t,["prefixPaddingMs"],l);const u=s(e,["silenceDurationMs"]);return u!=null&&a(t,["silenceDurationMs"],u),t}function oc(n,e){const t={},o=s(e,["automaticActivityDetection"]);o!=null&&a(t,["automaticActivityDetection"],tc(n,o));const i=s(e,["activityHandling"]);i!=null&&a(t,["activityHandling"],i);const r=s(e,["turnCoverage"]);return r!=null&&a(t,["turnCoverage"],r),t}function ic(n,e){const t={},o=s(e,["automaticActivityDetection"]);o!=null&&a(t,["automaticActivityDetection"],nc(n,o));const i=s(e,["activityHandling"]);i!=null&&a(t,["activityHandling"],i);const r=s(e,["turnCoverage"]);return r!=null&&a(t,["turnCoverage"],r),t}function rc(n,e){const t={},o=s(e,["targetTokens"]);return o!=null&&a(t,["targetTokens"],o),t}function sc(n,e){const t={},o=s(e,["targetTokens"]);return o!=null&&a(t,["targetTokens"],o),t}function ac(n,e){const t={},o=s(e,["triggerTokens"]);o!=null&&a(t,["triggerTokens"],o);const i=s(e,["slidingWindow"]);return i!=null&&a(t,["slidingWindow"],rc(n,i)),t}function lc(n,e){const t={},o=s(e,["triggerTokens"]);o!=null&&a(t,["triggerTokens"],o);const i=s(e,["slidingWindow"]);return i!=null&&a(t,["slidingWindow"],sc(n,i)),t}function uc(n,e){const t={},o=s(e,["proactiveAudio"]);return o!=null&&a(t,["proactiveAudio"],o),t}function cc(n,e){const t={},o=s(e,["proactiveAudio"]);return o!=null&&a(t,["proactiveAudio"],o),t}function fc(n,e,t){const o={},i=s(e,["generationConfig"]);t!==void 0&&i!=null&&a(t,["setup","generationConfig"],i);const r=s(e,["responseModalities"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig","responseModalities"],r);const l=s(e,["temperature"]);t!==void 0&&l!=null&&a(t,["setup","generationConfig","temperature"],l);const u=s(e,["topP"]);t!==void 0&&u!=null&&a(t,["setup","generationConfig","topP"],u);const f=s(e,["topK"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","topK"],f);const c=s(e,["maxOutputTokens"]);t!==void 0&&c!=null&&a(t,["setup","generationConfig","maxOutputTokens"],c);const d=s(e,["mediaResolution"]);t!==void 0&&d!=null&&a(t,["setup","generationConfig","mediaResolution"],d);const p=s(e,["seed"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","seed"],p);const m=s(e,["speechConfig"]);t!==void 0&&m!=null&&a(t,["setup","generationConfig","speechConfig"],Eu(n,ro(n,m)));const y=s(e,["enableAffectiveDialog"]);t!==void 0&&y!=null&&a(t,["setup","generationConfig","enableAffectiveDialog"],y);const v=s(e,["systemInstruction"]);t!==void 0&&v!=null&&a(t,["setup","systemInstruction"],Du(n,le(n,v)));const g=s(e,["tools"]);if(t!==void 0&&g!=null){let M=Rt(n,g);Array.isArray(M)&&(M=M.map(R=>Xu(n,wt(n,R)))),a(t,["setup","tools"],M)}const _=s(e,["sessionResumption"]);t!==void 0&&_!=null&&a(t,["setup","sessionResumption"],ju(n,_));const S=s(e,["inputAudioTranscription"]);t!==void 0&&S!=null&&a(t,["setup","inputAudioTranscription"],Wi());const A=s(e,["outputAudioTranscription"]);t!==void 0&&A!=null&&a(t,["setup","outputAudioTranscription"],Wi());const E=s(e,["realtimeInputConfig"]);t!==void 0&&E!=null&&a(t,["setup","realtimeInputConfig"],oc(n,E));const x=s(e,["contextWindowCompression"]);t!==void 0&&x!=null&&a(t,["setup","contextWindowCompression"],ac(n,x));const C=s(e,["proactivity"]);return t!==void 0&&C!=null&&a(t,["setup","proactivity"],uc(n,C)),o}function dc(n,e,t){const o={},i=s(e,["generationConfig"]);t!==void 0&&i!=null&&a(t,["setup","generationConfig"],i);const r=s(e,["responseModalities"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig","responseModalities"],r);const l=s(e,["temperature"]);t!==void 0&&l!=null&&a(t,["setup","generationConfig","temperature"],l);const u=s(e,["topP"]);t!==void 0&&u!=null&&a(t,["setup","generationConfig","topP"],u);const f=s(e,["topK"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","topK"],f);const c=s(e,["maxOutputTokens"]);t!==void 0&&c!=null&&a(t,["setup","generationConfig","maxOutputTokens"],c);const d=s(e,["mediaResolution"]);t!==void 0&&d!=null&&a(t,["setup","generationConfig","mediaResolution"],d);const p=s(e,["seed"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","seed"],p);const m=s(e,["speechConfig"]);t!==void 0&&m!=null&&a(t,["setup","generationConfig","speechConfig"],xu(n,ro(n,m)));const y=s(e,["enableAffectiveDialog"]);t!==void 0&&y!=null&&a(t,["setup","generationConfig","enableAffectiveDialog"],y);const v=s(e,["systemInstruction"]);t!==void 0&&v!=null&&a(t,["setup","systemInstruction"],bu(n,le(n,v)));const g=s(e,["tools"]);if(t!==void 0&&g!=null){let M=Rt(n,g);Array.isArray(M)&&(M=M.map(R=>Qu(n,wt(n,R)))),a(t,["setup","tools"],M)}const _=s(e,["sessionResumption"]);t!==void 0&&_!=null&&a(t,["setup","sessionResumption"],ec(n,_));const S=s(e,["inputAudioTranscription"]);t!==void 0&&S!=null&&a(t,["setup","inputAudioTranscription"],Ji());const A=s(e,["outputAudioTranscription"]);t!==void 0&&A!=null&&a(t,["setup","outputAudioTranscription"],Ji());const E=s(e,["realtimeInputConfig"]);t!==void 0&&E!=null&&a(t,["setup","realtimeInputConfig"],ic(n,E));const x=s(e,["contextWindowCompression"]);t!==void 0&&x!=null&&a(t,["setup","contextWindowCompression"],lc(n,x));const C=s(e,["proactivity"]);return t!==void 0&&C!=null&&a(t,["setup","proactivity"],cc(n,C)),o}function pc(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["setup","model"],Z(n,o));const i=s(e,["config"]);return i!=null&&a(t,["config"],fc(n,i,t)),t}function mc(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["setup","model"],Z(n,o));const i=s(e,["config"]);return i!=null&&a(t,["config"],dc(n,i,t)),t}function hc(){return{}}function gc(){return{}}function yc(){return{}}function vc(){return{}}function Cc(n,e){const t={},o=s(e,["media"]);o!=null&&a(t,["mediaChunks"],$r(n,o));const i=s(e,["audio"]);i!=null&&a(t,["audio"],Ga(n,i));const r=s(e,["audioStreamEnd"]);r!=null&&a(t,["audioStreamEnd"],r);const l=s(e,["video"]);l!=null&&a(t,["video"],Ba(n,l));const u=s(e,["text"]);return u!=null&&a(t,["text"],u),s(e,["activityStart"])!=null&&a(t,["activityStart"],hc()),s(e,["activityEnd"])!=null&&a(t,["activityEnd"],yc()),t}function Tc(n,e){const t={},o=s(e,["media"]);if(o!=null&&a(t,["mediaChunks"],$r(n,o)),s(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const i=s(e,["audioStreamEnd"]);if(i!=null&&a(t,["audioStreamEnd"],i),s(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(s(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return s(e,["activityStart"])!=null&&a(t,["activityStart"],gc()),s(e,["activityEnd"])!=null&&a(t,["activityEnd"],vc()),t}function Yr(n,e){const t={},o=s(e,["text"]);o!=null&&a(t,["text"],o);const i=s(e,["weight"]);return i!=null&&a(t,["weight"],i),t}function _c(n,e){const t={},o=s(e,["weightedPrompts"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>Yr(n,r))),a(t,["weightedPrompts"],i)}return t}function Zr(n,e){const t={},o=s(e,["temperature"]);o!=null&&a(t,["temperature"],o);const i=s(e,["topK"]);i!=null&&a(t,["topK"],i);const r=s(e,["seed"]);r!=null&&a(t,["seed"],r);const l=s(e,["guidance"]);l!=null&&a(t,["guidance"],l);const u=s(e,["bpm"]);u!=null&&a(t,["bpm"],u);const f=s(e,["density"]);f!=null&&a(t,["density"],f);const c=s(e,["brightness"]);c!=null&&a(t,["brightness"],c);const d=s(e,["scale"]);d!=null&&a(t,["scale"],d);const p=s(e,["muteBass"]);p!=null&&a(t,["muteBass"],p);const m=s(e,["muteDrums"]);m!=null&&a(t,["muteDrums"],m);const y=s(e,["onlyBassAndDrums"]);return y!=null&&a(t,["onlyBassAndDrums"],y),t}function Sc(n,e){const t={},o=s(e,["musicGenerationConfig"]);return o!=null&&a(t,["musicGenerationConfig"],Zr(n,o)),t}function Xr(n,e){const t={},o=s(e,["model"]);return o!=null&&a(t,["model"],o),t}function Qr(n,e){const t={},o=s(e,["weightedPrompts"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>Yr(n,r))),a(t,["weightedPrompts"],i)}return t}function Gn(n,e){const t={},o=s(e,["setup"]);o!=null&&a(t,["setup"],Xr(n,o));const i=s(e,["clientContent"]);i!=null&&a(t,["clientContent"],Qr(n,i));const r=s(e,["musicGenerationConfig"]);r!=null&&a(t,["musicGenerationConfig"],Zr(n,r));const l=s(e,["playbackControl"]);return l!=null&&a(t,["playbackControl"],l),t}function Ec(){return{}}function xc(){return{}}function Ac(n,e){const t={},o=s(e,["fps"]);o!=null&&a(t,["fps"],o);const i=s(e,["endOffset"]);i!=null&&a(t,["endOffset"],i);const r=s(e,["startOffset"]);return r!=null&&a(t,["startOffset"],r),t}function Ic(n,e){const t={},o=s(e,["fps"]);o!=null&&a(t,["fps"],o);const i=s(e,["endOffset"]);i!=null&&a(t,["endOffset"],i);const r=s(e,["startOffset"]);return r!=null&&a(t,["startOffset"],r),t}function Mc(n,e){const t={},o=s(e,["data"]);o!=null&&a(t,["data"],o);const i=s(e,["mimeType"]);return i!=null&&a(t,["mimeType"],i),t}function wc(n,e){const t={},o=s(e,["displayName"]);o!=null&&a(t,["displayName"],o);const i=s(e,["data"]);i!=null&&a(t,["data"],i);const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function Rc(n,e){const t={},o=s(e,["fileUri"]);o!=null&&a(t,["fileUri"],o);const i=s(e,["mimeType"]);return i!=null&&a(t,["mimeType"],i),t}function Pc(n,e){const t={},o=s(e,["displayName"]);o!=null&&a(t,["displayName"],o);const i=s(e,["fileUri"]);i!=null&&a(t,["fileUri"],i);const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function kc(n,e){const t={},o=s(e,["videoMetadata"]);o!=null&&a(t,["videoMetadata"],Ac(n,o));const i=s(e,["thought"]);i!=null&&a(t,["thought"],i);const r=s(e,["inlineData"]);r!=null&&a(t,["inlineData"],Mc(n,r));const l=s(e,["fileData"]);l!=null&&a(t,["fileData"],Rc(n,l));const u=s(e,["thoughtSignature"]);u!=null&&a(t,["thoughtSignature"],u);const f=s(e,["codeExecutionResult"]);f!=null&&a(t,["codeExecutionResult"],f);const c=s(e,["executableCode"]);c!=null&&a(t,["executableCode"],c);const d=s(e,["functionCall"]);d!=null&&a(t,["functionCall"],d);const p=s(e,["functionResponse"]);p!=null&&a(t,["functionResponse"],p);const m=s(e,["text"]);return m!=null&&a(t,["text"],m),t}function Nc(n,e){const t={},o=s(e,["videoMetadata"]);o!=null&&a(t,["videoMetadata"],Ic(n,o));const i=s(e,["thought"]);i!=null&&a(t,["thought"],i);const r=s(e,["inlineData"]);r!=null&&a(t,["inlineData"],wc(n,r));const l=s(e,["fileData"]);l!=null&&a(t,["fileData"],Pc(n,l));const u=s(e,["thoughtSignature"]);u!=null&&a(t,["thoughtSignature"],u);const f=s(e,["codeExecutionResult"]);f!=null&&a(t,["codeExecutionResult"],f);const c=s(e,["executableCode"]);c!=null&&a(t,["executableCode"],c);const d=s(e,["functionCall"]);d!=null&&a(t,["functionCall"],d);const p=s(e,["functionResponse"]);p!=null&&a(t,["functionResponse"],p);const m=s(e,["text"]);return m!=null&&a(t,["text"],m),t}function Dc(n,e){const t={},o=s(e,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>kc(n,l))),a(t,["parts"],r)}const i=s(e,["role"]);return i!=null&&a(t,["role"],i),t}function bc(n,e){const t={},o=s(e,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>Nc(n,l))),a(t,["parts"],r)}const i=s(e,["role"]);return i!=null&&a(t,["role"],i),t}function Ki(n,e){const t={},o=s(e,["text"]);o!=null&&a(t,["text"],o);const i=s(e,["finished"]);return i!=null&&a(t,["finished"],i),t}function zi(n,e){const t={},o=s(e,["text"]);o!=null&&a(t,["text"],o);const i=s(e,["finished"]);return i!=null&&a(t,["finished"],i),t}function Fc(n,e){const t={},o=s(e,["retrievedUrl"]);o!=null&&a(t,["retrievedUrl"],o);const i=s(e,["urlRetrievalStatus"]);return i!=null&&a(t,["urlRetrievalStatus"],i),t}function Lc(n,e){const t={},o=s(e,["urlMetadata"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>Fc(n,r))),a(t,["urlMetadata"],i)}return t}function Vc(n,e){const t={},o=s(e,["modelTurn"]);o!=null&&a(t,["modelTurn"],Dc(n,o));const i=s(e,["turnComplete"]);i!=null&&a(t,["turnComplete"],i);const r=s(e,["interrupted"]);r!=null&&a(t,["interrupted"],r);const l=s(e,["groundingMetadata"]);l!=null&&a(t,["groundingMetadata"],l);const u=s(e,["generationComplete"]);u!=null&&a(t,["generationComplete"],u);const f=s(e,["inputTranscription"]);f!=null&&a(t,["inputTranscription"],Ki(n,f));const c=s(e,["outputTranscription"]);c!=null&&a(t,["outputTranscription"],Ki(n,c));const d=s(e,["urlContextMetadata"]);return d!=null&&a(t,["urlContextMetadata"],Lc(n,d)),t}function Uc(n,e){const t={},o=s(e,["modelTurn"]);o!=null&&a(t,["modelTurn"],bc(n,o));const i=s(e,["turnComplete"]);i!=null&&a(t,["turnComplete"],i);const r=s(e,["interrupted"]);r!=null&&a(t,["interrupted"],r);const l=s(e,["groundingMetadata"]);l!=null&&a(t,["groundingMetadata"],l);const u=s(e,["generationComplete"]);u!=null&&a(t,["generationComplete"],u);const f=s(e,["inputTranscription"]);f!=null&&a(t,["inputTranscription"],zi(n,f));const c=s(e,["outputTranscription"]);return c!=null&&a(t,["outputTranscription"],zi(n,c)),t}function $c(n,e){const t={},o=s(e,["id"]);o!=null&&a(t,["id"],o);const i=s(e,["args"]);i!=null&&a(t,["args"],i);const r=s(e,["name"]);return r!=null&&a(t,["name"],r),t}function Bc(n,e){const t={},o=s(e,["args"]);o!=null&&a(t,["args"],o);const i=s(e,["name"]);return i!=null&&a(t,["name"],i),t}function Gc(n,e){const t={},o=s(e,["functionCalls"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>$c(n,r))),a(t,["functionCalls"],i)}return t}function Oc(n,e){const t={},o=s(e,["functionCalls"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>Bc(n,r))),a(t,["functionCalls"],i)}return t}function qc(n,e){const t={},o=s(e,["ids"]);return o!=null&&a(t,["ids"],o),t}function Hc(n,e){const t={},o=s(e,["ids"]);return o!=null&&a(t,["ids"],o),t}function bt(n,e){const t={},o=s(e,["modality"]);o!=null&&a(t,["modality"],o);const i=s(e,["tokenCount"]);return i!=null&&a(t,["tokenCount"],i),t}function Ft(n,e){const t={},o=s(e,["modality"]);o!=null&&a(t,["modality"],o);const i=s(e,["tokenCount"]);return i!=null&&a(t,["tokenCount"],i),t}function Wc(n,e){const t={},o=s(e,["promptTokenCount"]);o!=null&&a(t,["promptTokenCount"],o);const i=s(e,["cachedContentTokenCount"]);i!=null&&a(t,["cachedContentTokenCount"],i);const r=s(e,["responseTokenCount"]);r!=null&&a(t,["responseTokenCount"],r);const l=s(e,["toolUsePromptTokenCount"]);l!=null&&a(t,["toolUsePromptTokenCount"],l);const u=s(e,["thoughtsTokenCount"]);u!=null&&a(t,["thoughtsTokenCount"],u);const f=s(e,["totalTokenCount"]);f!=null&&a(t,["totalTokenCount"],f);const c=s(e,["promptTokensDetails"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(v=>bt(n,v))),a(t,["promptTokensDetails"],y)}const d=s(e,["cacheTokensDetails"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(v=>bt(n,v))),a(t,["cacheTokensDetails"],y)}const p=s(e,["responseTokensDetails"]);if(p!=null){let y=p;Array.isArray(y)&&(y=y.map(v=>bt(n,v))),a(t,["responseTokensDetails"],y)}const m=s(e,["toolUsePromptTokensDetails"]);if(m!=null){let y=m;Array.isArray(y)&&(y=y.map(v=>bt(n,v))),a(t,["toolUsePromptTokensDetails"],y)}return t}function Jc(n,e){const t={},o=s(e,["promptTokenCount"]);o!=null&&a(t,["promptTokenCount"],o);const i=s(e,["cachedContentTokenCount"]);i!=null&&a(t,["cachedContentTokenCount"],i);const r=s(e,["candidatesTokenCount"]);r!=null&&a(t,["responseTokenCount"],r);const l=s(e,["toolUsePromptTokenCount"]);l!=null&&a(t,["toolUsePromptTokenCount"],l);const u=s(e,["thoughtsTokenCount"]);u!=null&&a(t,["thoughtsTokenCount"],u);const f=s(e,["totalTokenCount"]);f!=null&&a(t,["totalTokenCount"],f);const c=s(e,["promptTokensDetails"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(g=>Ft(n,g))),a(t,["promptTokensDetails"],v)}const d=s(e,["cacheTokensDetails"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(g=>Ft(n,g))),a(t,["cacheTokensDetails"],v)}const p=s(e,["candidatesTokensDetails"]);if(p!=null){let v=p;Array.isArray(v)&&(v=v.map(g=>Ft(n,g))),a(t,["responseTokensDetails"],v)}const m=s(e,["toolUsePromptTokensDetails"]);if(m!=null){let v=m;Array.isArray(v)&&(v=v.map(g=>Ft(n,g))),a(t,["toolUsePromptTokensDetails"],v)}const y=s(e,["trafficType"]);return y!=null&&a(t,["trafficType"],y),t}function Kc(n,e){const t={},o=s(e,["timeLeft"]);return o!=null&&a(t,["timeLeft"],o),t}function zc(n,e){const t={},o=s(e,["timeLeft"]);return o!=null&&a(t,["timeLeft"],o),t}function Yc(n,e){const t={},o=s(e,["newHandle"]);o!=null&&a(t,["newHandle"],o);const i=s(e,["resumable"]);i!=null&&a(t,["resumable"],i);const r=s(e,["lastConsumedClientMessageIndex"]);return r!=null&&a(t,["lastConsumedClientMessageIndex"],r),t}function Zc(n,e){const t={},o=s(e,["newHandle"]);o!=null&&a(t,["newHandle"],o);const i=s(e,["resumable"]);i!=null&&a(t,["resumable"],i);const r=s(e,["lastConsumedClientMessageIndex"]);return r!=null&&a(t,["lastConsumedClientMessageIndex"],r),t}function Xc(n,e){const t={};s(e,["setupComplete"])!=null&&a(t,["setupComplete"],Ec());const i=s(e,["serverContent"]);i!=null&&a(t,["serverContent"],Vc(n,i));const r=s(e,["toolCall"]);r!=null&&a(t,["toolCall"],Gc(n,r));const l=s(e,["toolCallCancellation"]);l!=null&&a(t,["toolCallCancellation"],qc(n,l));const u=s(e,["usageMetadata"]);u!=null&&a(t,["usageMetadata"],Wc(n,u));const f=s(e,["goAway"]);f!=null&&a(t,["goAway"],Kc(n,f));const c=s(e,["sessionResumptionUpdate"]);return c!=null&&a(t,["sessionResumptionUpdate"],Yc(n,c)),t}function Qc(n,e){const t={};s(e,["setupComplete"])!=null&&a(t,["setupComplete"],xc());const i=s(e,["serverContent"]);i!=null&&a(t,["serverContent"],Uc(n,i));const r=s(e,["toolCall"]);r!=null&&a(t,["toolCall"],Oc(n,r));const l=s(e,["toolCallCancellation"]);l!=null&&a(t,["toolCallCancellation"],Hc(n,l));const u=s(e,["usageMetadata"]);u!=null&&a(t,["usageMetadata"],Jc(n,u));const f=s(e,["goAway"]);f!=null&&a(t,["goAway"],zc(n,f));const c=s(e,["sessionResumptionUpdate"]);return c!=null&&a(t,["sessionResumptionUpdate"],Zc(n,c)),t}function jc(){return{}}function ef(n,e){const t={},o=s(e,["text"]);o!=null&&a(t,["text"],o);const i=s(e,["weight"]);return i!=null&&a(t,["weight"],i),t}function tf(n,e){const t={},o=s(e,["weightedPrompts"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>ef(n,r))),a(t,["weightedPrompts"],i)}return t}function nf(n,e){const t={},o=s(e,["temperature"]);o!=null&&a(t,["temperature"],o);const i=s(e,["topK"]);i!=null&&a(t,["topK"],i);const r=s(e,["seed"]);r!=null&&a(t,["seed"],r);const l=s(e,["guidance"]);l!=null&&a(t,["guidance"],l);const u=s(e,["bpm"]);u!=null&&a(t,["bpm"],u);const f=s(e,["density"]);f!=null&&a(t,["density"],f);const c=s(e,["brightness"]);c!=null&&a(t,["brightness"],c);const d=s(e,["scale"]);d!=null&&a(t,["scale"],d);const p=s(e,["muteBass"]);p!=null&&a(t,["muteBass"],p);const m=s(e,["muteDrums"]);m!=null&&a(t,["muteDrums"],m);const y=s(e,["onlyBassAndDrums"]);return y!=null&&a(t,["onlyBassAndDrums"],y),t}function of(n,e){const t={},o=s(e,["clientContent"]);o!=null&&a(t,["clientContent"],tf(n,o));const i=s(e,["musicGenerationConfig"]);return i!=null&&a(t,["musicGenerationConfig"],nf(n,i)),t}function rf(n,e){const t={},o=s(e,["data"]);o!=null&&a(t,["data"],o);const i=s(e,["mimeType"]);i!=null&&a(t,["mimeType"],i);const r=s(e,["sourceMetadata"]);return r!=null&&a(t,["sourceMetadata"],of(n,r)),t}function sf(n,e){const t={},o=s(e,["audioChunks"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>rf(n,r))),a(t,["audioChunks"],i)}return t}function af(n,e){const t={},o=s(e,["text"]);o!=null&&a(t,["text"],o);const i=s(e,["filteredReason"]);return i!=null&&a(t,["filteredReason"],i),t}function lf(n,e){const t={};s(e,["setupComplete"])!=null&&a(t,["setupComplete"],jc());const i=s(e,["serverContent"]);i!=null&&a(t,["serverContent"],sf(n,i));const r=s(e,["filteredPrompt"]);return r!=null&&a(t,["filteredPrompt"],af(n,r)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uf(n,e){const t={},o=s(e,["fps"]);o!=null&&a(t,["fps"],o);const i=s(e,["endOffset"]);i!=null&&a(t,["endOffset"],i);const r=s(e,["startOffset"]);return r!=null&&a(t,["startOffset"],r),t}function cf(n,e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["data"]);o!=null&&a(t,["data"],o);const i=s(e,["mimeType"]);return i!=null&&a(t,["mimeType"],i),t}function ff(n,e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["fileUri"]);o!=null&&a(t,["fileUri"],o);const i=s(e,["mimeType"]);return i!=null&&a(t,["mimeType"],i),t}function df(n,e){const t={},o=s(e,["videoMetadata"]);o!=null&&a(t,["videoMetadata"],uf(n,o));const i=s(e,["thought"]);i!=null&&a(t,["thought"],i);const r=s(e,["inlineData"]);r!=null&&a(t,["inlineData"],cf(n,r));const l=s(e,["fileData"]);l!=null&&a(t,["fileData"],ff(n,l));const u=s(e,["thoughtSignature"]);u!=null&&a(t,["thoughtSignature"],u);const f=s(e,["codeExecutionResult"]);f!=null&&a(t,["codeExecutionResult"],f);const c=s(e,["executableCode"]);c!=null&&a(t,["executableCode"],c);const d=s(e,["functionCall"]);d!=null&&a(t,["functionCall"],d);const p=s(e,["functionResponse"]);p!=null&&a(t,["functionResponse"],p);const m=s(e,["text"]);return m!=null&&a(t,["text"],m),t}function sn(n,e){const t={},o=s(e,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>df(n,l))),a(t,["parts"],r)}const i=s(e,["role"]);return i!=null&&a(t,["role"],i),t}function pf(n,e){const t={},o=s(e,["anyOf"]);o!=null&&a(t,["anyOf"],o);const i=s(e,["default"]);i!=null&&a(t,["default"],i);const r=s(e,["description"]);r!=null&&a(t,["description"],r);const l=s(e,["enum"]);l!=null&&a(t,["enum"],l);const u=s(e,["example"]);u!=null&&a(t,["example"],u);const f=s(e,["format"]);f!=null&&a(t,["format"],f);const c=s(e,["items"]);c!=null&&a(t,["items"],c);const d=s(e,["maxItems"]);d!=null&&a(t,["maxItems"],d);const p=s(e,["maxLength"]);p!=null&&a(t,["maxLength"],p);const m=s(e,["maxProperties"]);m!=null&&a(t,["maxProperties"],m);const y=s(e,["maximum"]);y!=null&&a(t,["maximum"],y);const v=s(e,["minItems"]);v!=null&&a(t,["minItems"],v);const g=s(e,["minLength"]);g!=null&&a(t,["minLength"],g);const _=s(e,["minProperties"]);_!=null&&a(t,["minProperties"],_);const S=s(e,["minimum"]);S!=null&&a(t,["minimum"],S);const A=s(e,["nullable"]);A!=null&&a(t,["nullable"],A);const E=s(e,["pattern"]);E!=null&&a(t,["pattern"],E);const x=s(e,["properties"]);x!=null&&a(t,["properties"],x);const C=s(e,["propertyOrdering"]);C!=null&&a(t,["propertyOrdering"],C);const M=s(e,["required"]);M!=null&&a(t,["required"],M);const R=s(e,["title"]);R!=null&&a(t,["title"],R);const $=s(e,["type"]);return $!=null&&a(t,["type"],$),t}function mf(n,e){const t={};if(s(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(e,["category"]);o!=null&&a(t,["category"],o);const i=s(e,["threshold"]);return i!=null&&a(t,["threshold"],i),t}function hf(n,e){const t={},o=s(e,["behavior"]);o!=null&&a(t,["behavior"],o);const i=s(e,["description"]);i!=null&&a(t,["description"],i);const r=s(e,["name"]);r!=null&&a(t,["name"],r);const l=s(e,["parameters"]);l!=null&&a(t,["parameters"],l);const u=s(e,["response"]);return u!=null&&a(t,["response"],u),t}function gf(n,e){const t={},o=s(e,["startTime"]);o!=null&&a(t,["startTime"],o);const i=s(e,["endTime"]);return i!=null&&a(t,["endTime"],i),t}function yf(n,e){const t={},o=s(e,["timeRangeFilter"]);return o!=null&&a(t,["timeRangeFilter"],gf(n,o)),t}function vf(n,e){const t={},o=s(e,["mode"]);o!=null&&a(t,["mode"],o);const i=s(e,["dynamicThreshold"]);return i!=null&&a(t,["dynamicThreshold"],i),t}function Cf(n,e){const t={},o=s(e,["dynamicRetrievalConfig"]);return o!=null&&a(t,["dynamicRetrievalConfig"],vf(n,o)),t}function Tf(){return{}}function _f(n,e){const t={},o=s(e,["functionDeclarations"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(c=>hf(n,c))),a(t,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(e,["googleSearch"]);i!=null&&a(t,["googleSearch"],yf(n,i));const r=s(e,["googleSearchRetrieval"]);if(r!=null&&a(t,["googleSearchRetrieval"],Cf(n,r)),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(e,["urlContext"])!=null&&a(t,["urlContext"],Tf());const u=s(e,["codeExecution"]);return u!=null&&a(t,["codeExecution"],u),t}function Sf(n,e){const t={},o=s(e,["mode"]);o!=null&&a(t,["mode"],o);const i=s(e,["allowedFunctionNames"]);return i!=null&&a(t,["allowedFunctionNames"],i),t}function Ef(n,e){const t={},o=s(e,["latitude"]);o!=null&&a(t,["latitude"],o);const i=s(e,["longitude"]);return i!=null&&a(t,["longitude"],i),t}function xf(n,e){const t={},o=s(e,["latLng"]);o!=null&&a(t,["latLng"],Ef(n,o));const i=s(e,["languageCode"]);return i!=null&&a(t,["languageCode"],i),t}function Af(n,e){const t={},o=s(e,["functionCallingConfig"]);o!=null&&a(t,["functionCallingConfig"],Sf(n,o));const i=s(e,["retrievalConfig"]);return i!=null&&a(t,["retrievalConfig"],xf(n,i)),t}function If(n,e){const t={},o=s(e,["voiceName"]);return o!=null&&a(t,["voiceName"],o),t}function jr(n,e){const t={},o=s(e,["prebuiltVoiceConfig"]);return o!=null&&a(t,["prebuiltVoiceConfig"],If(n,o)),t}function Mf(n,e){const t={},o=s(e,["speaker"]);o!=null&&a(t,["speaker"],o);const i=s(e,["voiceConfig"]);return i!=null&&a(t,["voiceConfig"],jr(n,i)),t}function wf(n,e){const t={},o=s(e,["speakerVoiceConfigs"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>Mf(n,r))),a(t,["speakerVoiceConfigs"],i)}return t}function Rf(n,e){const t={},o=s(e,["voiceConfig"]);o!=null&&a(t,["voiceConfig"],jr(n,o));const i=s(e,["multiSpeakerVoiceConfig"]);i!=null&&a(t,["multiSpeakerVoiceConfig"],wf(n,i));const r=s(e,["languageCode"]);return r!=null&&a(t,["languageCode"],r),t}function Pf(n,e){const t={},o=s(e,["includeThoughts"]);o!=null&&a(t,["includeThoughts"],o);const i=s(e,["thinkingBudget"]);return i!=null&&a(t,["thinkingBudget"],i),t}function kf(n,e,t){const o={},i=s(e,["systemInstruction"]);t!==void 0&&i!=null&&a(t,["systemInstruction"],sn(n,le(n,i)));const r=s(e,["temperature"]);r!=null&&a(o,["temperature"],r);const l=s(e,["topP"]);l!=null&&a(o,["topP"],l);const u=s(e,["topK"]);u!=null&&a(o,["topK"],u);const f=s(e,["candidateCount"]);f!=null&&a(o,["candidateCount"],f);const c=s(e,["maxOutputTokens"]);c!=null&&a(o,["maxOutputTokens"],c);const d=s(e,["stopSequences"]);d!=null&&a(o,["stopSequences"],d);const p=s(e,["responseLogprobs"]);p!=null&&a(o,["responseLogprobs"],p);const m=s(e,["logprobs"]);m!=null&&a(o,["logprobs"],m);const y=s(e,["presencePenalty"]);y!=null&&a(o,["presencePenalty"],y);const v=s(e,["frequencyPenalty"]);v!=null&&a(o,["frequencyPenalty"],v);const g=s(e,["seed"]);g!=null&&a(o,["seed"],g);const _=s(e,["responseMimeType"]);_!=null&&a(o,["responseMimeType"],_);const S=s(e,["responseSchema"]);if(S!=null&&a(o,["responseSchema"],pf(n,en(n,S))),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const A=s(e,["safetySettings"]);if(t!==void 0&&A!=null){let h=A;Array.isArray(h)&&(h=h.map(w=>mf(n,w))),a(t,["safetySettings"],h)}const E=s(e,["tools"]);if(t!==void 0&&E!=null){let h=Rt(n,E);Array.isArray(h)&&(h=h.map(w=>_f(n,wt(n,w)))),a(t,["tools"],h)}const x=s(e,["toolConfig"]);if(t!==void 0&&x!=null&&a(t,["toolConfig"],Af(n,x)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=s(e,["cachedContent"]);t!==void 0&&C!=null&&a(t,["cachedContent"],Ue(n,C));const M=s(e,["responseModalities"]);M!=null&&a(o,["responseModalities"],M);const R=s(e,["mediaResolution"]);R!=null&&a(o,["mediaResolution"],R);const $=s(e,["speechConfig"]);if($!=null&&a(o,["speechConfig"],Rf(n,Or(n,$))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const D=s(e,["thinkingConfig"]);return D!=null&&a(o,["thinkingConfig"],Pf(n,D)),o}function Yi(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],Z(n,o));const i=s(e,["contents"]);if(i!=null){let l=ve(n,i);Array.isArray(l)&&(l=l.map(u=>sn(n,u))),a(t,["contents"],l)}const r=s(e,["config"]);return r!=null&&a(t,["generationConfig"],kf(n,r,t)),t}function Nf(n,e,t){const o={},i=s(e,["taskType"]);t!==void 0&&i!=null&&a(t,["requests[]","taskType"],i);const r=s(e,["title"]);t!==void 0&&r!=null&&a(t,["requests[]","title"],r);const l=s(e,["outputDimensionality"]);if(t!==void 0&&l!=null&&a(t,["requests[]","outputDimensionality"],l),s(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function Df(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],Z(n,o));const i=s(e,["contents"]);i!=null&&a(t,["requests[]","content"],Gr(n,i));const r=s(e,["config"]);r!=null&&a(t,["config"],Nf(n,r,t));const l=s(e,["model"]);return l!==void 0&&a(t,["requests[]","model"],Z(n,l)),t}function bf(n,e,t){const o={};if(s(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=s(e,["numberOfImages"]);t!==void 0&&i!=null&&a(t,["parameters","sampleCount"],i);const r=s(e,["aspectRatio"]);t!==void 0&&r!=null&&a(t,["parameters","aspectRatio"],r);const l=s(e,["guidanceScale"]);if(t!==void 0&&l!=null&&a(t,["parameters","guidanceScale"],l),s(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=s(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&a(t,["parameters","safetySetting"],u);const f=s(e,["personGeneration"]);t!==void 0&&f!=null&&a(t,["parameters","personGeneration"],f);const c=s(e,["includeSafetyAttributes"]);t!==void 0&&c!=null&&a(t,["parameters","includeSafetyAttributes"],c);const d=s(e,["includeRaiReason"]);t!==void 0&&d!=null&&a(t,["parameters","includeRaiReason"],d);const p=s(e,["language"]);t!==void 0&&p!=null&&a(t,["parameters","language"],p);const m=s(e,["outputMimeType"]);t!==void 0&&m!=null&&a(t,["parameters","outputOptions","mimeType"],m);const y=s(e,["outputCompressionQuality"]);if(t!==void 0&&y!=null&&a(t,["parameters","outputOptions","compressionQuality"],y),s(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function Ff(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],Z(n,o));const i=s(e,["prompt"]);i!=null&&a(t,["instances[0]","prompt"],i);const r=s(e,["config"]);return r!=null&&a(t,["config"],bf(n,r,t)),t}function Lf(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","name"],Z(n,o));const i=s(e,["config"]);return i!=null&&a(t,["config"],i),t}function Vf(n,e,t){const o={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&a(t,["_query","pageSize"],i);const r=s(e,["pageToken"]);t!==void 0&&r!=null&&a(t,["_query","pageToken"],r);const l=s(e,["filter"]);t!==void 0&&l!=null&&a(t,["_query","filter"],l);const u=s(e,["queryBase"]);return t!==void 0&&u!=null&&a(t,["_url","models_url"],Wr(n,u)),o}function Uf(n,e){const t={},o=s(e,["config"]);return o!=null&&a(t,["config"],Vf(n,o,t)),t}function $f(n,e,t){const o={},i=s(e,["displayName"]);t!==void 0&&i!=null&&a(t,["displayName"],i);const r=s(e,["description"]);t!==void 0&&r!=null&&a(t,["description"],r);const l=s(e,["defaultCheckpointId"]);return t!==void 0&&l!=null&&a(t,["defaultCheckpointId"],l),o}function Bf(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","name"],Z(n,o));const i=s(e,["config"]);return i!=null&&a(t,["config"],$f(n,i,t)),t}function Gf(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","name"],Z(n,o));const i=s(e,["config"]);return i!=null&&a(t,["config"],i),t}function Of(n,e){const t={};if(s(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function qf(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],Z(n,o));const i=s(e,["contents"]);if(i!=null){let l=ve(n,i);Array.isArray(l)&&(l=l.map(u=>sn(n,u))),a(t,["contents"],l)}const r=s(e,["config"]);return r!=null&&a(t,["config"],Of(n,r)),t}function Hf(n,e){const t={};if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=s(e,["imageBytes"]);o!=null&&a(t,["bytesBase64Encoded"],Ne(n,o));const i=s(e,["mimeType"]);return i!=null&&a(t,["mimeType"],i),t}function Wf(n,e,t){const o={},i=s(e,["numberOfVideos"]);if(t!==void 0&&i!=null&&a(t,["parameters","sampleCount"],i),s(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=s(e,["durationSeconds"]);if(t!==void 0&&r!=null&&a(t,["parameters","durationSeconds"],r),s(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=s(e,["aspectRatio"]);if(t!==void 0&&l!=null&&a(t,["parameters","aspectRatio"],l),s(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const u=s(e,["personGeneration"]);if(t!==void 0&&u!=null&&a(t,["parameters","personGeneration"],u),s(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=s(e,["negativePrompt"]);t!==void 0&&f!=null&&a(t,["parameters","negativePrompt"],f);const c=s(e,["enhancePrompt"]);if(t!==void 0&&c!=null&&a(t,["parameters","enhancePrompt"],c),s(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(s(e,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");return o}function Jf(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],Z(n,o));const i=s(e,["prompt"]);i!=null&&a(t,["instances[0]","prompt"],i);const r=s(e,["image"]);if(r!=null&&a(t,["instances[0]","image"],Hf(n,r)),s(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const l=s(e,["config"]);return l!=null&&a(t,["config"],Wf(n,l,t)),t}function Kf(n,e){const t={},o=s(e,["fps"]);o!=null&&a(t,["fps"],o);const i=s(e,["endOffset"]);i!=null&&a(t,["endOffset"],i);const r=s(e,["startOffset"]);return r!=null&&a(t,["startOffset"],r),t}function zf(n,e){const t={},o=s(e,["displayName"]);o!=null&&a(t,["displayName"],o);const i=s(e,["data"]);i!=null&&a(t,["data"],i);const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function Yf(n,e){const t={},o=s(e,["displayName"]);o!=null&&a(t,["displayName"],o);const i=s(e,["fileUri"]);i!=null&&a(t,["fileUri"],i);const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function Zf(n,e){const t={},o=s(e,["videoMetadata"]);o!=null&&a(t,["videoMetadata"],Kf(n,o));const i=s(e,["thought"]);i!=null&&a(t,["thought"],i);const r=s(e,["inlineData"]);r!=null&&a(t,["inlineData"],zf(n,r));const l=s(e,["fileData"]);l!=null&&a(t,["fileData"],Yf(n,l));const u=s(e,["thoughtSignature"]);u!=null&&a(t,["thoughtSignature"],u);const f=s(e,["codeExecutionResult"]);f!=null&&a(t,["codeExecutionResult"],f);const c=s(e,["executableCode"]);c!=null&&a(t,["executableCode"],c);const d=s(e,["functionCall"]);d!=null&&a(t,["functionCall"],d);const p=s(e,["functionResponse"]);p!=null&&a(t,["functionResponse"],p);const m=s(e,["text"]);return m!=null&&a(t,["text"],m),t}function ft(n,e){const t={},o=s(e,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>Zf(n,l))),a(t,["parts"],r)}const i=s(e,["role"]);return i!=null&&a(t,["role"],i),t}function Xf(n,e){const t={},o=s(e,["anyOf"]);o!=null&&a(t,["anyOf"],o);const i=s(e,["default"]);i!=null&&a(t,["default"],i);const r=s(e,["description"]);r!=null&&a(t,["description"],r);const l=s(e,["enum"]);l!=null&&a(t,["enum"],l);const u=s(e,["example"]);u!=null&&a(t,["example"],u);const f=s(e,["format"]);f!=null&&a(t,["format"],f);const c=s(e,["items"]);c!=null&&a(t,["items"],c);const d=s(e,["maxItems"]);d!=null&&a(t,["maxItems"],d);const p=s(e,["maxLength"]);p!=null&&a(t,["maxLength"],p);const m=s(e,["maxProperties"]);m!=null&&a(t,["maxProperties"],m);const y=s(e,["maximum"]);y!=null&&a(t,["maximum"],y);const v=s(e,["minItems"]);v!=null&&a(t,["minItems"],v);const g=s(e,["minLength"]);g!=null&&a(t,["minLength"],g);const _=s(e,["minProperties"]);_!=null&&a(t,["minProperties"],_);const S=s(e,["minimum"]);S!=null&&a(t,["minimum"],S);const A=s(e,["nullable"]);A!=null&&a(t,["nullable"],A);const E=s(e,["pattern"]);E!=null&&a(t,["pattern"],E);const x=s(e,["properties"]);x!=null&&a(t,["properties"],x);const C=s(e,["propertyOrdering"]);C!=null&&a(t,["propertyOrdering"],C);const M=s(e,["required"]);M!=null&&a(t,["required"],M);const R=s(e,["title"]);R!=null&&a(t,["title"],R);const $=s(e,["type"]);return $!=null&&a(t,["type"],$),t}function Qf(n,e){const t={},o=s(e,["featureSelectionPreference"]);return o!=null&&a(t,["featureSelectionPreference"],o),t}function jf(n,e){const t={},o=s(e,["method"]);o!=null&&a(t,["method"],o);const i=s(e,["category"]);i!=null&&a(t,["category"],i);const r=s(e,["threshold"]);return r!=null&&a(t,["threshold"],r),t}function ed(n,e){const t={};if(s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=s(e,["description"]);o!=null&&a(t,["description"],o);const i=s(e,["name"]);i!=null&&a(t,["name"],i);const r=s(e,["parameters"]);r!=null&&a(t,["parameters"],r);const l=s(e,["response"]);return l!=null&&a(t,["response"],l),t}function td(n,e){const t={},o=s(e,["startTime"]);o!=null&&a(t,["startTime"],o);const i=s(e,["endTime"]);return i!=null&&a(t,["endTime"],i),t}function nd(n,e){const t={},o=s(e,["timeRangeFilter"]);return o!=null&&a(t,["timeRangeFilter"],td(n,o)),t}function od(n,e){const t={},o=s(e,["mode"]);o!=null&&a(t,["mode"],o);const i=s(e,["dynamicThreshold"]);return i!=null&&a(t,["dynamicThreshold"],i),t}function id(n,e){const t={},o=s(e,["dynamicRetrievalConfig"]);return o!=null&&a(t,["dynamicRetrievalConfig"],od(n,o)),t}function rd(){return{}}function sd(n,e){const t={},o=s(e,["apiKeyString"]);return o!=null&&a(t,["apiKeyString"],o),t}function ad(n,e){const t={},o=s(e,["apiKeyConfig"]);o!=null&&a(t,["apiKeyConfig"],sd(n,o));const i=s(e,["authType"]);i!=null&&a(t,["authType"],i);const r=s(e,["googleServiceAccountConfig"]);r!=null&&a(t,["googleServiceAccountConfig"],r);const l=s(e,["httpBasicAuthConfig"]);l!=null&&a(t,["httpBasicAuthConfig"],l);const u=s(e,["oauthConfig"]);u!=null&&a(t,["oauthConfig"],u);const f=s(e,["oidcConfig"]);return f!=null&&a(t,["oidcConfig"],f),t}function ld(n,e){const t={},o=s(e,["authConfig"]);return o!=null&&a(t,["authConfig"],ad(n,o)),t}function ud(){return{}}function es(n,e){const t={},o=s(e,["functionDeclarations"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(m=>ed(n,m))),a(t,["functionDeclarations"],p)}const i=s(e,["retrieval"]);i!=null&&a(t,["retrieval"],i);const r=s(e,["googleSearch"]);r!=null&&a(t,["googleSearch"],nd(n,r));const l=s(e,["googleSearchRetrieval"]);l!=null&&a(t,["googleSearchRetrieval"],id(n,l)),s(e,["enterpriseWebSearch"])!=null&&a(t,["enterpriseWebSearch"],rd());const f=s(e,["googleMaps"]);f!=null&&a(t,["googleMaps"],ld(n,f)),s(e,["urlContext"])!=null&&a(t,["urlContext"],ud());const d=s(e,["codeExecution"]);return d!=null&&a(t,["codeExecution"],d),t}function cd(n,e){const t={},o=s(e,["mode"]);o!=null&&a(t,["mode"],o);const i=s(e,["allowedFunctionNames"]);return i!=null&&a(t,["allowedFunctionNames"],i),t}function fd(n,e){const t={},o=s(e,["latitude"]);o!=null&&a(t,["latitude"],o);const i=s(e,["longitude"]);return i!=null&&a(t,["longitude"],i),t}function dd(n,e){const t={},o=s(e,["latLng"]);o!=null&&a(t,["latLng"],fd(n,o));const i=s(e,["languageCode"]);return i!=null&&a(t,["languageCode"],i),t}function pd(n,e){const t={},o=s(e,["functionCallingConfig"]);o!=null&&a(t,["functionCallingConfig"],cd(n,o));const i=s(e,["retrievalConfig"]);return i!=null&&a(t,["retrievalConfig"],dd(n,i)),t}function md(n,e){const t={},o=s(e,["voiceName"]);return o!=null&&a(t,["voiceName"],o),t}function hd(n,e){const t={},o=s(e,["prebuiltVoiceConfig"]);return o!=null&&a(t,["prebuiltVoiceConfig"],md(n,o)),t}function gd(n,e){const t={},o=s(e,["voiceConfig"]);if(o!=null&&a(t,["voiceConfig"],hd(n,o)),s(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=s(e,["languageCode"]);return i!=null&&a(t,["languageCode"],i),t}function yd(n,e){const t={},o=s(e,["includeThoughts"]);o!=null&&a(t,["includeThoughts"],o);const i=s(e,["thinkingBudget"]);return i!=null&&a(t,["thinkingBudget"],i),t}function vd(n,e,t){const o={},i=s(e,["systemInstruction"]);t!==void 0&&i!=null&&a(t,["systemInstruction"],ft(n,le(n,i)));const r=s(e,["temperature"]);r!=null&&a(o,["temperature"],r);const l=s(e,["topP"]);l!=null&&a(o,["topP"],l);const u=s(e,["topK"]);u!=null&&a(o,["topK"],u);const f=s(e,["candidateCount"]);f!=null&&a(o,["candidateCount"],f);const c=s(e,["maxOutputTokens"]);c!=null&&a(o,["maxOutputTokens"],c);const d=s(e,["stopSequences"]);d!=null&&a(o,["stopSequences"],d);const p=s(e,["responseLogprobs"]);p!=null&&a(o,["responseLogprobs"],p);const m=s(e,["logprobs"]);m!=null&&a(o,["logprobs"],m);const y=s(e,["presencePenalty"]);y!=null&&a(o,["presencePenalty"],y);const v=s(e,["frequencyPenalty"]);v!=null&&a(o,["frequencyPenalty"],v);const g=s(e,["seed"]);g!=null&&a(o,["seed"],g);const _=s(e,["responseMimeType"]);_!=null&&a(o,["responseMimeType"],_);const S=s(e,["responseSchema"]);S!=null&&a(o,["responseSchema"],Xf(n,en(n,S)));const A=s(e,["routingConfig"]);A!=null&&a(o,["routingConfig"],A);const E=s(e,["modelSelectionConfig"]);E!=null&&a(o,["modelConfig"],Qf(n,E));const x=s(e,["safetySettings"]);if(t!==void 0&&x!=null){let X=x;Array.isArray(X)&&(X=X.map(ce=>jf(n,ce))),a(t,["safetySettings"],X)}const C=s(e,["tools"]);if(t!==void 0&&C!=null){let X=Rt(n,C);Array.isArray(X)&&(X=X.map(ce=>es(n,wt(n,ce)))),a(t,["tools"],X)}const M=s(e,["toolConfig"]);t!==void 0&&M!=null&&a(t,["toolConfig"],pd(n,M));const R=s(e,["labels"]);t!==void 0&&R!=null&&a(t,["labels"],R);const $=s(e,["cachedContent"]);t!==void 0&&$!=null&&a(t,["cachedContent"],Ue(n,$));const D=s(e,["responseModalities"]);D!=null&&a(o,["responseModalities"],D);const h=s(e,["mediaResolution"]);h!=null&&a(o,["mediaResolution"],h);const w=s(e,["speechConfig"]);w!=null&&a(o,["speechConfig"],gd(n,Or(n,w)));const V=s(e,["audioTimestamp"]);V!=null&&a(o,["audioTimestamp"],V);const W=s(e,["thinkingConfig"]);return W!=null&&a(o,["thinkingConfig"],yd(n,W)),o}function Zi(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],Z(n,o));const i=s(e,["contents"]);if(i!=null){let l=ve(n,i);Array.isArray(l)&&(l=l.map(u=>ft(n,u))),a(t,["contents"],l)}const r=s(e,["config"]);return r!=null&&a(t,["generationConfig"],vd(n,r,t)),t}function Cd(n,e,t){const o={},i=s(e,["taskType"]);t!==void 0&&i!=null&&a(t,["instances[]","task_type"],i);const r=s(e,["title"]);t!==void 0&&r!=null&&a(t,["instances[]","title"],r);const l=s(e,["outputDimensionality"]);t!==void 0&&l!=null&&a(t,["parameters","outputDimensionality"],l);const u=s(e,["mimeType"]);t!==void 0&&u!=null&&a(t,["instances[]","mimeType"],u);const f=s(e,["autoTruncate"]);return t!==void 0&&f!=null&&a(t,["parameters","autoTruncate"],f),o}function Td(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],Z(n,o));const i=s(e,["contents"]);i!=null&&a(t,["instances[]","content"],Gr(n,i));const r=s(e,["config"]);return r!=null&&a(t,["config"],Cd(n,r,t)),t}function _d(n,e,t){const o={},i=s(e,["outputGcsUri"]);t!==void 0&&i!=null&&a(t,["parameters","storageUri"],i);const r=s(e,["negativePrompt"]);t!==void 0&&r!=null&&a(t,["parameters","negativePrompt"],r);const l=s(e,["numberOfImages"]);t!==void 0&&l!=null&&a(t,["parameters","sampleCount"],l);const u=s(e,["aspectRatio"]);t!==void 0&&u!=null&&a(t,["parameters","aspectRatio"],u);const f=s(e,["guidanceScale"]);t!==void 0&&f!=null&&a(t,["parameters","guidanceScale"],f);const c=s(e,["seed"]);t!==void 0&&c!=null&&a(t,["parameters","seed"],c);const d=s(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&a(t,["parameters","safetySetting"],d);const p=s(e,["personGeneration"]);t!==void 0&&p!=null&&a(t,["parameters","personGeneration"],p);const m=s(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&a(t,["parameters","includeSafetyAttributes"],m);const y=s(e,["includeRaiReason"]);t!==void 0&&y!=null&&a(t,["parameters","includeRaiReason"],y);const v=s(e,["language"]);t!==void 0&&v!=null&&a(t,["parameters","language"],v);const g=s(e,["outputMimeType"]);t!==void 0&&g!=null&&a(t,["parameters","outputOptions","mimeType"],g);const _=s(e,["outputCompressionQuality"]);t!==void 0&&_!=null&&a(t,["parameters","outputOptions","compressionQuality"],_);const S=s(e,["addWatermark"]);t!==void 0&&S!=null&&a(t,["parameters","addWatermark"],S);const A=s(e,["enhancePrompt"]);return t!==void 0&&A!=null&&a(t,["parameters","enhancePrompt"],A),o}function Sd(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],Z(n,o));const i=s(e,["prompt"]);i!=null&&a(t,["instances[0]","prompt"],i);const r=s(e,["config"]);return r!=null&&a(t,["config"],_d(n,r,t)),t}function an(n,e){const t={},o=s(e,["gcsUri"]);o!=null&&a(t,["gcsUri"],o);const i=s(e,["imageBytes"]);i!=null&&a(t,["bytesBase64Encoded"],Ne(n,i));const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function Ed(n,e){const t={},o=s(e,["maskMode"]);o!=null&&a(t,["maskMode"],o);const i=s(e,["segmentationClasses"]);i!=null&&a(t,["maskClasses"],i);const r=s(e,["maskDilation"]);return r!=null&&a(t,["dilation"],r),t}function xd(n,e){const t={},o=s(e,["controlType"]);o!=null&&a(t,["controlType"],o);const i=s(e,["enableControlImageComputation"]);return i!=null&&a(t,["computeControl"],i),t}function Ad(n,e){const t={},o=s(e,["styleDescription"]);return o!=null&&a(t,["styleDescription"],o),t}function Id(n,e){const t={},o=s(e,["subjectType"]);o!=null&&a(t,["subjectType"],o);const i=s(e,["subjectDescription"]);return i!=null&&a(t,["subjectDescription"],i),t}function Md(n,e){const t={},o=s(e,["referenceImage"]);o!=null&&a(t,["referenceImage"],an(n,o));const i=s(e,["referenceId"]);i!=null&&a(t,["referenceId"],i);const r=s(e,["referenceType"]);r!=null&&a(t,["referenceType"],r);const l=s(e,["maskImageConfig"]);l!=null&&a(t,["maskImageConfig"],Ed(n,l));const u=s(e,["controlImageConfig"]);u!=null&&a(t,["controlImageConfig"],xd(n,u));const f=s(e,["styleImageConfig"]);f!=null&&a(t,["styleImageConfig"],Ad(n,f));const c=s(e,["subjectImageConfig"]);return c!=null&&a(t,["subjectImageConfig"],Id(n,c)),t}function wd(n,e,t){const o={},i=s(e,["outputGcsUri"]);t!==void 0&&i!=null&&a(t,["parameters","storageUri"],i);const r=s(e,["negativePrompt"]);t!==void 0&&r!=null&&a(t,["parameters","negativePrompt"],r);const l=s(e,["numberOfImages"]);t!==void 0&&l!=null&&a(t,["parameters","sampleCount"],l);const u=s(e,["aspectRatio"]);t!==void 0&&u!=null&&a(t,["parameters","aspectRatio"],u);const f=s(e,["guidanceScale"]);t!==void 0&&f!=null&&a(t,["parameters","guidanceScale"],f);const c=s(e,["seed"]);t!==void 0&&c!=null&&a(t,["parameters","seed"],c);const d=s(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&a(t,["parameters","safetySetting"],d);const p=s(e,["personGeneration"]);t!==void 0&&p!=null&&a(t,["parameters","personGeneration"],p);const m=s(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&a(t,["parameters","includeSafetyAttributes"],m);const y=s(e,["includeRaiReason"]);t!==void 0&&y!=null&&a(t,["parameters","includeRaiReason"],y);const v=s(e,["language"]);t!==void 0&&v!=null&&a(t,["parameters","language"],v);const g=s(e,["outputMimeType"]);t!==void 0&&g!=null&&a(t,["parameters","outputOptions","mimeType"],g);const _=s(e,["outputCompressionQuality"]);t!==void 0&&_!=null&&a(t,["parameters","outputOptions","compressionQuality"],_);const S=s(e,["editMode"]);t!==void 0&&S!=null&&a(t,["parameters","editMode"],S);const A=s(e,["baseSteps"]);return t!==void 0&&A!=null&&a(t,["parameters","editConfig","baseSteps"],A),o}function Rd(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],Z(n,o));const i=s(e,["prompt"]);i!=null&&a(t,["instances[0]","prompt"],i);const r=s(e,["referenceImages"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>Md(n,f))),a(t,["instances[0]","referenceImages"],u)}const l=s(e,["config"]);return l!=null&&a(t,["config"],wd(n,l,t)),t}function Pd(n,e,t){const o={},i=s(e,["includeRaiReason"]);t!==void 0&&i!=null&&a(t,["parameters","includeRaiReason"],i);const r=s(e,["outputMimeType"]);t!==void 0&&r!=null&&a(t,["parameters","outputOptions","mimeType"],r);const l=s(e,["outputCompressionQuality"]);t!==void 0&&l!=null&&a(t,["parameters","outputOptions","compressionQuality"],l);const u=s(e,["numberOfImages"]);t!==void 0&&u!=null&&a(t,["parameters","sampleCount"],u);const f=s(e,["mode"]);return t!==void 0&&f!=null&&a(t,["parameters","mode"],f),o}function kd(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],Z(n,o));const i=s(e,["image"]);i!=null&&a(t,["instances[0]","image"],an(n,i));const r=s(e,["upscaleFactor"]);r!=null&&a(t,["parameters","upscaleConfig","upscaleFactor"],r);const l=s(e,["config"]);return l!=null&&a(t,["config"],Pd(n,l,t)),t}function Nd(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","name"],Z(n,o));const i=s(e,["config"]);return i!=null&&a(t,["config"],i),t}function Dd(n,e,t){const o={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&a(t,["_query","pageSize"],i);const r=s(e,["pageToken"]);t!==void 0&&r!=null&&a(t,["_query","pageToken"],r);const l=s(e,["filter"]);t!==void 0&&l!=null&&a(t,["_query","filter"],l);const u=s(e,["queryBase"]);return t!==void 0&&u!=null&&a(t,["_url","models_url"],Wr(n,u)),o}function bd(n,e){const t={},o=s(e,["config"]);return o!=null&&a(t,["config"],Dd(n,o,t)),t}function Fd(n,e,t){const o={},i=s(e,["displayName"]);t!==void 0&&i!=null&&a(t,["displayName"],i);const r=s(e,["description"]);t!==void 0&&r!=null&&a(t,["description"],r);const l=s(e,["defaultCheckpointId"]);return t!==void 0&&l!=null&&a(t,["defaultCheckpointId"],l),o}function Ld(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],Z(n,o));const i=s(e,["config"]);return i!=null&&a(t,["config"],Fd(n,i,t)),t}function Vd(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","name"],Z(n,o));const i=s(e,["config"]);return i!=null&&a(t,["config"],i),t}function Ud(n,e,t){const o={},i=s(e,["systemInstruction"]);t!==void 0&&i!=null&&a(t,["systemInstruction"],ft(n,le(n,i)));const r=s(e,["tools"]);if(t!==void 0&&r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>es(n,f))),a(t,["tools"],u)}const l=s(e,["generationConfig"]);return t!==void 0&&l!=null&&a(t,["generationConfig"],l),o}function $d(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],Z(n,o));const i=s(e,["contents"]);if(i!=null){let l=ve(n,i);Array.isArray(l)&&(l=l.map(u=>ft(n,u))),a(t,["contents"],l)}const r=s(e,["config"]);return r!=null&&a(t,["config"],Ud(n,r,t)),t}function Bd(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],Z(n,o));const i=s(e,["contents"]);if(i!=null){let l=ve(n,i);Array.isArray(l)&&(l=l.map(u=>ft(n,u))),a(t,["contents"],l)}const r=s(e,["config"]);return r!=null&&a(t,["config"],r),t}function Gd(n,e){const t={},o=s(e,["uri"]);o!=null&&a(t,["gcsUri"],o);const i=s(e,["videoBytes"]);i!=null&&a(t,["bytesBase64Encoded"],Ne(n,i));const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function Od(n,e,t){const o={},i=s(e,["numberOfVideos"]);t!==void 0&&i!=null&&a(t,["parameters","sampleCount"],i);const r=s(e,["outputGcsUri"]);t!==void 0&&r!=null&&a(t,["parameters","storageUri"],r);const l=s(e,["fps"]);t!==void 0&&l!=null&&a(t,["parameters","fps"],l);const u=s(e,["durationSeconds"]);t!==void 0&&u!=null&&a(t,["parameters","durationSeconds"],u);const f=s(e,["seed"]);t!==void 0&&f!=null&&a(t,["parameters","seed"],f);const c=s(e,["aspectRatio"]);t!==void 0&&c!=null&&a(t,["parameters","aspectRatio"],c);const d=s(e,["resolution"]);t!==void 0&&d!=null&&a(t,["parameters","resolution"],d);const p=s(e,["personGeneration"]);t!==void 0&&p!=null&&a(t,["parameters","personGeneration"],p);const m=s(e,["pubsubTopic"]);t!==void 0&&m!=null&&a(t,["parameters","pubsubTopic"],m);const y=s(e,["negativePrompt"]);t!==void 0&&y!=null&&a(t,["parameters","negativePrompt"],y);const v=s(e,["enhancePrompt"]);t!==void 0&&v!=null&&a(t,["parameters","enhancePrompt"],v);const g=s(e,["generateAudio"]);t!==void 0&&g!=null&&a(t,["parameters","generateAudio"],g);const _=s(e,["lastFrame"]);return t!==void 0&&_!=null&&a(t,["instances[0]","lastFrame"],an(n,_)),o}function qd(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],Z(n,o));const i=s(e,["prompt"]);i!=null&&a(t,["instances[0]","prompt"],i);const r=s(e,["image"]);r!=null&&a(t,["instances[0]","image"],an(n,r));const l=s(e,["video"]);l!=null&&a(t,["instances[0]","video"],Gd(n,l));const u=s(e,["config"]);return u!=null&&a(t,["config"],Od(n,u,t)),t}function Hd(n,e){const t={},o=s(e,["fps"]);o!=null&&a(t,["fps"],o);const i=s(e,["endOffset"]);i!=null&&a(t,["endOffset"],i);const r=s(e,["startOffset"]);return r!=null&&a(t,["startOffset"],r),t}function Wd(n,e){const t={},o=s(e,["data"]);o!=null&&a(t,["data"],o);const i=s(e,["mimeType"]);return i!=null&&a(t,["mimeType"],i),t}function Jd(n,e){const t={},o=s(e,["fileUri"]);o!=null&&a(t,["fileUri"],o);const i=s(e,["mimeType"]);return i!=null&&a(t,["mimeType"],i),t}function Kd(n,e){const t={},o=s(e,["videoMetadata"]);o!=null&&a(t,["videoMetadata"],Hd(n,o));const i=s(e,["thought"]);i!=null&&a(t,["thought"],i);const r=s(e,["inlineData"]);r!=null&&a(t,["inlineData"],Wd(n,r));const l=s(e,["fileData"]);l!=null&&a(t,["fileData"],Jd(n,l));const u=s(e,["thoughtSignature"]);u!=null&&a(t,["thoughtSignature"],u);const f=s(e,["codeExecutionResult"]);f!=null&&a(t,["codeExecutionResult"],f);const c=s(e,["executableCode"]);c!=null&&a(t,["executableCode"],c);const d=s(e,["functionCall"]);d!=null&&a(t,["functionCall"],d);const p=s(e,["functionResponse"]);p!=null&&a(t,["functionResponse"],p);const m=s(e,["text"]);return m!=null&&a(t,["text"],m),t}function zd(n,e){const t={},o=s(e,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>Kd(n,l))),a(t,["parts"],r)}const i=s(e,["role"]);return i!=null&&a(t,["role"],i),t}function Yd(n,e){const t={},o=s(e,["citationSources"]);return o!=null&&a(t,["citations"],o),t}function Zd(n,e){const t={},o=s(e,["retrievedUrl"]);o!=null&&a(t,["retrievedUrl"],o);const i=s(e,["urlRetrievalStatus"]);return i!=null&&a(t,["urlRetrievalStatus"],i),t}function Xd(n,e){const t={},o=s(e,["urlMetadata"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>Zd(n,r))),a(t,["urlMetadata"],i)}return t}function Qd(n,e){const t={},o=s(e,["content"]);o!=null&&a(t,["content"],zd(n,o));const i=s(e,["citationMetadata"]);i!=null&&a(t,["citationMetadata"],Yd(n,i));const r=s(e,["tokenCount"]);r!=null&&a(t,["tokenCount"],r);const l=s(e,["finishReason"]);l!=null&&a(t,["finishReason"],l);const u=s(e,["urlContextMetadata"]);u!=null&&a(t,["urlContextMetadata"],Xd(n,u));const f=s(e,["avgLogprobs"]);f!=null&&a(t,["avgLogprobs"],f);const c=s(e,["groundingMetadata"]);c!=null&&a(t,["groundingMetadata"],c);const d=s(e,["index"]);d!=null&&a(t,["index"],d);const p=s(e,["logprobsResult"]);p!=null&&a(t,["logprobsResult"],p);const m=s(e,["safetyRatings"]);return m!=null&&a(t,["safetyRatings"],m),t}function Xi(n,e){const t={},o=s(e,["candidates"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>Qd(n,f))),a(t,["candidates"],u)}const i=s(e,["modelVersion"]);i!=null&&a(t,["modelVersion"],i);const r=s(e,["promptFeedback"]);r!=null&&a(t,["promptFeedback"],r);const l=s(e,["usageMetadata"]);return l!=null&&a(t,["usageMetadata"],l),t}function jd(n,e){const t={},o=s(e,["values"]);return o!=null&&a(t,["values"],o),t}function ep(){return{}}function tp(n,e){const t={},o=s(e,["embeddings"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>jd(n,l))),a(t,["embeddings"],r)}return s(e,["metadata"])!=null&&a(t,["metadata"],ep()),t}function np(n,e){const t={},o=s(e,["bytesBase64Encoded"]);o!=null&&a(t,["imageBytes"],Ne(n,o));const i=s(e,["mimeType"]);return i!=null&&a(t,["mimeType"],i),t}function ts(n,e){const t={},o=s(e,["safetyAttributes","categories"]);o!=null&&a(t,["categories"],o);const i=s(e,["safetyAttributes","scores"]);i!=null&&a(t,["scores"],i);const r=s(e,["contentType"]);return r!=null&&a(t,["contentType"],r),t}function op(n,e){const t={},o=s(e,["_self"]);o!=null&&a(t,["image"],np(n,o));const i=s(e,["raiFilteredReason"]);i!=null&&a(t,["raiFilteredReason"],i);const r=s(e,["_self"]);return r!=null&&a(t,["safetyAttributes"],ts(n,r)),t}function ip(n,e){const t={},o=s(e,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>op(n,l))),a(t,["generatedImages"],r)}const i=s(e,["positivePromptSafetyAttributes"]);return i!=null&&a(t,["positivePromptSafetyAttributes"],ts(n,i)),t}function rp(n,e){const t={},o=s(e,["baseModel"]);o!=null&&a(t,["baseModel"],o);const i=s(e,["createTime"]);i!=null&&a(t,["createTime"],i);const r=s(e,["updateTime"]);return r!=null&&a(t,["updateTime"],r),t}function On(n,e){const t={},o=s(e,["name"]);o!=null&&a(t,["name"],o);const i=s(e,["displayName"]);i!=null&&a(t,["displayName"],i);const r=s(e,["description"]);r!=null&&a(t,["description"],r);const l=s(e,["version"]);l!=null&&a(t,["version"],l);const u=s(e,["_self"]);u!=null&&a(t,["tunedModelInfo"],rp(n,u));const f=s(e,["inputTokenLimit"]);f!=null&&a(t,["inputTokenLimit"],f);const c=s(e,["outputTokenLimit"]);c!=null&&a(t,["outputTokenLimit"],c);const d=s(e,["supportedGenerationMethods"]);return d!=null&&a(t,["supportedActions"],d),t}function sp(n,e){const t={},o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const i=s(e,["_self"]);if(i!=null){let r=Jr(n,i);Array.isArray(r)&&(r=r.map(l=>On(n,l))),a(t,["models"],r)}return t}function ap(){return{}}function lp(n,e){const t={},o=s(e,["totalTokens"]);o!=null&&a(t,["totalTokens"],o);const i=s(e,["cachedContentTokenCount"]);return i!=null&&a(t,["cachedContentTokenCount"],i),t}function up(n,e){const t={},o=s(e,["video","uri"]);o!=null&&a(t,["uri"],o);const i=s(e,["video","encodedVideo"]);i!=null&&a(t,["videoBytes"],Ne(n,i));const r=s(e,["encoding"]);return r!=null&&a(t,["mimeType"],r),t}function cp(n,e){const t={},o=s(e,["_self"]);return o!=null&&a(t,["video"],up(n,o)),t}function fp(n,e){const t={},o=s(e,["generatedSamples"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>cp(n,u))),a(t,["generatedVideos"],l)}const i=s(e,["raiMediaFilteredCount"]);i!=null&&a(t,["raiMediaFilteredCount"],i);const r=s(e,["raiMediaFilteredReasons"]);return r!=null&&a(t,["raiMediaFilteredReasons"],r),t}function dp(n,e){const t={},o=s(e,["name"]);o!=null&&a(t,["name"],o);const i=s(e,["metadata"]);i!=null&&a(t,["metadata"],i);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const l=s(e,["error"]);l!=null&&a(t,["error"],l);const u=s(e,["response","generateVideoResponse"]);return u!=null&&a(t,["response"],fp(n,u)),t}function pp(n,e){const t={},o=s(e,["fps"]);o!=null&&a(t,["fps"],o);const i=s(e,["endOffset"]);i!=null&&a(t,["endOffset"],i);const r=s(e,["startOffset"]);return r!=null&&a(t,["startOffset"],r),t}function mp(n,e){const t={},o=s(e,["displayName"]);o!=null&&a(t,["displayName"],o);const i=s(e,["data"]);i!=null&&a(t,["data"],i);const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function hp(n,e){const t={},o=s(e,["displayName"]);o!=null&&a(t,["displayName"],o);const i=s(e,["fileUri"]);i!=null&&a(t,["fileUri"],i);const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function gp(n,e){const t={},o=s(e,["videoMetadata"]);o!=null&&a(t,["videoMetadata"],pp(n,o));const i=s(e,["thought"]);i!=null&&a(t,["thought"],i);const r=s(e,["inlineData"]);r!=null&&a(t,["inlineData"],mp(n,r));const l=s(e,["fileData"]);l!=null&&a(t,["fileData"],hp(n,l));const u=s(e,["thoughtSignature"]);u!=null&&a(t,["thoughtSignature"],u);const f=s(e,["codeExecutionResult"]);f!=null&&a(t,["codeExecutionResult"],f);const c=s(e,["executableCode"]);c!=null&&a(t,["executableCode"],c);const d=s(e,["functionCall"]);d!=null&&a(t,["functionCall"],d);const p=s(e,["functionResponse"]);p!=null&&a(t,["functionResponse"],p);const m=s(e,["text"]);return m!=null&&a(t,["text"],m),t}function yp(n,e){const t={},o=s(e,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>gp(n,l))),a(t,["parts"],r)}const i=s(e,["role"]);return i!=null&&a(t,["role"],i),t}function vp(n,e){const t={},o=s(e,["citations"]);return o!=null&&a(t,["citations"],o),t}function Cp(n,e){const t={},o=s(e,["retrievedUrl"]);o!=null&&a(t,["retrievedUrl"],o);const i=s(e,["urlRetrievalStatus"]);return i!=null&&a(t,["urlRetrievalStatus"],i),t}function Tp(n,e){const t={},o=s(e,["urlMetadata"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>Cp(n,r))),a(t,["urlMetadata"],i)}return t}function _p(n,e){const t={},o=s(e,["content"]);o!=null&&a(t,["content"],yp(n,o));const i=s(e,["citationMetadata"]);i!=null&&a(t,["citationMetadata"],vp(n,i));const r=s(e,["finishMessage"]);r!=null&&a(t,["finishMessage"],r);const l=s(e,["finishReason"]);l!=null&&a(t,["finishReason"],l);const u=s(e,["urlContextMetadata"]);u!=null&&a(t,["urlContextMetadata"],Tp(n,u));const f=s(e,["avgLogprobs"]);f!=null&&a(t,["avgLogprobs"],f);const c=s(e,["groundingMetadata"]);c!=null&&a(t,["groundingMetadata"],c);const d=s(e,["index"]);d!=null&&a(t,["index"],d);const p=s(e,["logprobsResult"]);p!=null&&a(t,["logprobsResult"],p);const m=s(e,["safetyRatings"]);return m!=null&&a(t,["safetyRatings"],m),t}function Qi(n,e){const t={},o=s(e,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>_p(n,d))),a(t,["candidates"],c)}const i=s(e,["createTime"]);i!=null&&a(t,["createTime"],i);const r=s(e,["responseId"]);r!=null&&a(t,["responseId"],r);const l=s(e,["modelVersion"]);l!=null&&a(t,["modelVersion"],l);const u=s(e,["promptFeedback"]);u!=null&&a(t,["promptFeedback"],u);const f=s(e,["usageMetadata"]);return f!=null&&a(t,["usageMetadata"],f),t}function Sp(n,e){const t={},o=s(e,["truncated"]);o!=null&&a(t,["truncated"],o);const i=s(e,["token_count"]);return i!=null&&a(t,["tokenCount"],i),t}function Ep(n,e){const t={},o=s(e,["values"]);o!=null&&a(t,["values"],o);const i=s(e,["statistics"]);return i!=null&&a(t,["statistics"],Sp(n,i)),t}function xp(n,e){const t={},o=s(e,["billableCharacterCount"]);return o!=null&&a(t,["billableCharacterCount"],o),t}function Ap(n,e){const t={},o=s(e,["predictions[]","embeddings"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>Ep(n,l))),a(t,["embeddings"],r)}const i=s(e,["metadata"]);return i!=null&&a(t,["metadata"],xp(n,i)),t}function Ip(n,e){const t={},o=s(e,["gcsUri"]);o!=null&&a(t,["gcsUri"],o);const i=s(e,["bytesBase64Encoded"]);i!=null&&a(t,["imageBytes"],Ne(n,i));const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function ns(n,e){const t={},o=s(e,["safetyAttributes","categories"]);o!=null&&a(t,["categories"],o);const i=s(e,["safetyAttributes","scores"]);i!=null&&a(t,["scores"],i);const r=s(e,["contentType"]);return r!=null&&a(t,["contentType"],r),t}function so(n,e){const t={},o=s(e,["_self"]);o!=null&&a(t,["image"],Ip(n,o));const i=s(e,["raiFilteredReason"]);i!=null&&a(t,["raiFilteredReason"],i);const r=s(e,["_self"]);r!=null&&a(t,["safetyAttributes"],ns(n,r));const l=s(e,["prompt"]);return l!=null&&a(t,["enhancedPrompt"],l),t}function Mp(n,e){const t={},o=s(e,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>so(n,l))),a(t,["generatedImages"],r)}const i=s(e,["positivePromptSafetyAttributes"]);return i!=null&&a(t,["positivePromptSafetyAttributes"],ns(n,i)),t}function wp(n,e){const t={},o=s(e,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>so(n,r))),a(t,["generatedImages"],i)}return t}function Rp(n,e){const t={},o=s(e,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>so(n,r))),a(t,["generatedImages"],i)}return t}function Pp(n,e){const t={},o=s(e,["endpoint"]);o!=null&&a(t,["name"],o);const i=s(e,["deployedModelId"]);return i!=null&&a(t,["deployedModelId"],i),t}function kp(n,e){const t={},o=s(e,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&a(t,["baseModel"],o);const i=s(e,["createTime"]);i!=null&&a(t,["createTime"],i);const r=s(e,["updateTime"]);return r!=null&&a(t,["updateTime"],r),t}function Np(n,e){const t={},o=s(e,["checkpointId"]);o!=null&&a(t,["checkpointId"],o);const i=s(e,["epoch"]);i!=null&&a(t,["epoch"],i);const r=s(e,["step"]);return r!=null&&a(t,["step"],r),t}function qn(n,e){const t={},o=s(e,["name"]);o!=null&&a(t,["name"],o);const i=s(e,["displayName"]);i!=null&&a(t,["displayName"],i);const r=s(e,["description"]);r!=null&&a(t,["description"],r);const l=s(e,["versionId"]);l!=null&&a(t,["version"],l);const u=s(e,["deployedModels"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(y=>Pp(n,y))),a(t,["endpoints"],m)}const f=s(e,["labels"]);f!=null&&a(t,["labels"],f);const c=s(e,["_self"]);c!=null&&a(t,["tunedModelInfo"],kp(n,c));const d=s(e,["defaultCheckpointId"]);d!=null&&a(t,["defaultCheckpointId"],d);const p=s(e,["checkpoints"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(y=>Np(n,y))),a(t,["checkpoints"],m)}return t}function Dp(n,e){const t={},o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const i=s(e,["_self"]);if(i!=null){let r=Jr(n,i);Array.isArray(r)&&(r=r.map(l=>qn(n,l))),a(t,["models"],r)}return t}function bp(){return{}}function Fp(n,e){const t={},o=s(e,["totalTokens"]);return o!=null&&a(t,["totalTokens"],o),t}function Lp(n,e){const t={},o=s(e,["tokensInfo"]);return o!=null&&a(t,["tokensInfo"],o),t}function Vp(n,e){const t={},o=s(e,["gcsUri"]);o!=null&&a(t,["uri"],o);const i=s(e,["bytesBase64Encoded"]);i!=null&&a(t,["videoBytes"],Ne(n,i));const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function Up(n,e){const t={},o=s(e,["_self"]);return o!=null&&a(t,["video"],Vp(n,o)),t}function $p(n,e){const t={},o=s(e,["videos"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>Up(n,u))),a(t,["generatedVideos"],l)}const i=s(e,["raiMediaFilteredCount"]);i!=null&&a(t,["raiMediaFilteredCount"],i);const r=s(e,["raiMediaFilteredReasons"]);return r!=null&&a(t,["raiMediaFilteredReasons"],r),t}function Bp(n,e){const t={},o=s(e,["name"]);o!=null&&a(t,["name"],o);const i=s(e,["metadata"]);i!=null&&a(t,["metadata"],i);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const l=s(e,["error"]);l!=null&&a(t,["error"],l);const u=s(e,["response"]);return u!=null&&a(t,["response"],$p(n,u)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gp="Content-Type",Op="X-Server-Timeout",qp="User-Agent",Hn="x-goog-api-client",Hp="1.5.1",Wp=`google-genai-sdk/${Hp}`,Jp="v1beta1",Kp="v1beta",ji=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class os extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class Wn extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class zp{constructor(e){var t,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:Jp,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:Kp,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,o){const i=[this.getRequestUrlInternal(t)];return o&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,o);if(e.queryParams)for(const[l,u]of Object.entries(e.queryParams))i.searchParams.append(l,String(u));let r={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else r.body=e.body;return r=await this.includeExtraHttpOptionsToRequestInit(r,t,e.abortSignal),this.unaryApiCall(i,r,e.httpMethod)}patchHttpOptions(e,t){const o=JSON.parse(JSON.stringify(e));for(const[i,r]of Object.entries(t))typeof r=="object"?o[i]=Object.assign(Object.assign({},o[i]),r):r!==void 0&&(o[i]=r);return o}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,o);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let r={};return r.body=e.body,r=await this.includeExtraHttpOptionsToRequestInit(r,t,e.abortSignal),this.streamApiCall(i,r,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,o){if(t&&t.timeout||o){const i=new AbortController,r=i.signal;t.timeout&&(t==null?void 0:t.timeout)>0&&setTimeout(()=>i.abort(),t.timeout),o&&o.addEventListener("abort",()=>{i.abort()}),e.signal=r}return e.headers=await this.getHeadersInternal(t),e}async unaryApiCall(e,t,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:o})).then(async i=>(await er(i),new Un(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,t,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:o})).then(async i=>(await er(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var t;return et(this,arguments,function*(){const i=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),r=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";for(;;){const{done:u,value:f}=yield Q(i.read());if(u){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=r.decode(f);try{const p=JSON.parse(c);if("error"in p){const m=JSON.parse(JSON.stringify(p.error)),y=m.status,v=m.code,g=`got status: ${y}. ${JSON.stringify(p)}`;if(v>=400&&v<500)throw new os(g);if(v>=500&&v<600)throw new Wn(g)}}catch(p){const m=p;if(m.name==="ClientError"||m.name==="ServerError")throw p}l+=c;let d=l.match(ji);for(;d;){const p=d[1];try{const m=new Response(p,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Q(new Un(m)),l=l.slice(d[0].length),d=l.match(ji)}catch(m){throw new Error(`exception parsing stream chunk ${p}. ${m}`)}}}}finally{i.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},t=Wp+" "+this.clientOptions.userAgentExtra;return e[qp]=t,e[Hn]=t,e[Gp]="application/json",e}async getHeadersInternal(e){const t=new Headers;if(e&&e.headers){for(const[o,i]of Object.entries(e.headers))t.append(o,i);e.timeout&&e.timeout>0&&t.append(Op,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(e,t){var o;const i={};t!=null&&(i.mimeType=t.mimeType,i.name=t.name,i.displayName=t.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const r=this.clientOptions.uploader,l=await r.stat(e);i.sizeBytes=String(l.size);const u=(o=t==null?void 0:t.mimeType)!==null&&o!==void 0?o:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const f=await this.fetchUploadUrl(i,t);return r.upload(e,f,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t){var o;let i={};t!=null&&t.httpOptions?i=t.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const r={file:e},l=await this.request({path:b("upload/v1beta/files",r._url),body:JSON.stringify(r),httpMethod:"POST",httpOptions:i});if(!l||!(l!=null&&l.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(o=l==null?void 0:l.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function er(n){var e;if(n===void 0)throw new Wn("response is undefined");if(!n.ok){const t=n.status,o=n.statusText;let i;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await n.json():i={error:{message:await n.text(),code:n.status,status:n.statusText}};const r=`got status: ${t} ${o}. ${JSON.stringify(i)}`;throw t>=400&&t<500?new os(r):t>=500&&t<600?new Wn(r):new Error(r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yp="mcp_used/unknown";function is(n){for(const e of n)if(ao(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function rs(n){var e;const t=(e=n[Hn])!==null&&e!==void 0?e:"";n[Hn]=(t+` ${Yp}`).trimStart()}function Zp(n){var e,t,o;return(o=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(i=>ao(i)))!==null&&o!==void 0?o:!1}function Xp(n){var e,t,o;return(o=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(i=>!ao(i)))!==null&&o!==void 0?o:!1}function ao(n){return n!==null&&typeof n=="object"&&n instanceof lo}function Qp(n,e=100){return et(this,arguments,function*(){let o,i=0;for(;i<e;){const r=yield Q(n.listTools({cursor:o}));for(const l of r.tools)yield yield Q(l),i++;if(!r.nextCursor)break;o=r.nextCursor}})}class lo{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new lo(e,t)}async initialize(){var e,t,o,i;if(this.mcpTools.length>0)return;const r={},l=[];for(const d of this.mcpClients)try{for(var u=!0,f=(t=void 0,_t(Qp(d))),c;c=await f.next(),e=c.done,!e;u=!0){i=c.value,u=!1;const p=i;l.push(p);const m=p.name;if(r[m])throw new Error(`Duplicate function name ${m} found in MCP tools. Please ensure function names are unique.`);r[m]=d}}catch(p){t={error:p}}finally{try{!u&&!e&&(o=f.return)&&await o.call(f)}finally{if(t)throw t.error}}this.mcpTools=l,this.functionNameToMcpClient=r}async tool(){return await this.initialize(),Qa(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[o.name];let r;this.config.timeout&&(r={timeout:this.config.timeout});const l=await i.callTool({name:o.name,arguments:o.args},void 0,r);t.push({functionResponse:{name:o.name,response:l.isError?{error:l}:l}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function jp(n,e,t){const o=new $a;let i;t.data instanceof Blob?i=JSON.parse(await t.data.text()):i=JSON.parse(t.data);const r=lf(n,i);Object.assign(o,r),e(o)}class em{constructor(e,t,o){this.apiClient=e,this.auth=t,this.webSocketFactory=o}async connect(e){var t,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),r=this.apiClient.getApiVersion(),l=om(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),f=`${i}/ws/google.ai.generativelanguage.${r}.GenerativeService.BidiGenerateMusic?key=${u}`;let c=()=>{};const d=new Promise(E=>{c=E}),p=e.callbacks,m=function(){c({})},y=this.apiClient,v={onopen:m,onmessage:E=>{jp(y,p.onmessage,E)},onerror:(t=p==null?void 0:p.onerror)!==null&&t!==void 0?t:function(E){},onclose:(o=p==null?void 0:p.onclose)!==null&&o!==void 0?o:function(E){}},g=this.webSocketFactory.create(f,nm(l),v);g.connect(),await d;const _=Z(this.apiClient,e.model),S=Xr(this.apiClient,{model:_}),A=Gn(this.apiClient,{setup:S});return g.send(JSON.stringify(A)),new tm(g,this.apiClient)}}class tm{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=_c(this.apiClient,e),o=Qr(this.apiClient,t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=Sc(this.apiClient,e),o=Gn(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const t=Gn(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Qe.PLAY)}pause(){this.sendPlaybackControl(Qe.PAUSE)}stop(){this.sendPlaybackControl(Qe.STOP)}resetContext(){this.sendPlaybackControl(Qe.RESET_CONTEXT)}close(){this.conn.close()}}function nm(n){const e={};return n.forEach((t,o)=>{e[o]=t}),e}function om(n){const e=new Headers;for(const[t,o]of Object.entries(n))e.append(t,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const im="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function rm(n,e,t){const o=new Ua;let i;if(t.data instanceof Blob?i=JSON.parse(await t.data.text()):i=JSON.parse(t.data),n.isVertexAI()){const r=Qc(n,i);Object.assign(o,r)}else{const r=Xc(n,i);Object.assign(o,r)}e(o)}class sm{constructor(e,t,o){this.apiClient=e,this.auth=t,this.webSocketFactory=o,this.music=new em(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,o,i,r,l,u;const f=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let d;const p=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&is(e.config.tools)&&rs(p);const m=cm(p);if(this.apiClient.isVertexAI())d=`${f}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(m);else{const D=this.apiClient.getApiKey();let h="BidiGenerateContent",w="key";D!=null&&D.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h="BidiGenerateContentConstrained",w="access_token"),d=`${f}/ws/google.ai.generativelanguage.${c}.GenerativeService.${h}?${w}=${D}`}let y=()=>{};const v=new Promise(D=>{y=D}),g=e.callbacks,_=function(){var D;(D=g==null?void 0:g.onopen)===null||D===void 0||D.call(g),y({})},S=this.apiClient,A={onopen:_,onmessage:D=>{rm(S,g.onmessage,D)},onerror:(t=g==null?void 0:g.onerror)!==null&&t!==void 0?t:function(D){},onclose:(o=g==null?void 0:g.onclose)!==null&&o!==void 0?o:function(D){}},E=this.webSocketFactory.create(d,um(m),A);E.connect(),await v;let x=Z(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&x.startsWith("publishers/")){const D=this.apiClient.getProject(),h=this.apiClient.getLocation();x=`projects/${D}/locations/${h}/`+x}let C={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Qt.AUDIO]}:e.config.responseModalities=[Qt.AUDIO]),!((r=e.config)===null||r===void 0)&&r.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const M=(u=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],R=[];for(const D of M)if(this.isCallableTool(D)){const h=D;R.push(await h.tool())}else R.push(D);R.length>0&&(e.config.tools=R);const $={model:x,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?C=mc(this.apiClient,$):C=pc(this.apiClient,$),delete C.config,E.send(JSON.stringify(C)),new lm(E,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const am={turnComplete:!0};class lm{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let o=[];try{o=ve(e,t.turns),e.isVertexAI()?o=o.map(i=>ft(e,i)):o=o.map(i=>sn(e,i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:o,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let o=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?o=t.functionResponses:o=[t.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const r of o){if(typeof r!="object"||r===null||!("name"in r)||!("response"in r))throw new Error(`Could not parse function response, type '${typeof r}'.`);if(!e.isVertexAI()&&!("id"in r))throw new Error(im)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},am),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:Tc(this.apiClient,e)}:t={realtimeInput:Cc(this.apiClient,e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function um(n){const e={};return n.forEach((t,o)=>{e[o]=t}),e}function cm(n){const e=new Headers;for(const[t,o]of Object.entries(n))e.append(t,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tr=10;function nr(n){var e,t,o;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const l of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(Gt(l)){i=!0;break}if(!i)return!0;const r=(o=n==null?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return r&&(r<0||!Number.isInteger(r))||r==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",r),!0):!1}function Gt(n){return"callTool"in n&&typeof n.callTool=="function"}function or(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fm extends ct{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var o,i,r,l,u;const f=await this.processParamsForMcpUsage(t);if(!Zp(t)||nr(t.config))return await this.generateContentInternal(f);if(Xp(t))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let c,d;const p=ve(this.apiClient,f.contents),m=(r=(i=(o=f.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:tr;let y=0;for(;y<m&&(c=await this.generateContentInternal(f),!(!c.functionCalls||c.functionCalls.length===0));){const v=c.candidates[0].content,g=[];for(const _ of(u=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(Gt(_)){const A=await _.callTool(c.functionCalls);g.push(...A)}y++,d={role:"user",parts:g},f.contents=ve(this.apiClient,f.contents),f.contents.push(v),f.contents.push(d),or(f.config)&&(p.push(v),p.push(d))}return or(f.config)&&(c.automaticFunctionCallingHistory=p),c},this.generateContentStream=async t=>{if(nr(t.config)){const o=await this.processParamsForMcpUsage(t);return await this.generateContentStreamInternal(o)}else return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(o=>{var i;let r;const l=[];if(o!=null&&o.generatedImages)for(const f of o.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((i=f==null?void 0:f.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?r=f==null?void 0:f.safetyAttributes:l.push(f);let u;return r?u={generatedImages:l,positivePromptSafetyAttributes:r}:u={generatedImages:l},u}),this.list=async t=>{var o;const l={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((o=l.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new rn(lt.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async t=>{const o={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(o.referenceImages=t.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async t=>{let o={numberOfImages:1,mode:"upscale"};t.config&&(o=Object.assign(Object.assign({},o),t.config));const i={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:o};return await this.upscaleImageInternal(i)}}async processParamsForMcpUsage(e){var t,o,i;const r=(t=e.config)===null||t===void 0?void 0:t.tools;if(!r)return e;const l=await Promise.all(r.map(async f=>Gt(f)?await f.tool():f)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(u.config.tools=l,e.config&&e.config.tools&&is(e.config.tools)){const f=(i=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&i!==void 0?i:{};let c=Object.assign({},f);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),rs(c),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return u}async initAfcToolsMap(e){var t,o,i;const r=new Map;for(const l of(o=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&o!==void 0?o:[])if(Gt(l)){const u=l,f=await u.tool();for(const c of(i=f.functionDeclarations)!==null&&i!==void 0?i:[]){if(!c.name)throw new Error("Function declaration name is required.");if(r.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);r.set(c.name,u)}}return r}async processAfcStream(e){var t,o,i;const r=(i=(o=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&i!==void 0?i:tr;let l=!1,u=0;const f=await this.initAfcToolsMap(e);return function(c,d,p){var m,y;return et(this,arguments,function*(){for(var v,g,_,S;u<r;){l&&(u++,l=!1);const C=yield Q(c.processParamsForMcpUsage(p)),M=yield Q(c.generateContentStreamInternal(C)),R=[],$=[];try{for(var A=!0,E=(g=void 0,_t(M)),x;x=yield Q(E.next()),v=x.done,!v;A=!0){S=x.value,A=!1;const D=S;if(yield yield Q(D),D.candidates&&(!((m=D.candidates[0])===null||m===void 0)&&m.content)){$.push(D.candidates[0].content);for(const h of(y=D.candidates[0].content.parts)!==null&&y!==void 0?y:[])if(u<r&&h.functionCall){if(!h.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(h.functionCall.name)){const w=yield Q(d.get(h.functionCall.name).callTool([h.functionCall]));R.push(...w)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${h.functionCall.name}`)}}}}catch(D){g={error:D}}finally{try{!A&&!v&&(_=E.return)&&(yield Q(_.call(E)))}finally{if(g)throw g.error}}if(R.length>0){l=!0;const D=new mt;D.candidates=[{content:{role:"user",parts:R}}],yield yield Q(D);const h=[];h.push(...$),h.push({role:"user",parts:R});const w=ve(c.apiClient,p.contents).concat(h);p.contents=w}else break}})}(this,f,e)}async generateContentInternal(e){var t,o,i,r;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=Zi(this.apiClient,e);return u=b("{model}:generateContent",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>{const p=Qi(this.apiClient,d),m=new mt;return Object.assign(m,p),m})}else{const c=Yi(this.apiClient,e);return u=b("{model}:generateContent",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>{const p=Xi(this.apiClient,d),m=new mt;return Object.assign(m,p),m})}}async generateContentStreamInternal(e){var t,o,i,r;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=Zi(this.apiClient,e);u=b("{model}:streamGenerateContent?alt=sse",c._url),f=c._query,delete c.config,delete c._url,delete c._query;const d=this.apiClient;return l=d.requestStream({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(p){return et(this,arguments,function*(){var m,y,v,g;try{for(var _=!0,S=_t(p),A;A=yield Q(S.next()),m=A.done,!m;_=!0){g=A.value,_=!1;const x=Qi(d,yield Q(g.json())),C=new mt;Object.assign(C,x),yield yield Q(C)}}catch(E){y={error:E}}finally{try{!_&&!m&&(v=S.return)&&(yield Q(v.call(S)))}finally{if(y)throw y.error}}})})}else{const c=Yi(this.apiClient,e);u=b("{model}:streamGenerateContent?alt=sse",c._url),f=c._query,delete c.config,delete c._url,delete c._query;const d=this.apiClient;return l=d.requestStream({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(p){return et(this,arguments,function*(){var m,y,v,g;try{for(var _=!0,S=_t(p),A;A=yield Q(S.next()),m=A.done,!m;_=!0){g=A.value,_=!1;const x=Xi(d,yield Q(g.json())),C=new mt;Object.assign(C,x),yield yield Q(C)}}catch(E){y={error:E}}finally{try{!_&&!m&&(v=S.return)&&(yield Q(v.call(S)))}finally{if(y)throw y.error}}})})}}async embedContent(e){var t,o,i,r;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=Td(this.apiClient,e);return u=b("{model}:predict",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>{const p=Ap(this.apiClient,d),m=new Ri;return Object.assign(m,p),m})}else{const c=Df(this.apiClient,e);return u=b("{model}:batchEmbedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>{const p=tp(this.apiClient,d),m=new Ri;return Object.assign(m,p),m})}}async generateImagesInternal(e){var t,o,i,r;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=Sd(this.apiClient,e);return u=b("{model}:predict",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>{const p=Mp(this.apiClient,d),m=new Pi;return Object.assign(m,p),m})}else{const c=Ff(this.apiClient,e);return u=b("{model}:predict",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>{const p=ip(this.apiClient,d),m=new Pi;return Object.assign(m,p),m})}}async editImageInternal(e){var t,o;let i,r="",l={};if(this.apiClient.isVertexAI()){const u=Rd(this.apiClient,e);return r=b("{model}:predict",u._url),l=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),i.then(f=>{const c=wp(this.apiClient,f),d=new Na;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,o;let i,r="",l={};if(this.apiClient.isVertexAI()){const u=kd(this.apiClient,e);return r=b("{model}:predict",u._url),l=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),i.then(f=>{const c=Rp(this.apiClient,f),d=new Da;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,o,i,r;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=Nd(this.apiClient,e);return u=b("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>qn(this.apiClient,d))}else{const c=Lf(this.apiClient,e);return u=b("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>On(this.apiClient,d))}}async listInternal(e){var t,o,i,r;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=bd(this.apiClient,e);return u=b("{models_url}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>{const p=Dp(this.apiClient,d),m=new ki;return Object.assign(m,p),m})}else{const c=Uf(this.apiClient,e);return u=b("{models_url}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>{const p=sp(this.apiClient,d),m=new ki;return Object.assign(m,p),m})}}async update(e){var t,o,i,r;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=Ld(this.apiClient,e);return u=b("{model}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>qn(this.apiClient,d))}else{const c=Bf(this.apiClient,e);return u=b("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>On(this.apiClient,d))}}async delete(e){var t,o,i,r;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=Vd(this.apiClient,e);return u=b("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(()=>{const d=bp(),p=new Ni;return Object.assign(p,d),p})}else{const c=Gf(this.apiClient,e);return u=b("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(()=>{const d=ap(),p=new Ni;return Object.assign(p,d),p})}}async countTokens(e){var t,o,i,r;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=$d(this.apiClient,e);return u=b("{model}:countTokens",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>{const p=Fp(this.apiClient,d),m=new Di;return Object.assign(m,p),m})}else{const c=qf(this.apiClient,e);return u=b("{model}:countTokens",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>{const p=lp(this.apiClient,d),m=new Di;return Object.assign(m,p),m})}}async computeTokens(e){var t,o;let i,r="",l={};if(this.apiClient.isVertexAI()){const u=Bd(this.apiClient,e);return r=b("{model}:computeTokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),i.then(f=>{const c=Lp(this.apiClient,f),d=new ba;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var t,o,i,r;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=qd(this.apiClient,e);return u=b("{model}:predictLongRunning",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>Bp(this.apiClient,d))}else{const c=Jf(this.apiClient,e);return u=b("{model}:predictLongRunning",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>dp(this.apiClient,d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dm(n,e){const t={},o=s(e,["operationName"]);o!=null&&a(t,["_url","operationName"],o);const i=s(e,["config"]);return i!=null&&a(t,["config"],i),t}function pm(n,e){const t={},o=s(e,["operationName"]);o!=null&&a(t,["_url","operationName"],o);const i=s(e,["config"]);return i!=null&&a(t,["config"],i),t}function mm(n,e){const t={},o=s(e,["operationName"]);o!=null&&a(t,["operationName"],o);const i=s(e,["resourceName"]);i!=null&&a(t,["_url","resourceName"],i);const r=s(e,["config"]);return r!=null&&a(t,["config"],r),t}function hm(n,e){const t={},o=s(e,["video","uri"]);o!=null&&a(t,["uri"],o);const i=s(e,["video","encodedVideo"]);i!=null&&a(t,["videoBytes"],Ne(n,i));const r=s(e,["encoding"]);return r!=null&&a(t,["mimeType"],r),t}function gm(n,e){const t={},o=s(e,["_self"]);return o!=null&&a(t,["video"],hm(n,o)),t}function ym(n,e){const t={},o=s(e,["generatedSamples"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>gm(n,u))),a(t,["generatedVideos"],l)}const i=s(e,["raiMediaFilteredCount"]);i!=null&&a(t,["raiMediaFilteredCount"],i);const r=s(e,["raiMediaFilteredReasons"]);return r!=null&&a(t,["raiMediaFilteredReasons"],r),t}function vm(n,e){const t={},o=s(e,["name"]);o!=null&&a(t,["name"],o);const i=s(e,["metadata"]);i!=null&&a(t,["metadata"],i);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const l=s(e,["error"]);l!=null&&a(t,["error"],l);const u=s(e,["response","generateVideoResponse"]);return u!=null&&a(t,["response"],ym(n,u)),t}function Cm(n,e){const t={},o=s(e,["gcsUri"]);o!=null&&a(t,["uri"],o);const i=s(e,["bytesBase64Encoded"]);i!=null&&a(t,["videoBytes"],Ne(n,i));const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function Tm(n,e){const t={},o=s(e,["_self"]);return o!=null&&a(t,["video"],Cm(n,o)),t}function _m(n,e){const t={},o=s(e,["videos"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>Tm(n,u))),a(t,["generatedVideos"],l)}const i=s(e,["raiMediaFilteredCount"]);i!=null&&a(t,["raiMediaFilteredCount"],i);const r=s(e,["raiMediaFilteredReasons"]);return r!=null&&a(t,["raiMediaFilteredReasons"],r),t}function ir(n,e){const t={},o=s(e,["name"]);o!=null&&a(t,["name"],o);const i=s(e,["metadata"]);i!=null&&a(t,["metadata"],i);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const l=s(e,["error"]);l!=null&&a(t,["error"],l);const u=s(e,["response"]);return u!=null&&a(t,["response"],_m(n,u)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sm extends ct{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,o=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let r;return o&&"httpOptions"in o&&(r=o.httpOptions),this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:r}})}else return this.getVideosOperationInternal({operationName:t.name,config:o})}async getVideosOperationInternal(e){var t,o,i,r;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=pm(this.apiClient,e);return u=b("{operationName}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>ir(this.apiClient,d))}else{const c=dm(this.apiClient,e);return u=b("{operationName}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>vm(this.apiClient,d))}}async fetchPredictVideosOperationInternal(e){var t,o;let i,r="",l={};if(this.apiClient.isVertexAI()){const u=mm(this.apiClient,e);return r=b("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),i.then(f=>ir(this.apiClient,f))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Em(n,e){const t={},o=s(e,["voiceName"]);return o!=null&&a(t,["voiceName"],o),t}function ss(n,e){const t={},o=s(e,["prebuiltVoiceConfig"]);return o!=null&&a(t,["prebuiltVoiceConfig"],Em(n,o)),t}function xm(n,e){const t={},o=s(e,["speaker"]);o!=null&&a(t,["speaker"],o);const i=s(e,["voiceConfig"]);return i!=null&&a(t,["voiceConfig"],ss(n,i)),t}function Am(n,e){const t={},o=s(e,["speakerVoiceConfigs"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>xm(n,r))),a(t,["speakerVoiceConfigs"],i)}return t}function Im(n,e){const t={},o=s(e,["voiceConfig"]);o!=null&&a(t,["voiceConfig"],ss(n,o));const i=s(e,["multiSpeakerVoiceConfig"]);i!=null&&a(t,["multiSpeakerVoiceConfig"],Am(n,i));const r=s(e,["languageCode"]);return r!=null&&a(t,["languageCode"],r),t}function Mm(n,e){const t={},o=s(e,["fps"]);o!=null&&a(t,["fps"],o);const i=s(e,["endOffset"]);i!=null&&a(t,["endOffset"],i);const r=s(e,["startOffset"]);return r!=null&&a(t,["startOffset"],r),t}function wm(n,e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["data"]);o!=null&&a(t,["data"],o);const i=s(e,["mimeType"]);return i!=null&&a(t,["mimeType"],i),t}function Rm(n,e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["fileUri"]);o!=null&&a(t,["fileUri"],o);const i=s(e,["mimeType"]);return i!=null&&a(t,["mimeType"],i),t}function Pm(n,e){const t={},o=s(e,["videoMetadata"]);o!=null&&a(t,["videoMetadata"],Mm(n,o));const i=s(e,["thought"]);i!=null&&a(t,["thought"],i);const r=s(e,["inlineData"]);r!=null&&a(t,["inlineData"],wm(n,r));const l=s(e,["fileData"]);l!=null&&a(t,["fileData"],Rm(n,l));const u=s(e,["thoughtSignature"]);u!=null&&a(t,["thoughtSignature"],u);const f=s(e,["codeExecutionResult"]);f!=null&&a(t,["codeExecutionResult"],f);const c=s(e,["executableCode"]);c!=null&&a(t,["executableCode"],c);const d=s(e,["functionCall"]);d!=null&&a(t,["functionCall"],d);const p=s(e,["functionResponse"]);p!=null&&a(t,["functionResponse"],p);const m=s(e,["text"]);return m!=null&&a(t,["text"],m),t}function km(n,e){const t={},o=s(e,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>Pm(n,l))),a(t,["parts"],r)}const i=s(e,["role"]);return i!=null&&a(t,["role"],i),t}function Nm(n,e){const t={},o=s(e,["behavior"]);o!=null&&a(t,["behavior"],o);const i=s(e,["description"]);i!=null&&a(t,["description"],i);const r=s(e,["name"]);r!=null&&a(t,["name"],r);const l=s(e,["parameters"]);l!=null&&a(t,["parameters"],l);const u=s(e,["response"]);return u!=null&&a(t,["response"],u),t}function Dm(n,e){const t={},o=s(e,["startTime"]);o!=null&&a(t,["startTime"],o);const i=s(e,["endTime"]);return i!=null&&a(t,["endTime"],i),t}function bm(n,e){const t={},o=s(e,["timeRangeFilter"]);return o!=null&&a(t,["timeRangeFilter"],Dm(n,o)),t}function Fm(n,e){const t={},o=s(e,["mode"]);o!=null&&a(t,["mode"],o);const i=s(e,["dynamicThreshold"]);return i!=null&&a(t,["dynamicThreshold"],i),t}function Lm(n,e){const t={},o=s(e,["dynamicRetrievalConfig"]);return o!=null&&a(t,["dynamicRetrievalConfig"],Fm(n,o)),t}function Vm(){return{}}function Um(n,e){const t={},o=s(e,["functionDeclarations"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(c=>Nm(n,c))),a(t,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(e,["googleSearch"]);i!=null&&a(t,["googleSearch"],bm(n,i));const r=s(e,["googleSearchRetrieval"]);if(r!=null&&a(t,["googleSearchRetrieval"],Lm(n,r)),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(e,["urlContext"])!=null&&a(t,["urlContext"],Vm());const u=s(e,["codeExecution"]);return u!=null&&a(t,["codeExecution"],u),t}function $m(n,e){const t={},o=s(e,["handle"]);if(o!=null&&a(t,["handle"],o),s(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function rr(){return{}}function Bm(n,e){const t={},o=s(e,["disabled"]);o!=null&&a(t,["disabled"],o);const i=s(e,["startOfSpeechSensitivity"]);i!=null&&a(t,["startOfSpeechSensitivity"],i);const r=s(e,["endOfSpeechSensitivity"]);r!=null&&a(t,["endOfSpeechSensitivity"],r);const l=s(e,["prefixPaddingMs"]);l!=null&&a(t,["prefixPaddingMs"],l);const u=s(e,["silenceDurationMs"]);return u!=null&&a(t,["silenceDurationMs"],u),t}function Gm(n,e){const t={},o=s(e,["automaticActivityDetection"]);o!=null&&a(t,["automaticActivityDetection"],Bm(n,o));const i=s(e,["activityHandling"]);i!=null&&a(t,["activityHandling"],i);const r=s(e,["turnCoverage"]);return r!=null&&a(t,["turnCoverage"],r),t}function Om(n,e){const t={},o=s(e,["targetTokens"]);return o!=null&&a(t,["targetTokens"],o),t}function qm(n,e){const t={},o=s(e,["triggerTokens"]);o!=null&&a(t,["triggerTokens"],o);const i=s(e,["slidingWindow"]);return i!=null&&a(t,["slidingWindow"],Om(n,i)),t}function Hm(n,e){const t={},o=s(e,["proactiveAudio"]);return o!=null&&a(t,["proactiveAudio"],o),t}function Wm(n,e,t){const o={},i=s(e,["generationConfig"]);t!==void 0&&i!=null&&a(t,["setup","generationConfig"],i);const r=s(e,["responseModalities"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig","responseModalities"],r);const l=s(e,["temperature"]);t!==void 0&&l!=null&&a(t,["setup","generationConfig","temperature"],l);const u=s(e,["topP"]);t!==void 0&&u!=null&&a(t,["setup","generationConfig","topP"],u);const f=s(e,["topK"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","topK"],f);const c=s(e,["maxOutputTokens"]);t!==void 0&&c!=null&&a(t,["setup","generationConfig","maxOutputTokens"],c);const d=s(e,["mediaResolution"]);t!==void 0&&d!=null&&a(t,["setup","generationConfig","mediaResolution"],d);const p=s(e,["seed"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","seed"],p);const m=s(e,["speechConfig"]);t!==void 0&&m!=null&&a(t,["setup","generationConfig","speechConfig"],Im(n,ro(n,m)));const y=s(e,["enableAffectiveDialog"]);t!==void 0&&y!=null&&a(t,["setup","generationConfig","enableAffectiveDialog"],y);const v=s(e,["systemInstruction"]);t!==void 0&&v!=null&&a(t,["setup","systemInstruction"],km(n,le(n,v)));const g=s(e,["tools"]);if(t!==void 0&&g!=null){let M=Rt(n,g);Array.isArray(M)&&(M=M.map(R=>Um(n,wt(n,R)))),a(t,["setup","tools"],M)}const _=s(e,["sessionResumption"]);t!==void 0&&_!=null&&a(t,["setup","sessionResumption"],$m(n,_));const S=s(e,["inputAudioTranscription"]);t!==void 0&&S!=null&&a(t,["setup","inputAudioTranscription"],rr());const A=s(e,["outputAudioTranscription"]);t!==void 0&&A!=null&&a(t,["setup","outputAudioTranscription"],rr());const E=s(e,["realtimeInputConfig"]);t!==void 0&&E!=null&&a(t,["setup","realtimeInputConfig"],Gm(n,E));const x=s(e,["contextWindowCompression"]);t!==void 0&&x!=null&&a(t,["setup","contextWindowCompression"],qm(n,x));const C=s(e,["proactivity"]);return t!==void 0&&C!=null&&a(t,["setup","proactivity"],Hm(n,C)),o}function Jm(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["setup","model"],Z(n,o));const i=s(e,["config"]);return i!=null&&a(t,["config"],Wm(n,i,t)),t}function Km(n,e,t){const o={},i=s(e,["expireTime"]);t!==void 0&&i!=null&&a(t,["expireTime"],i);const r=s(e,["newSessionExpireTime"]);t!==void 0&&r!=null&&a(t,["newSessionExpireTime"],r);const l=s(e,["uses"]);t!==void 0&&l!=null&&a(t,["uses"],l);const u=s(e,["liveConnectConstraints"]);t!==void 0&&u!=null&&a(t,["bidiGenerateContentSetup"],Jm(n,u));const f=s(e,["lockAdditionalFields"]);return t!==void 0&&f!=null&&a(t,["fieldMask"],f),o}function zm(n,e){const t={},o=s(e,["config"]);return o!=null&&a(t,["config"],Km(n,o,t)),t}function Ym(n,e){const t={},o=s(e,["name"]);return o!=null&&a(t,["name"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zm(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const o=n[t];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const i=Object.keys(o).map(r=>`${t}.${r}`);e.push(...i)}else e.push(t)}return e.join(",")}function Xm(n,e){let t=null;const o=n.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const r=o.setup;typeof r=="object"&&r!==null?(n.bidiGenerateContentSetup=r,t=r):delete n.bidiGenerateContentSetup}else o!==void 0&&delete n.bidiGenerateContentSetup;const i=n.fieldMask;if(t){const r=Zm(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)r?n.fieldMask=r:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(c=>l.includes(c)?`generationConfig.${c}`:c));const f=[];r&&f.push(r),u.length>0&&f.push(...u),f.length>0?n.fieldMask=f.join(","):delete n.fieldMask}else delete n.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?n.fieldMask=i.join(","):delete n.fieldMask;return n}class Qm extends ct{constructor(e){super(),this.apiClient=e}async create(e){var t,o;let i,r="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=zm(this.apiClient,e);r=b("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const f=Xm(u,e.config);return i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>Ym(this.apiClient,c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jm(n,e){const t={},o=s(e,["name"]);o!=null&&a(t,["_url","name"],o);const i=s(e,["config"]);return i!=null&&a(t,["config"],i),t}function eh(n,e,t){const o={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&a(t,["_query","pageSize"],i);const r=s(e,["pageToken"]);t!==void 0&&r!=null&&a(t,["_query","pageToken"],r);const l=s(e,["filter"]);return t!==void 0&&l!=null&&a(t,["_query","filter"],l),o}function th(n,e){const t={},o=s(e,["config"]);return o!=null&&a(t,["config"],eh(n,o,t)),t}function nh(n,e){const t={},o=s(e,["textInput"]);o!=null&&a(t,["textInput"],o);const i=s(e,["output"]);return i!=null&&a(t,["output"],i),t}function oh(n,e){const t={};if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=s(e,["examples"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>nh(n,r))),a(t,["examples","examples"],i)}return t}function ih(n,e,t){const o={};if(s(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=s(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&a(t,["displayName"],i),s(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const r=s(e,["epochCount"]);t!==void 0&&r!=null&&a(t,["tuningTask","hyperparameters","epochCount"],r);const l=s(e,["learningRateMultiplier"]);if(l!=null&&a(o,["tuningTask","hyperparameters","learningRateMultiplier"],l),s(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=s(e,["batchSize"]);t!==void 0&&u!=null&&a(t,["tuningTask","hyperparameters","batchSize"],u);const f=s(e,["learningRate"]);return t!==void 0&&f!=null&&a(t,["tuningTask","hyperparameters","learningRate"],f),o}function rh(n,e){const t={},o=s(e,["baseModel"]);o!=null&&a(t,["baseModel"],o);const i=s(e,["trainingDataset"]);i!=null&&a(t,["tuningTask","trainingData"],oh(n,i));const r=s(e,["config"]);return r!=null&&a(t,["config"],ih(n,r,t)),t}function sh(n,e){const t={},o=s(e,["name"]);o!=null&&a(t,["_url","name"],o);const i=s(e,["config"]);return i!=null&&a(t,["config"],i),t}function ah(n,e,t){const o={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&a(t,["_query","pageSize"],i);const r=s(e,["pageToken"]);t!==void 0&&r!=null&&a(t,["_query","pageToken"],r);const l=s(e,["filter"]);return t!==void 0&&l!=null&&a(t,["_query","filter"],l),o}function lh(n,e){const t={},o=s(e,["config"]);return o!=null&&a(t,["config"],ah(n,o,t)),t}function uh(n,e,t){const o={},i=s(e,["gcsUri"]);if(t!==void 0&&i!=null&&a(t,["supervisedTuningSpec","trainingDatasetUri"],i),s(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function ch(n,e){const t={},o=s(e,["gcsUri"]);return o!=null&&a(t,["validationDatasetUri"],o),t}function fh(n,e,t){const o={},i=s(e,["validationDataset"]);t!==void 0&&i!=null&&a(t,["supervisedTuningSpec"],ch(n,i));const r=s(e,["tunedModelDisplayName"]);t!==void 0&&r!=null&&a(t,["tunedModelDisplayName"],r);const l=s(e,["description"]);t!==void 0&&l!=null&&a(t,["description"],l);const u=s(e,["epochCount"]);t!==void 0&&u!=null&&a(t,["supervisedTuningSpec","hyperParameters","epochCount"],u);const f=s(e,["learningRateMultiplier"]);t!==void 0&&f!=null&&a(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],f);const c=s(e,["exportLastCheckpointOnly"]);t!==void 0&&c!=null&&a(t,["supervisedTuningSpec","exportLastCheckpointOnly"],c);const d=s(e,["adapterSize"]);if(t!==void 0&&d!=null&&a(t,["supervisedTuningSpec","hyperParameters","adapterSize"],d),s(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return o}function dh(n,e){const t={},o=s(e,["baseModel"]);o!=null&&a(t,["baseModel"],o);const i=s(e,["trainingDataset"]);i!=null&&a(t,["supervisedTuningSpec","trainingDatasetUri"],uh(n,i,t));const r=s(e,["config"]);return r!=null&&a(t,["config"],fh(n,r,t)),t}function ph(n,e){const t={},o=s(e,["name"]);o!=null&&a(t,["model"],o);const i=s(e,["name"]);return i!=null&&a(t,["endpoint"],i),t}function as(n,e){const t={},o=s(e,["name"]);o!=null&&a(t,["name"],o);const i=s(e,["state"]);i!=null&&a(t,["state"],qr(n,i));const r=s(e,["createTime"]);r!=null&&a(t,["createTime"],r);const l=s(e,["tuningTask","startTime"]);l!=null&&a(t,["startTime"],l);const u=s(e,["tuningTask","completeTime"]);u!=null&&a(t,["endTime"],u);const f=s(e,["updateTime"]);f!=null&&a(t,["updateTime"],f);const c=s(e,["description"]);c!=null&&a(t,["description"],c);const d=s(e,["baseModel"]);d!=null&&a(t,["baseModel"],d);const p=s(e,["_self"]);p!=null&&a(t,["tunedModel"],ph(n,p));const m=s(e,["distillationSpec"]);m!=null&&a(t,["distillationSpec"],m);const y=s(e,["experiment"]);y!=null&&a(t,["experiment"],y);const v=s(e,["labels"]);v!=null&&a(t,["labels"],v);const g=s(e,["pipelineJob"]);g!=null&&a(t,["pipelineJob"],g);const _=s(e,["serviceAccount"]);_!=null&&a(t,["serviceAccount"],_);const S=s(e,["tunedModelDisplayName"]);return S!=null&&a(t,["tunedModelDisplayName"],S),t}function mh(n,e){const t={},o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const i=s(e,["tunedModels"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>as(n,l))),a(t,["tuningJobs"],r)}return t}function hh(n,e){const t={},o=s(e,["name"]);o!=null&&a(t,["name"],o);const i=s(e,["metadata"]);i!=null&&a(t,["metadata"],i);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const l=s(e,["error"]);return l!=null&&a(t,["error"],l),t}function gh(n,e){const t={},o=s(e,["checkpointId"]);o!=null&&a(t,["checkpointId"],o);const i=s(e,["epoch"]);i!=null&&a(t,["epoch"],i);const r=s(e,["step"]);r!=null&&a(t,["step"],r);const l=s(e,["endpoint"]);return l!=null&&a(t,["endpoint"],l),t}function yh(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["model"],o);const i=s(e,["endpoint"]);i!=null&&a(t,["endpoint"],i);const r=s(e,["checkpoints"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>gh(n,u))),a(t,["checkpoints"],l)}return t}function Jn(n,e){const t={},o=s(e,["name"]);o!=null&&a(t,["name"],o);const i=s(e,["state"]);i!=null&&a(t,["state"],qr(n,i));const r=s(e,["createTime"]);r!=null&&a(t,["createTime"],r);const l=s(e,["startTime"]);l!=null&&a(t,["startTime"],l);const u=s(e,["endTime"]);u!=null&&a(t,["endTime"],u);const f=s(e,["updateTime"]);f!=null&&a(t,["updateTime"],f);const c=s(e,["error"]);c!=null&&a(t,["error"],c);const d=s(e,["description"]);d!=null&&a(t,["description"],d);const p=s(e,["baseModel"]);p!=null&&a(t,["baseModel"],p);const m=s(e,["tunedModel"]);m!=null&&a(t,["tunedModel"],yh(n,m));const y=s(e,["supervisedTuningSpec"]);y!=null&&a(t,["supervisedTuningSpec"],y);const v=s(e,["tuningDataStats"]);v!=null&&a(t,["tuningDataStats"],v);const g=s(e,["encryptionSpec"]);g!=null&&a(t,["encryptionSpec"],g);const _=s(e,["partnerModelTuningSpec"]);_!=null&&a(t,["partnerModelTuningSpec"],_);const S=s(e,["distillationSpec"]);S!=null&&a(t,["distillationSpec"],S);const A=s(e,["experiment"]);A!=null&&a(t,["experiment"],A);const E=s(e,["labels"]);E!=null&&a(t,["labels"],E);const x=s(e,["pipelineJob"]);x!=null&&a(t,["pipelineJob"],x);const C=s(e,["serviceAccount"]);C!=null&&a(t,["serviceAccount"],C);const M=s(e,["tunedModelDisplayName"]);return M!=null&&a(t,["tunedModelDisplayName"],M),t}function vh(n,e){const t={},o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const i=s(e,["tuningJobs"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>Jn(n,l))),a(t,["tuningJobs"],r)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ch extends ct{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new rn(lt.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(t),t),this.tune=async t=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(t);{const o=await this.tuneMldevInternal(t);let i="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?i=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(i=o.name.split("/operations/")[0]),{name:i,state:Vn.JOB_STATE_QUEUED}}}}async getInternal(e){var t,o,i,r;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=sh(this.apiClient,e);return u=b("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>Jn(this.apiClient,d))}else{const c=jm(this.apiClient,e);return u=b("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>as(this.apiClient,d))}}async listInternal(e){var t,o,i,r;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=lh(this.apiClient,e);return u=b("tuningJobs",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>{const p=vh(this.apiClient,d),m=new bi;return Object.assign(m,p),m})}else{const c=th(this.apiClient,e);return u=b("tunedModels",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>{const p=mh(this.apiClient,d),m=new bi;return Object.assign(m,p),m})}}async tuneInternal(e){var t,o;let i,r="",l={};if(this.apiClient.isVertexAI()){const u=dh(this.apiClient,e);return r=b("tuningJobs",u._url),l=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),i.then(f=>Jn(this.apiClient,f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,o;let i,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=rh(this.apiClient,e);return r=b("tunedModels",u._url),l=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),i.then(f=>hh(this.apiClient,f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Th{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const _h=1024*1024*8,Sh=3,Eh=1e3,xh=2,Sn="x-goog-upload-status";async function Ah(n,e,t){var o,i,r;let l=0,u=0,f=new Un(new Response),c="upload";for(l=n.size;u<l;){const p=Math.min(_h,l-u),m=n.slice(u,u+p);u+p>=l&&(c+=", finalize");let y=0,v=Eh;for(;y<Sh&&(f=await t.request({path:"",body:m,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(u),"Content-Length":String(p)}}}),!(!((o=f==null?void 0:f.headers)===null||o===void 0)&&o[Sn]));)y++,await Mh(v),v=v*xh;if(u+=p,((i=f==null?void 0:f.headers)===null||i===void 0?void 0:i[Sn])!=="active")break;if(l<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const d=await(f==null?void 0:f.json());if(((r=f==null?void 0:f.headers)===null||r===void 0?void 0:r[Sn])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function Ih(n){return{size:n.size,type:n.type}}function Mh(n){return new Promise(e=>setTimeout(e,n))}class wh{async upload(e,t,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Ah(e,t,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Ih(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rh{create(e,t,o){return new Ph(e,t,o)}}class Ph{constructor(e,t,o){this.url=e,this.headers=t,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sr="x-goog-api-key";class kh{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(sr)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(sr,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Nh="gl-node/";class Dh{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const o=ka(e,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;const i=new kh(this.apiKey);this.apiClient=new zp({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:Nh+"web",uploader:new wh,downloader:new Th}),this.models=new fm(this.apiClient),this.live=new sm(this.apiClient,i,new Rh),this.chats=new iu(this.models,this.apiClient),this.caches=new tu(this.apiClient),this.files=new yu(this.apiClient),this.operations=new Sm(this.apiClient),this.authTokens=new Qm(this.apiClient),this.tunings=new Ch(this.apiClient)}}const bh=new Dh({apiKey:"AIzaSyAHdF2L7zRi2KwS-ZMk5h3z0et3RF886QQ"});async function Fh(n){const e=Lh(n),t=await Vh(e);console.log(t);const o=t.match(/```json\s*([\s\S]*?)\s*```/);if(!o)throw new Error("No valid JSON block found in output");const i=o[1];return await JSON.parse(i)}function Lh(n){return`Give me an environmental score for this product ${n} from 0-100 and suggest any alternatives.
    Output in JSON using template:
    {
    productName: "Tide Power Pods Laundry Detergent Pacs with Febreze Sport",
    score: 0,
    suggestedAlternative: "Alternative product name"
    summaryOfEnvironmentalImpact: ""
    }
    `}async function Vh(n){return(await bh.models.generateContent({model:"gemini-2.0-flash",contents:n})).text}function ls(n){var e,t,o="";if(typeof n=="string"||typeof n=="number")o+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=ls(n[e]))&&(o&&(o+=" "),o+=t)}else for(t in n)n[t]&&(o&&(o+=" "),o+=t);return o}function uo(){for(var n,e,t=0,o="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=ls(n))&&(o&&(o+=" "),o+=e);return o}function us(n,e,t=void 0){const o={};for(const i in n){const r=n[i];let l="",u=!0;for(let f=0;f<r.length;f+=1){const c=r[f];c&&(l+=(u===!0?"":" ")+e(c),u=!1,t&&t[c]&&(l+=" "+t[c]))}o[i]=l}return o}function qe(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(o=>t.searchParams.append("args[]",o)),`Minified MUI error #${n}; visit ${t} for the full message.`}function Pe(n){if(typeof n!="string")throw new Error(qe(7));return n.charAt(0).toUpperCase()+n.slice(1)}var En={exports:{}},J={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ar;function Uh(){if(ar)return J;ar=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.view_transition"),y=Symbol.for("react.client.reference");function v(g){if(typeof g=="object"&&g!==null){var _=g.$$typeof;switch(_){case n:switch(g=g.type,g){case t:case i:case o:case f:case c:case m:return g;default:switch(g=g&&g.$$typeof,g){case l:case u:case p:case d:return g;case r:return g;default:return _}}case e:return _}}}return J.ContextConsumer=r,J.ContextProvider=l,J.Element=n,J.ForwardRef=u,J.Fragment=t,J.Lazy=p,J.Memo=d,J.Portal=e,J.Profiler=i,J.StrictMode=o,J.Suspense=f,J.SuspenseList=c,J.isContextConsumer=function(g){return v(g)===r},J.isContextProvider=function(g){return v(g)===l},J.isElement=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===n},J.isForwardRef=function(g){return v(g)===u},J.isFragment=function(g){return v(g)===t},J.isLazy=function(g){return v(g)===p},J.isMemo=function(g){return v(g)===d},J.isPortal=function(g){return v(g)===e},J.isProfiler=function(g){return v(g)===i},J.isStrictMode=function(g){return v(g)===o},J.isSuspense=function(g){return v(g)===f},J.isSuspenseList=function(g){return v(g)===c},J.isValidElementType=function(g){return typeof g=="string"||typeof g=="function"||g===t||g===i||g===o||g===f||g===c||typeof g=="object"&&g!==null&&(g.$$typeof===p||g.$$typeof===d||g.$$typeof===l||g.$$typeof===r||g.$$typeof===u||g.$$typeof===y||g.getModuleId!==void 0)},J.typeOf=v,J}var lr;function $h(){return lr||(lr=1,En.exports=Uh()),En.exports}var cs=$h();function Se(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function fs(n){if(K.isValidElement(n)||cs.isValidElementType(n)||!Se(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=fs(n[t])}),e}function pe(n,e,t={clone:!0}){const o=t.clone?{...n}:n;return Se(n)&&Se(e)&&Object.keys(e).forEach(i=>{K.isValidElement(e[i])||cs.isValidElementType(e[i])?o[i]=e[i]:Se(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&Se(n[i])?o[i]=pe(n[i],e[i],t):t.clone?o[i]=Se(e[i])?fs(e[i]):e[i]:o[i]=e[i]}),o}function St(n,e){return e?pe(n,e,{clone:!1}):n}function Bh(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(o=>o.startsWith("@container")).sort((o,i)=>{var l,u;const r=/min-width:\s*([0-9.]+)/;return+(((l=o.match(r))==null?void 0:l[1])||0)-+(((u=i.match(r))==null?void 0:u[1])||0)});return t.length?t.reduce((o,i)=>{const r=e[i];return delete o[i],o[i]=r,o},{...e}):e}function Gh(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function Oh(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,o,i]=t,r=Number.isNaN(+o)?o||0:+o;return n.containerQueries(i).up(r)}function qh(n){const e=(r,l)=>r.replace("@media",l?`@container ${l}`:"@container");function t(r,l){r.up=(...u)=>e(n.breakpoints.up(...u),l),r.down=(...u)=>e(n.breakpoints.down(...u),l),r.between=(...u)=>e(n.breakpoints.between(...u),l),r.only=(...u)=>e(n.breakpoints.only(...u),l),r.not=(...u)=>{const f=e(n.breakpoints.not(...u),l);return f.includes("not all and")?f.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):f}}const o={},i=r=>(t(o,r),o);return t(i),{...n,containerQueries:i}}const ln={xs:0,sm:600,md:900,lg:1200,xl:1536},ur={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${ln[n]}px)`},Hh={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:ln[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function ke(n,e,t){const o=n.theme||{};if(Array.isArray(e)){const r=o.breakpoints||ur;return e.reduce((l,u,f)=>(l[r.up(r.keys[f])]=t(e[f]),l),{})}if(typeof e=="object"){const r=o.breakpoints||ur;return Object.keys(e).reduce((l,u)=>{if(Gh(r.keys,u)){const f=Oh(o.containerQueries?o:Hh,u);f&&(l[f]=t(e[u],u))}else if(Object.keys(r.values||ln).includes(u)){const f=r.up(u);l[f]=t(e[u],u)}else{const f=u;l[f]=e[f]}return l},{})}return t(e)}function Wh(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((o,i)=>{const r=n.up(i);return o[r]={},o},{}))||{}}function Jh(n,e){return n.reduce((t,o)=>{const i=t[o];return(!i||Object.keys(i).length===0)&&delete t[o],t},e)}function un(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const o=`vars.${e}`.split(".").reduce((i,r)=>i&&i[r]?i[r]:null,n);if(o!=null)return o}return e.split(".").reduce((o,i)=>o&&o[i]!=null?o[i]:null,n)}function tn(n,e,t,o=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||o:i=un(n,t)||o,e&&(i=e(i,o,n)),i}function oe(n){const{prop:e,cssProperty:t=n.prop,themeKey:o,transform:i}=n,r=l=>{if(l[e]==null)return null;const u=l[e],f=l.theme,c=un(f,o)||{};return ke(l,u,p=>{let m=tn(c,i,p);return p===m&&typeof p=="string"&&(m=tn(c,i,`${e}${p==="default"?"":Pe(p)}`,p)),t===!1?m:{[t]:m}})};return r.propTypes={},r.filterProps=[e],r}function Kh(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const zh={m:"margin",p:"padding"},Yh={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},cr={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Zh=Kh(n=>{if(n.length>2)if(cr[n])n=cr[n];else return[n];const[e,t]=n.split(""),o=zh[e],i=Yh[t]||"";return Array.isArray(i)?i.map(r=>o+r):[o+i]}),co=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],fo=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...co,...fo];function Pt(n,e,t,o){const i=un(n,e,!0)??t;return typeof i=="number"||typeof i=="string"?r=>typeof r=="string"?r:typeof i=="string"?i.startsWith("var(")&&r===0?0:i.startsWith("var(")&&r===1?i:`calc(${r} * ${i})`:i*r:Array.isArray(i)?r=>{if(typeof r=="string")return r;const l=Math.abs(r),u=i[l];return r>=0?u:typeof u=="number"?-u:typeof u=="string"&&u.startsWith("var(")?`calc(-1 * ${u})`:`-${u}`}:typeof i=="function"?i:()=>{}}function po(n){return Pt(n,"spacing",8)}function kt(n,e){return typeof e=="string"||e==null?e:n(e)}function Xh(n,e){return t=>n.reduce((o,i)=>(o[i]=kt(e,t),o),{})}function Qh(n,e,t,o){if(!e.includes(t))return null;const i=Zh(t),r=Xh(i,o),l=n[t];return ke(n,l,r)}function ds(n,e){const t=po(n.theme);return Object.keys(n).map(o=>Qh(n,e,o,t)).reduce(St,{})}function ee(n){return ds(n,co)}ee.propTypes={};ee.filterProps=co;function te(n){return ds(n,fo)}te.propTypes={};te.filterProps=fo;function cn(...n){const e=n.reduce((o,i)=>(i.filterProps.forEach(r=>{o[r]=i}),o),{}),t=o=>Object.keys(o).reduce((i,r)=>e[r]?St(i,e[r](o)):i,{});return t.propTypes={},t.filterProps=n.reduce((o,i)=>o.concat(i.filterProps),[]),t}function he(n){return typeof n!="number"?n:`${n}px solid`}function ye(n,e){return oe({prop:n,themeKey:"borders",transform:e})}const jh=ye("border",he),eg=ye("borderTop",he),tg=ye("borderRight",he),ng=ye("borderBottom",he),og=ye("borderLeft",he),ig=ye("borderColor"),rg=ye("borderTopColor"),sg=ye("borderRightColor"),ag=ye("borderBottomColor"),lg=ye("borderLeftColor"),ug=ye("outline",he),cg=ye("outlineColor"),fn=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=Pt(n.theme,"shape.borderRadius",4),t=o=>({borderRadius:kt(e,o)});return ke(n,n.borderRadius,t)}return null};fn.propTypes={};fn.filterProps=["borderRadius"];cn(jh,eg,tg,ng,og,ig,rg,sg,ag,lg,fn,ug,cg);const dn=n=>{if(n.gap!==void 0&&n.gap!==null){const e=Pt(n.theme,"spacing",8),t=o=>({gap:kt(e,o)});return ke(n,n.gap,t)}return null};dn.propTypes={};dn.filterProps=["gap"];const pn=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=Pt(n.theme,"spacing",8),t=o=>({columnGap:kt(e,o)});return ke(n,n.columnGap,t)}return null};pn.propTypes={};pn.filterProps=["columnGap"];const mn=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=Pt(n.theme,"spacing",8),t=o=>({rowGap:kt(e,o)});return ke(n,n.rowGap,t)}return null};mn.propTypes={};mn.filterProps=["rowGap"];const fg=oe({prop:"gridColumn"}),dg=oe({prop:"gridRow"}),pg=oe({prop:"gridAutoFlow"}),mg=oe({prop:"gridAutoColumns"}),hg=oe({prop:"gridAutoRows"}),gg=oe({prop:"gridTemplateColumns"}),yg=oe({prop:"gridTemplateRows"}),vg=oe({prop:"gridTemplateAreas"}),Cg=oe({prop:"gridArea"});cn(dn,pn,mn,fg,dg,pg,mg,hg,gg,yg,vg,Cg);function tt(n,e){return e==="grey"?e:n}const Tg=oe({prop:"color",themeKey:"palette",transform:tt}),_g=oe({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:tt}),Sg=oe({prop:"backgroundColor",themeKey:"palette",transform:tt});cn(Tg,_g,Sg);function de(n){return n<=1&&n!==0?`${n*100}%`:n}const Eg=oe({prop:"width",transform:de}),mo=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var i,r,l,u,f;const o=((l=(r=(i=n.theme)==null?void 0:i.breakpoints)==null?void 0:r.values)==null?void 0:l[t])||ln[t];return o?((f=(u=n.theme)==null?void 0:u.breakpoints)==null?void 0:f.unit)!=="px"?{maxWidth:`${o}${n.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:de(t)}};return ke(n,n.maxWidth,e)}return null};mo.filterProps=["maxWidth"];const xg=oe({prop:"minWidth",transform:de}),Ag=oe({prop:"height",transform:de}),Ig=oe({prop:"maxHeight",transform:de}),Mg=oe({prop:"minHeight",transform:de});oe({prop:"size",cssProperty:"width",transform:de});oe({prop:"size",cssProperty:"height",transform:de});const wg=oe({prop:"boxSizing"});cn(Eg,mo,xg,Ag,Ig,Mg,wg);const Nt={border:{themeKey:"borders",transform:he},borderTop:{themeKey:"borders",transform:he},borderRight:{themeKey:"borders",transform:he},borderBottom:{themeKey:"borders",transform:he},borderLeft:{themeKey:"borders",transform:he},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:he},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:fn},color:{themeKey:"palette",transform:tt},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:tt},backgroundColor:{themeKey:"palette",transform:tt},p:{style:te},pt:{style:te},pr:{style:te},pb:{style:te},pl:{style:te},px:{style:te},py:{style:te},padding:{style:te},paddingTop:{style:te},paddingRight:{style:te},paddingBottom:{style:te},paddingLeft:{style:te},paddingX:{style:te},paddingY:{style:te},paddingInline:{style:te},paddingInlineStart:{style:te},paddingInlineEnd:{style:te},paddingBlock:{style:te},paddingBlockStart:{style:te},paddingBlockEnd:{style:te},m:{style:ee},mt:{style:ee},mr:{style:ee},mb:{style:ee},ml:{style:ee},mx:{style:ee},my:{style:ee},margin:{style:ee},marginTop:{style:ee},marginRight:{style:ee},marginBottom:{style:ee},marginLeft:{style:ee},marginX:{style:ee},marginY:{style:ee},marginInline:{style:ee},marginInlineStart:{style:ee},marginInlineEnd:{style:ee},marginBlock:{style:ee},marginBlockStart:{style:ee},marginBlockEnd:{style:ee},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:dn},rowGap:{style:mn},columnGap:{style:pn},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:de},maxWidth:{style:mo},minWidth:{transform:de},height:{transform:de},maxHeight:{transform:de},minHeight:{transform:de},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Rg(...n){const e=n.reduce((o,i)=>o.concat(Object.keys(i)),[]),t=new Set(e);return n.every(o=>t.size===Object.keys(o).length)}function Pg(n,e){return typeof n=="function"?n(e):n}function kg(){function n(t,o,i,r){const l={[t]:o,theme:i},u=r[t];if(!u)return{[t]:o};const{cssProperty:f=t,themeKey:c,transform:d,style:p}=u;if(o==null)return null;if(c==="typography"&&o==="inherit")return{[t]:o};const m=un(i,c)||{};return p?p(l):ke(l,o,v=>{let g=tn(m,d,v);return v===g&&typeof v=="string"&&(g=tn(m,d,`${t}${v==="default"?"":Pe(v)}`,v)),f===!1?g:{[f]:g}})}function e(t){const{sx:o,theme:i={}}=t||{};if(!o)return null;const r=i.unstable_sxConfig??Nt;function l(u){let f=u;if(typeof u=="function")f=u(i);else if(typeof u!="object")return u;if(!f)return null;const c=Wh(i.breakpoints),d=Object.keys(c);let p=c;return Object.keys(f).forEach(m=>{const y=Pg(f[m],i);if(y!=null)if(typeof y=="object")if(r[m])p=St(p,n(m,y,i,r));else{const v=ke({theme:i},y,g=>({[m]:g}));Rg(v,y)?p[m]=e({sx:y,theme:i}):p=St(p,v)}else p=St(p,n(m,y,i,r))}),Bh(i,Jh(d,p))}return Array.isArray(o)?o.map(l):l(o)}return e}const He=kg();He.filterProps=["sx"];const Ng=n=>{var o;const e={systemProps:{},otherProps:{}},t=((o=n==null?void 0:n.theme)==null?void 0:o.unstable_sxConfig)??Nt;return Object.keys(n).forEach(i=>{t[i]?e.systemProps[i]=n[i]:e.otherProps[i]=n[i]}),e};function ps(n){const{sx:e,...t}=n,{systemProps:o,otherProps:i}=Ng(t);let r;return Array.isArray(e)?r=[o,...e]:typeof e=="function"?r=(...l)=>{const u=e(...l);return Se(u)?{...o,...u}:o}:r={...o,...e},{...i,sx:r}}function Kn(){return Kn=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)({}).hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Kn.apply(null,arguments)}function Dg(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function bg(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Fg=function(){function n(t){var o=this;this._insertTag=function(i){var r;o.tags.length===0?o.insertionPoint?r=o.insertionPoint.nextSibling:o.prepend?r=o.container.firstChild:r=o.before:r=o.tags[o.tags.length-1].nextSibling,o.container.insertBefore(i,r),o.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(o){o.forEach(this._insertTag)},e.insert=function(o){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(bg(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var r=Dg(i);try{r.insertRule(o,r.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(o));this.ctr++},e.flush=function(){this.tags.forEach(function(o){var i;return(i=o.parentNode)==null?void 0:i.removeChild(o)}),this.tags=[],this.ctr=0},n}(),ae="-ms-",nn="-moz-",O="-webkit-",ms="comm",ho="rule",go="decl",Lg="@import",hs="@keyframes",Vg="@layer",Ug=Math.abs,hn=String.fromCharCode,$g=Object.assign;function Bg(n,e){return se(n,0)^45?(((e<<2^se(n,0))<<2^se(n,1))<<2^se(n,2))<<2^se(n,3):0}function gs(n){return n.trim()}function Gg(n,e){return(n=e.exec(n))?n[0]:n}function q(n,e,t){return n.replace(e,t)}function zn(n,e){return n.indexOf(e)}function se(n,e){return n.charCodeAt(e)|0}function xt(n,e,t){return n.slice(e,t)}function Te(n){return n.length}function yo(n){return n.length}function Lt(n,e){return e.push(n),n}function Og(n,e){return n.map(e).join("")}var gn=1,ut=1,ys=0,fe=0,re=0,dt="";function yn(n,e,t,o,i,r,l){return{value:n,root:e,parent:t,type:o,props:i,children:r,line:gn,column:ut,length:l,return:""}}function ht(n,e){return $g(yn("",null,null,"",null,null,0),n,{length:-n.length},e)}function qg(){return re}function Hg(){return re=fe>0?se(dt,--fe):0,ut--,re===10&&(ut=1,gn--),re}function me(){return re=fe<ys?se(dt,fe++):0,ut++,re===10&&(ut=1,gn++),re}function Ie(){return se(dt,fe)}function Ot(){return fe}function Dt(n,e){return xt(dt,n,e)}function At(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function vs(n){return gn=ut=1,ys=Te(dt=n),fe=0,[]}function Cs(n){return dt="",n}function qt(n){return gs(Dt(fe-1,Yn(n===91?n+2:n===40?n+1:n)))}function Wg(n){for(;(re=Ie())&&re<33;)me();return At(n)>2||At(re)>3?"":" "}function Jg(n,e){for(;--e&&me()&&!(re<48||re>102||re>57&&re<65||re>70&&re<97););return Dt(n,Ot()+(e<6&&Ie()==32&&me()==32))}function Yn(n){for(;me();)switch(re){case n:return fe;case 34:case 39:n!==34&&n!==39&&Yn(re);break;case 40:n===41&&Yn(n);break;case 92:me();break}return fe}function Kg(n,e){for(;me()&&n+re!==57;)if(n+re===84&&Ie()===47)break;return"/*"+Dt(e,fe-1)+"*"+hn(n===47?n:me())}function zg(n){for(;!At(Ie());)me();return Dt(n,fe)}function Yg(n){return Cs(Ht("",null,null,null,[""],n=vs(n),0,[0],n))}function Ht(n,e,t,o,i,r,l,u,f){for(var c=0,d=0,p=l,m=0,y=0,v=0,g=1,_=1,S=1,A=0,E="",x=i,C=r,M=o,R=E;_;)switch(v=A,A=me()){case 40:if(v!=108&&se(R,p-1)==58){zn(R+=q(qt(A),"&","&\f"),"&\f")!=-1&&(S=-1);break}case 34:case 39:case 91:R+=qt(A);break;case 9:case 10:case 13:case 32:R+=Wg(v);break;case 92:R+=Jg(Ot()-1,7);continue;case 47:switch(Ie()){case 42:case 47:Lt(Zg(Kg(me(),Ot()),e,t),f);break;default:R+="/"}break;case 123*g:u[c++]=Te(R)*S;case 125*g:case 59:case 0:switch(A){case 0:case 125:_=0;case 59+d:S==-1&&(R=q(R,/\f/g,"")),y>0&&Te(R)-p&&Lt(y>32?dr(R+";",o,t,p-1):dr(q(R," ","")+";",o,t,p-2),f);break;case 59:R+=";";default:if(Lt(M=fr(R,e,t,c,d,i,u,E,x=[],C=[],p),r),A===123)if(d===0)Ht(R,e,M,M,x,r,p,u,C);else switch(m===99&&se(R,3)===110?100:m){case 100:case 108:case 109:case 115:Ht(n,M,M,o&&Lt(fr(n,M,M,0,0,i,u,E,i,x=[],p),C),i,C,p,u,o?x:C);break;default:Ht(R,M,M,M,[""],C,0,u,C)}}c=d=y=0,g=S=1,E=R="",p=l;break;case 58:p=1+Te(R),y=v;default:if(g<1){if(A==123)--g;else if(A==125&&g++==0&&Hg()==125)continue}switch(R+=hn(A),A*g){case 38:S=d>0?1:(R+="\f",-1);break;case 44:u[c++]=(Te(R)-1)*S,S=1;break;case 64:Ie()===45&&(R+=qt(me())),m=Ie(),d=p=Te(E=R+=zg(Ot())),A++;break;case 45:v===45&&Te(R)==2&&(g=0)}}return r}function fr(n,e,t,o,i,r,l,u,f,c,d){for(var p=i-1,m=i===0?r:[""],y=yo(m),v=0,g=0,_=0;v<o;++v)for(var S=0,A=xt(n,p+1,p=Ug(g=l[v])),E=n;S<y;++S)(E=gs(g>0?m[S]+" "+A:q(A,/&\f/g,m[S])))&&(f[_++]=E);return yn(n,e,t,i===0?ho:u,f,c,d)}function Zg(n,e,t){return yn(n,e,t,ms,hn(qg()),xt(n,2,-2),0)}function dr(n,e,t,o){return yn(n,e,t,go,xt(n,0,o),xt(n,o+1,-1),o)}function nt(n,e){for(var t="",o=yo(n),i=0;i<o;i++)t+=e(n[i],i,n,e)||"";return t}function Xg(n,e,t,o){switch(n.type){case Vg:if(n.children.length)break;case Lg:case go:return n.return=n.return||n.value;case ms:return"";case hs:return n.return=n.value+"{"+nt(n.children,o)+"}";case ho:n.value=n.props.join(",")}return Te(t=nt(n.children,o))?n.return=n.value+"{"+t+"}":""}function Qg(n){var e=yo(n);return function(t,o,i,r){for(var l="",u=0;u<e;u++)l+=n[u](t,o,i,r)||"";return l}}function jg(n){return function(e){e.root||(e=e.return)&&n(e)}}function Ts(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var ey=function(e,t,o){for(var i=0,r=0;i=r,r=Ie(),i===38&&r===12&&(t[o]=1),!At(r);)me();return Dt(e,fe)},ty=function(e,t){var o=-1,i=44;do switch(At(i)){case 0:i===38&&Ie()===12&&(t[o]=1),e[o]+=ey(fe-1,t,o);break;case 2:e[o]+=qt(i);break;case 4:if(i===44){e[++o]=Ie()===58?"&\f":"",t[o]=e[o].length;break}default:e[o]+=hn(i)}while(i=me());return e},ny=function(e,t){return Cs(ty(vs(e),t))},pr=new WeakMap,oy=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,o=e.parent,i=e.column===o.column&&e.line===o.line;o.type!=="rule";)if(o=o.parent,!o)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!pr.get(o))&&!i){pr.set(e,!0);for(var r=[],l=ny(t,r),u=o.props,f=0,c=0;f<l.length;f++)for(var d=0;d<u.length;d++,c++)e.props[c]=r[f]?l[f].replace(/&\f/g,u[d]):u[d]+" "+l[f]}}},iy=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function _s(n,e){switch(Bg(n,e)){case 5103:return O+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return O+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return O+n+nn+n+ae+n+n;case 6828:case 4268:return O+n+ae+n+n;case 6165:return O+n+ae+"flex-"+n+n;case 5187:return O+n+q(n,/(\w+).+(:[^]+)/,O+"box-$1$2"+ae+"flex-$1$2")+n;case 5443:return O+n+ae+"flex-item-"+q(n,/flex-|-self/,"")+n;case 4675:return O+n+ae+"flex-line-pack"+q(n,/align-content|flex-|-self/,"")+n;case 5548:return O+n+ae+q(n,"shrink","negative")+n;case 5292:return O+n+ae+q(n,"basis","preferred-size")+n;case 6060:return O+"box-"+q(n,"-grow","")+O+n+ae+q(n,"grow","positive")+n;case 4554:return O+q(n,/([^-])(transform)/g,"$1"+O+"$2")+n;case 6187:return q(q(q(n,/(zoom-|grab)/,O+"$1"),/(image-set)/,O+"$1"),n,"")+n;case 5495:case 3959:return q(n,/(image-set\([^]*)/,O+"$1$`$1");case 4968:return q(q(n,/(.+:)(flex-)?(.*)/,O+"box-pack:$3"+ae+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+O+n+n;case 4095:case 3583:case 4068:case 2532:return q(n,/(.+)-inline(.+)/,O+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Te(n)-1-e>6)switch(se(n,e+1)){case 109:if(se(n,e+4)!==45)break;case 102:return q(n,/(.+:)(.+)-([^]+)/,"$1"+O+"$2-$3$1"+nn+(se(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~zn(n,"stretch")?_s(q(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(se(n,e+1)!==115)break;case 6444:switch(se(n,Te(n)-3-(~zn(n,"!important")&&10))){case 107:return q(n,":",":"+O)+n;case 101:return q(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+O+(se(n,14)===45?"inline-":"")+"box$3$1"+O+"$2$3$1"+ae+"$2box$3")+n}break;case 5936:switch(se(n,e+11)){case 114:return O+n+ae+q(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return O+n+ae+q(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return O+n+ae+q(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return O+n+ae+n+n}return n}var ry=function(e,t,o,i){if(e.length>-1&&!e.return)switch(e.type){case go:e.return=_s(e.value,e.length);break;case hs:return nt([ht(e,{value:q(e.value,"@","@"+O)})],i);case ho:if(e.length)return Og(e.props,function(r){switch(Gg(r,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return nt([ht(e,{props:[q(r,/:(read-\w+)/,":"+nn+"$1")]})],i);case"::placeholder":return nt([ht(e,{props:[q(r,/:(plac\w+)/,":"+O+"input-$1")]}),ht(e,{props:[q(r,/:(plac\w+)/,":"+nn+"$1")]}),ht(e,{props:[q(r,/:(plac\w+)/,ae+"input-$1")]})],i)}return""})}},sy=[ry],ay=function(e){var t=e.key;if(t==="css"){var o=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(o,function(g){var _=g.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=e.stylisPlugins||sy,r={},l,u=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(g){for(var _=g.getAttribute("data-emotion").split(" "),S=1;S<_.length;S++)r[_[S]]=!0;u.push(g)});var f,c=[oy,iy];{var d,p=[Xg,jg(function(g){d.insert(g)})],m=Qg(c.concat(i,p)),y=function(_){return nt(Yg(_),m)};f=function(_,S,A,E){d=A,y(_?_+"{"+S.styles+"}":S.styles),E&&(v.inserted[S.name]=!0)}}var v={key:t,sheet:new Fg({key:t,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:r,registered:{},insert:f};return v.sheet.hydrate(u),v},xn={exports:{}},H={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mr;function ly(){if(mr)return H;mr=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,r=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,f=n?Symbol.for("react.async_mode"):60111,c=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,y=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,_=n?Symbol.for("react.fundamental"):60117,S=n?Symbol.for("react.responder"):60118,A=n?Symbol.for("react.scope"):60119;function E(C){if(typeof C=="object"&&C!==null){var M=C.$$typeof;switch(M){case e:switch(C=C.type,C){case f:case c:case o:case r:case i:case p:return C;default:switch(C=C&&C.$$typeof,C){case u:case d:case v:case y:case l:return C;default:return M}}case t:return M}}}function x(C){return E(C)===c}return H.AsyncMode=f,H.ConcurrentMode=c,H.ContextConsumer=u,H.ContextProvider=l,H.Element=e,H.ForwardRef=d,H.Fragment=o,H.Lazy=v,H.Memo=y,H.Portal=t,H.Profiler=r,H.StrictMode=i,H.Suspense=p,H.isAsyncMode=function(C){return x(C)||E(C)===f},H.isConcurrentMode=x,H.isContextConsumer=function(C){return E(C)===u},H.isContextProvider=function(C){return E(C)===l},H.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===e},H.isForwardRef=function(C){return E(C)===d},H.isFragment=function(C){return E(C)===o},H.isLazy=function(C){return E(C)===v},H.isMemo=function(C){return E(C)===y},H.isPortal=function(C){return E(C)===t},H.isProfiler=function(C){return E(C)===r},H.isStrictMode=function(C){return E(C)===i},H.isSuspense=function(C){return E(C)===p},H.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===o||C===c||C===r||C===i||C===p||C===m||typeof C=="object"&&C!==null&&(C.$$typeof===v||C.$$typeof===y||C.$$typeof===l||C.$$typeof===u||C.$$typeof===d||C.$$typeof===_||C.$$typeof===S||C.$$typeof===A||C.$$typeof===g)},H.typeOf=E,H}var hr;function uy(){return hr||(hr=1,xn.exports=ly()),xn.exports}var An,gr;function cy(){if(gr)return An;gr=1;var n=uy(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},r={};r[n.ForwardRef]=o,r[n.Memo]=i;function l(v){return n.isMemo(v)?i:r[v.$$typeof]||e}var u=Object.defineProperty,f=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,m=Object.prototype;function y(v,g,_){if(typeof g!="string"){if(m){var S=p(g);S&&S!==m&&y(v,S,_)}var A=f(g);c&&(A=A.concat(c(g)));for(var E=l(v),x=l(g),C=0;C<A.length;++C){var M=A[C];if(!t[M]&&!(_&&_[M])&&!(x&&x[M])&&!(E&&E[M])){var R=d(g,M);try{u(v,M,R)}catch{}}}}return v}return An=y,An}cy();var fy=!0;function Ss(n,e,t){var o="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(o+=i+" ")}),o}var vo=function(e,t,o){var i=e.key+"-"+t.name;(o===!1||fy===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},Es=function(e,t,o){vo(e,t,o);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var r=t;do e.insert(t===r?"."+i:"",r,e.sheet,!0),r=r.next;while(r!==void 0)}};function dy(n){for(var e=0,t,o=0,i=n.length;i>=4;++o,i-=4)t=n.charCodeAt(o)&255|(n.charCodeAt(++o)&255)<<8|(n.charCodeAt(++o)&255)<<16|(n.charCodeAt(++o)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(o+2)&255)<<16;case 2:e^=(n.charCodeAt(o+1)&255)<<8;case 1:e^=n.charCodeAt(o)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var py={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},my=/[A-Z]|^ms/g,hy=/_EMO_([^_]+?)_([^]*?)_EMO_/g,xs=function(e){return e.charCodeAt(1)===45},yr=function(e){return e!=null&&typeof e!="boolean"},In=Ts(function(n){return xs(n)?n:n.replace(my,"-$&").toLowerCase()}),vr=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(hy,function(o,i,r){return _e={name:i,styles:r,next:_e},i})}return py[e]!==1&&!xs(e)&&typeof t=="number"&&t!==0?t+"px":t};function It(n,e,t){if(t==null)return"";var o=t;if(o.__emotion_styles!==void 0)return o;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return _e={name:i.name,styles:i.styles,next:_e},i.name;var r=t;if(r.styles!==void 0){var l=r.next;if(l!==void 0)for(;l!==void 0;)_e={name:l.name,styles:l.styles,next:_e},l=l.next;var u=r.styles+";";return u}return gy(n,e,t)}case"function":{if(n!==void 0){var f=_e,c=t(n);return _e=f,It(n,e,c)}break}}var d=t;if(e==null)return d;var p=e[d];return p!==void 0?p:d}function gy(n,e,t){var o="";if(Array.isArray(t))for(var i=0;i<t.length;i++)o+=It(n,e,t[i])+";";else for(var r in t){var l=t[r];if(typeof l!="object"){var u=l;e!=null&&e[u]!==void 0?o+=r+"{"+e[u]+"}":yr(u)&&(o+=In(r)+":"+vr(r,u)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&(e==null||e[l[0]]===void 0))for(var f=0;f<l.length;f++)yr(l[f])&&(o+=In(r)+":"+vr(r,l[f])+";");else{var c=It(n,e,l);switch(r){case"animation":case"animationName":{o+=In(r)+":"+c+";";break}default:o+=r+"{"+c+"}"}}}return o}var Cr=/label:\s*([^\s;{]+)\s*(;|$)/g,_e;function vn(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var o=!0,i="";_e=void 0;var r=n[0];if(r==null||r.raw===void 0)o=!1,i+=It(t,e,r);else{var l=r;i+=l[0]}for(var u=1;u<n.length;u++)if(i+=It(t,e,n[u]),o){var f=r;i+=f[u]}Cr.lastIndex=0;for(var c="",d;(d=Cr.exec(i))!==null;)c+="-"+d[1];var p=dy(i)+c;return{name:p,styles:i,next:_e}}var yy=function(e){return e()},vy=No.useInsertionEffect?No.useInsertionEffect:!1,As=vy||yy,Is=K.createContext(typeof HTMLElement<"u"?ay({key:"css"}):null);Is.Provider;var Ms=function(e){return K.forwardRef(function(t,o){var i=K.useContext(Is);return e(t,i,o)})},Co=K.createContext({}),To={}.hasOwnProperty,Zn="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Cy=function(e,t){var o={};for(var i in t)To.call(t,i)&&(o[i]=t[i]);return o[Zn]=e,o},Ty=function(e){var t=e.cache,o=e.serialized,i=e.isStringTag;return vo(t,o,i),As(function(){return Es(t,o,i)}),null},_y=Ms(function(n,e,t){var o=n.css;typeof o=="string"&&e.registered[o]!==void 0&&(o=e.registered[o]);var i=n[Zn],r=[o],l="";typeof n.className=="string"?l=Ss(e.registered,r,n.className):n.className!=null&&(l=n.className+" ");var u=vn(r,void 0,K.useContext(Co));l+=e.key+"-"+u.name;var f={};for(var c in n)To.call(n,c)&&c!=="css"&&c!==Zn&&(f[c]=n[c]);return f.className=l,t&&(f.ref=t),K.createElement(K.Fragment,null,K.createElement(Ty,{cache:e,serialized:u,isStringTag:typeof i=="string"}),K.createElement(i,f))}),Sy=_y,Tr=function(e,t){var o=arguments;if(t==null||!To.call(t,"css"))return K.createElement.apply(void 0,o);var i=o.length,r=new Array(i);r[0]=Sy,r[1]=Cy(e,t);for(var l=2;l<i;l++)r[l]=o[l];return K.createElement.apply(null,r)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(Tr||(Tr={}));function _o(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return vn(e)}function ws(){var n=_o.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var Ey=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,xy=Ts(function(n){return Ey.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),Ay=xy,Iy=function(e){return e!=="theme"},_r=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Ay:Iy},Sr=function(e,t,o){var i;if(t){var r=t.shouldForwardProp;i=e.__emotion_forwardProp&&r?function(l){return e.__emotion_forwardProp(l)&&r(l)}:r}return typeof i!="function"&&o&&(i=e.__emotion_forwardProp),i},My=function(e){var t=e.cache,o=e.serialized,i=e.isStringTag;return vo(t,o,i),As(function(){return Es(t,o,i)}),null},wy=function n(e,t){var o=e.__emotion_real===e,i=o&&e.__emotion_base||e,r,l;t!==void 0&&(r=t.label,l=t.target);var u=Sr(e,t,o),f=u||_r(i),c=!f("as");return function(){var d=arguments,p=o&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(r!==void 0&&p.push("label:"+r+";"),d[0]==null||d[0].raw===void 0)p.push.apply(p,d);else{var m=d[0];p.push(m[0]);for(var y=d.length,v=1;v<y;v++)p.push(d[v],m[v])}var g=Ms(function(_,S,A){var E=c&&_.as||i,x="",C=[],M=_;if(_.theme==null){M={};for(var R in _)M[R]=_[R];M.theme=K.useContext(Co)}typeof _.className=="string"?x=Ss(S.registered,C,_.className):_.className!=null&&(x=_.className+" ");var $=vn(p.concat(C),S.registered,M);x+=S.key+"-"+$.name,l!==void 0&&(x+=" "+l);var D=c&&u===void 0?_r(E):f,h={};for(var w in _)c&&w==="as"||D(w)&&(h[w]=_[w]);return h.className=x,A&&(h.ref=A),K.createElement(K.Fragment,null,K.createElement(My,{cache:S,serialized:$,isStringTag:typeof E=="string"}),K.createElement(E,h))});return g.displayName=r!==void 0?r:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=e.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=p,g.__emotion_forwardProp=u,Object.defineProperty(g,"toString",{value:function(){return"."+l}}),g.withComponent=function(_,S){var A=n(_,Kn({},t,S,{shouldForwardProp:Sr(g,S,!0)}));return A.apply(void 0,p)},g}},Ry=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Xn=wy.bind(null);Ry.forEach(function(n){Xn[n]=Xn(n)});function Rs(n,e){return Xn(n,e)}function Py(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const Er=[];function xr(n){return Er[0]=n,vn(Er)}const ky=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,o)=>t.val-o.val),e.reduce((t,o)=>({...t,[o.key]:o.val}),{})};function Ny(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:o=5,...i}=n,r=ky(e),l=Object.keys(r);function u(m){return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${t})`}function f(m){return`@media (max-width:${(typeof e[m]=="number"?e[m]:m)-o/100}${t})`}function c(m,y){const v=l.indexOf(y);return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${t}) and (max-width:${(v!==-1&&typeof e[l[v]]=="number"?e[l[v]]:y)-o/100}${t})`}function d(m){return l.indexOf(m)+1<l.length?c(m,l[l.indexOf(m)+1]):u(m)}function p(m){const y=l.indexOf(m);return y===0?u(l[1]):y===l.length-1?f(l[y]):c(m,l[l.indexOf(m)+1]).replace("@media","@media not all and")}return{keys:l,values:r,up:u,down:f,between:c,only:d,not:p,unit:t,...i}}const Dy={borderRadius:4};function Ps(n=8,e=po({spacing:n})){if(n.mui)return n;const t=(...o)=>(o.length===0?[1]:o).map(r=>{const l=e(r);return typeof l=="number"?`${l}px`:l}).join(" ");return t.mui=!0,t}function by(n,e){var o;const t=this;if(t.vars){if(!((o=t.colorSchemes)!=null&&o[n])||typeof t.getColorSchemeSelector!="function")return{};let i=t.getColorSchemeSelector(n);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return t.palette.mode===n?e:{}}function So(n={},...e){const{breakpoints:t={},palette:o={},spacing:i,shape:r={},...l}=n,u=Ny(t),f=Ps(i);let c=pe({breakpoints:u,direction:"ltr",components:{},palette:{mode:"light",...o},spacing:f,shape:{...Dy,...r}},l);return c=qh(c),c.applyStyles=by,c=e.reduce((d,p)=>pe(d,p),c),c.unstable_sxConfig={...Nt,...l==null?void 0:l.unstable_sxConfig},c.unstable_sx=function(p){return He({sx:p,theme:this})},c}function Fy(n){return Object.keys(n).length===0}function Ly(n=null){const e=K.useContext(Co);return!e||Fy(e)?n:e}const Vy=So();function Uy(n=Vy){return Ly(n)}const Ar=n=>n,$y=()=>{let n=Ar;return{configure(e){n=e},generate(e){return n(e)},reset(){n=Ar}}},ks=$y();function By(n={}){const{themeId:e,defaultTheme:t,defaultClassName:o="MuiBox-root",generateClassName:i}=n,r=Rs("div",{shouldForwardProp:u=>u!=="theme"&&u!=="sx"&&u!=="as"})(He);return K.forwardRef(function(f,c){const d=Uy(t),{className:p,component:m="div",...y}=ps(f);return ne.jsx(r,{as:m,ref:c,className:uo(p,i?i(o):o),theme:e&&d[e]||d,...y})})}const Gy={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Eo(n,e,t="Mui"){const o=Gy[e];return o?`${t}-${o}`:`${ks.generate(n)}-${e}`}function xo(n,e,t="Mui"){const o={};return e.forEach(i=>{o[i]=Eo(n,i,t)}),o}function Ns(n){const{variants:e,...t}=n,o={variants:e,style:xr(t),isProcessed:!0};return o.style===t||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=xr(i.style))}),o}const Oy=So();function Mn(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function qy(n){return n?(e,t)=>t[n]:null}function Hy(n,e,t){n.theme=Ky(n.theme)?t:n.theme[e]||n.theme}function Wt(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(o=>Wt(n,o));if(Array.isArray(t==null?void 0:t.variants)){let o;if(t.isProcessed)o=t.style;else{const{variants:i,...r}=t;o=r}return Ds(n,t.variants,[o])}return t!=null&&t.isProcessed?t.style:t}function Ds(n,e,t=[]){var i;let o;e:for(let r=0;r<e.length;r+=1){const l=e[r];if(typeof l.props=="function"){if(o??(o={...n,...n.ownerState,ownerState:n.ownerState}),!l.props(o))continue}else for(const u in l.props)if(n[u]!==l.props[u]&&((i=n.ownerState)==null?void 0:i[u])!==l.props[u])continue e;typeof l.style=="function"?(o??(o={...n,...n.ownerState,ownerState:n.ownerState}),t.push(l.style(o))):t.push(l.style)}return t}function Wy(n={}){const{themeId:e,defaultTheme:t=Oy,rootShouldForwardProp:o=Mn,slotShouldForwardProp:i=Mn}=n;function r(u){Hy(u,e,t)}return(u,f={})=>{Py(u,C=>C.filter(M=>M!==He));const{name:c,slot:d,skipVariantsResolver:p,skipSx:m,overridesResolver:y=qy(Yy(d)),...v}=f,g=p!==void 0?p:d&&d!=="Root"&&d!=="root"||!1,_=m||!1;let S=Mn;d==="Root"||d==="root"?S=o:d?S=i:zy(u)&&(S=void 0);const A=Rs(u,{shouldForwardProp:S,label:Jy(),...v}),E=C=>{if(C.__emotion_real===C)return C;if(typeof C=="function")return function(R){return Wt(R,C)};if(Se(C)){const M=Ns(C);return M.variants?function($){return Wt($,M)}:M.style}return C},x=(...C)=>{const M=[],R=C.map(E),$=[];if(M.push(r),c&&y&&$.push(function(V){var pt,Po;const X=(Po=(pt=V.theme.components)==null?void 0:pt[c])==null?void 0:Po.styleOverrides;if(!X)return null;const ce={};for(const ko in X)ce[ko]=Wt(V,X[ko]);return y(V,ce)}),c&&!g&&$.push(function(V){var ce,pt;const W=V.theme,X=(pt=(ce=W==null?void 0:W.components)==null?void 0:ce[c])==null?void 0:pt.variants;return X?Ds(V,X):null}),_||$.push(He),Array.isArray(R[0])){const w=R.shift(),V=new Array(M.length).fill(""),W=new Array($.length).fill("");let X;X=[...V,...w,...W],X.raw=[...V,...w.raw,...W],M.unshift(X)}const D=[...M,...R,...$],h=A(...D);return u.muiName&&(h.muiName=u.muiName),h};return A.withConfig&&(x.withConfig=A.withConfig),x}}function Jy(n,e){return void 0}function Ky(n){for(const e in n)return!1;return!0}function zy(n){return typeof n=="string"&&n.charCodeAt(0)>96}function Yy(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function Qn(n,e){const t={...e};for(const o in n)if(Object.prototype.hasOwnProperty.call(n,o)){const i=o;if(i==="components"||i==="slots")t[i]={...n[i],...t[i]};else if(i==="componentsProps"||i==="slotProps"){const r=n[i],l=e[i];if(!l)t[i]=r||{};else if(!r)t[i]=l;else{t[i]={...l};for(const u in r)if(Object.prototype.hasOwnProperty.call(r,u)){const f=u;t[i][f]=Qn(r[f],l[f])}}}else t[i]===void 0&&(t[i]=n[i])}return t}function Zy(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function Ao(n,e=0,t=1){return Zy(n,e,t)}function Xy(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(o=>o+o)),t?`rgb${t.length===4?"a":""}(${t.map((o,i)=>i<3?parseInt(o,16):Math.round(parseInt(o,16)/255*1e3)/1e3).join(", ")})`:""}function Ve(n){if(n.type)return n;if(n.charAt(0)==="#")return Ve(Xy(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(qe(9,n));let o=n.substring(e+1,n.length-1),i;if(t==="color"){if(o=o.split(" "),i=o.shift(),o.length===4&&o[3].charAt(0)==="/"&&(o[3]=o[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(qe(10,i))}else o=o.split(",");return o=o.map(r=>parseFloat(r)),{type:t,values:o,colorSpace:i}}const Qy=n=>{const e=Ve(n);return e.values.slice(0,3).map((t,o)=>e.type.includes("hsl")&&o!==0?`${t}%`:t).join(" ")},Ct=(n,e)=>{try{return Qy(n)}catch{return n}};function Cn(n){const{type:e,colorSpace:t}=n;let{values:o}=n;return e.includes("rgb")?o=o.map((i,r)=>r<3?parseInt(i,10):i):e.includes("hsl")&&(o[1]=`${o[1]}%`,o[2]=`${o[2]}%`),e.includes("color")?o=`${t} ${o.join(" ")}`:o=`${o.join(", ")}`,`${e}(${o})`}function bs(n){n=Ve(n);const{values:e}=n,t=e[0],o=e[1]/100,i=e[2]/100,r=o*Math.min(i,1-i),l=(c,d=(c+t/30)%12)=>i-r*Math.max(Math.min(d-3,9-d,1),-1);let u="rgb";const f=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return n.type==="hsla"&&(u+="a",f.push(e[3])),Cn({type:u,values:f})}function jn(n){n=Ve(n);let e=n.type==="hsl"||n.type==="hsla"?Ve(bs(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function jy(n,e){const t=jn(n),o=jn(e);return(Math.max(t,o)+.05)/(Math.min(t,o)+.05)}function ev(n,e){return n=Ve(n),e=Ao(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,Cn(n)}function Vt(n,e,t){try{return ev(n,e)}catch{return n}}function Io(n,e){if(n=Ve(n),e=Ao(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return Cn(n)}function z(n,e,t){try{return Io(n,e)}catch{return n}}function Mo(n,e){if(n=Ve(n),e=Ao(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return Cn(n)}function Y(n,e,t){try{return Mo(n,e)}catch{return n}}function tv(n,e=.15){return jn(n)>.5?Io(n,e):Mo(n,e)}function Ut(n,e,t){try{return tv(n,e)}catch{return n}}const nv=K.createContext(void 0);function ov(n){const{theme:e,name:t,props:o}=n;if(!e||!e.components||!e.components[t])return o;const i=e.components[t];return i.defaultProps?Qn(i.defaultProps,o):!i.styleOverrides&&!i.variants?Qn(i,o):o}function iv({props:n,name:e}){const t=K.useContext(nv);return ov({props:n,name:e,theme:{components:t}})}const Ir={theme:void 0};function rv(n){let e,t;return function(i){let r=e;return(r===void 0||i.theme!==t)&&(Ir.theme=i.theme,r=Ns(n(Ir)),e=r,t=i.theme),r}}function sv(n=""){function e(...o){if(!o.length)return"";const i=o[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${i}${e(...o.slice(1))})`:`, ${i}`}return(o,...i)=>`var(--${n?`${n}-`:""}${o}${e(...i)})`}const Mr=(n,e,t,o=[])=>{let i=n;e.forEach((r,l)=>{l===e.length-1?Array.isArray(i)?i[Number(r)]=t:i&&typeof i=="object"&&(i[r]=t):i&&typeof i=="object"&&(i[r]||(i[r]=o.includes(r)?[]:{}),i=i[r])})},av=(n,e,t)=>{function o(i,r=[],l=[]){Object.entries(i).forEach(([u,f])=>{(!t||t&&!t([...r,u]))&&f!=null&&(typeof f=="object"&&Object.keys(f).length>0?o(f,[...r,u],Array.isArray(f)?[...l,u]:l):e([...r,u],f,l))})}o(n)},lv=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(o=>n.includes(o))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function wn(n,e){const{prefix:t,shouldSkipGeneratingVar:o}=e||{},i={},r={},l={};return av(n,(u,f,c)=>{if((typeof f=="string"||typeof f=="number")&&(!o||!o(u,f))){const d=`--${t?`${t}-`:""}${u.join("-")}`,p=lv(u,f);Object.assign(i,{[d]:p}),Mr(r,u,`var(${d})`,c),Mr(l,u,`var(${d}, ${p})`,c)}},u=>u[0]==="vars"),{css:i,vars:r,varsWithDefaults:l}}function uv(n,e={}){const{getSelector:t=_,disableCssColorScheme:o,colorSchemeSelector:i}=e,{colorSchemes:r={},components:l,defaultColorScheme:u="light",...f}=n,{vars:c,css:d,varsWithDefaults:p}=wn(f,e);let m=p;const y={},{[u]:v,...g}=r;if(Object.entries(g||{}).forEach(([E,x])=>{const{vars:C,css:M,varsWithDefaults:R}=wn(x,e);m=pe(m,R),y[E]={css:M,vars:C}}),v){const{css:E,vars:x,varsWithDefaults:C}=wn(v,e);m=pe(m,C),y[u]={css:E,vars:x}}function _(E,x){var M,R;let C=i;if(i==="class"&&(C=".%s"),i==="data"&&(C="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(C=`[${i}="%s"]`),E){if(C==="media")return n.defaultColorScheme===E?":root":{[`@media (prefers-color-scheme: ${((R=(M=r[E])==null?void 0:M.palette)==null?void 0:R.mode)||E})`]:{":root":x}};if(C)return n.defaultColorScheme===E?`:root, ${C.replace("%s",String(E))}`:C.replace("%s",String(E))}return":root"}return{vars:m,generateThemeVars:()=>{let E={...c};return Object.entries(y).forEach(([,{vars:x}])=>{E=pe(E,x)}),E},generateStyleSheets:()=>{var $,D;const E=[],x=n.defaultColorScheme||"light";function C(h,w){Object.keys(w).length&&E.push(typeof h=="string"?{[h]:{...w}}:h)}C(t(void 0,{...d}),d);const{[x]:M,...R}=y;if(M){const{css:h}=M,w=(D=($=r[x])==null?void 0:$.palette)==null?void 0:D.mode,V=!o&&w?{colorScheme:w,...h}:{...h};C(t(x,{...V}),V)}return Object.entries(R).forEach(([h,{css:w}])=>{var X,ce;const V=(ce=(X=r[h])==null?void 0:X.palette)==null?void 0:ce.mode,W=!o&&V?{colorScheme:V,...w}:{...w};C(t(h,{...W}),W)}),E}}}function cv(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}const Mt={black:"#000",white:"#fff"},fv={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Je={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Ke={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},gt={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},ze={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Ye={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Ze={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function Fs(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Mt.white,default:Mt.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const dv=Fs();function Ls(){return{text:{primary:Mt.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Mt.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const wr=Ls();function Rr(n,e,t,o){const i=o.light||o,r=o.dark||o*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=Mo(n.main,i):e==="dark"&&(n.dark=Io(n.main,r)))}function pv(n="light"){return n==="dark"?{main:ze[200],light:ze[50],dark:ze[400]}:{main:ze[700],light:ze[400],dark:ze[800]}}function mv(n="light"){return n==="dark"?{main:Je[200],light:Je[50],dark:Je[400]}:{main:Je[500],light:Je[300],dark:Je[700]}}function hv(n="light"){return n==="dark"?{main:Ke[500],light:Ke[300],dark:Ke[700]}:{main:Ke[700],light:Ke[400],dark:Ke[800]}}function gv(n="light"){return n==="dark"?{main:Ye[400],light:Ye[300],dark:Ye[700]}:{main:Ye[700],light:Ye[500],dark:Ye[900]}}function yv(n="light"){return n==="dark"?{main:Ze[400],light:Ze[300],dark:Ze[700]}:{main:Ze[800],light:Ze[500],dark:Ze[900]}}function vv(n="light"){return n==="dark"?{main:gt[400],light:gt[300],dark:gt[700]}:{main:"#ed6c02",light:gt[500],dark:gt[900]}}function wo(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:o=.2,...i}=n,r=n.primary||pv(e),l=n.secondary||mv(e),u=n.error||hv(e),f=n.info||gv(e),c=n.success||yv(e),d=n.warning||vv(e);function p(g){return jy(g,wr.text.primary)>=t?wr.text.primary:dv.text.primary}const m=({color:g,name:_,mainShade:S=500,lightShade:A=300,darkShade:E=700})=>{if(g={...g},!g.main&&g[S]&&(g.main=g[S]),!g.hasOwnProperty("main"))throw new Error(qe(11,_?` (${_})`:"",S));if(typeof g.main!="string")throw new Error(qe(12,_?` (${_})`:"",JSON.stringify(g.main)));return Rr(g,"light",A,o),Rr(g,"dark",E,o),g.contrastText||(g.contrastText=p(g.main)),g};let y;return e==="light"?y=Fs():e==="dark"&&(y=Ls()),pe({common:{...Mt},mode:e,primary:m({color:r,name:"primary"}),secondary:m({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:u,name:"error"}),warning:m({color:d,name:"warning"}),info:m({color:f,name:"info"}),success:m({color:c,name:"success"}),grey:fv,contrastThreshold:t,getContrastText:p,augmentColor:m,tonalOffset:o,...y},i)}function Cv(n){const e={};return Object.entries(n).forEach(o=>{const[i,r]=o;typeof r=="object"&&(e[i]=`${r.fontStyle?`${r.fontStyle} `:""}${r.fontVariant?`${r.fontVariant} `:""}${r.fontWeight?`${r.fontWeight} `:""}${r.fontStretch?`${r.fontStretch} `:""}${r.fontSize||""}${r.lineHeight?`/${r.lineHeight} `:""}${r.fontFamily||""}`)}),e}function Tv(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function _v(n){return Math.round(n*1e5)/1e5}const Pr={textTransform:"uppercase"},kr='"Roboto", "Helvetica", "Arial", sans-serif';function Sv(n,e){const{fontFamily:t=kr,fontSize:o=14,fontWeightLight:i=300,fontWeightRegular:r=400,fontWeightMedium:l=500,fontWeightBold:u=700,htmlFontSize:f=16,allVariants:c,pxToRem:d,...p}=typeof e=="function"?e(n):e,m=o/14,y=d||(_=>`${_/f*m}rem`),v=(_,S,A,E,x)=>({fontFamily:t,fontWeight:_,fontSize:y(S),lineHeight:A,...t===kr?{letterSpacing:`${_v(E/S)}em`}:{},...x,...c}),g={h1:v(i,96,1.167,-1.5),h2:v(i,60,1.2,-.5),h3:v(r,48,1.167,0),h4:v(r,34,1.235,.25),h5:v(r,24,1.334,0),h6:v(l,20,1.6,.15),subtitle1:v(r,16,1.75,.15),subtitle2:v(l,14,1.57,.1),body1:v(r,16,1.5,.15),body2:v(r,14,1.43,.15),button:v(l,14,1.75,.4,Pr),caption:v(r,12,1.66,.4),overline:v(r,12,2.66,1,Pr),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return pe({htmlFontSize:f,pxToRem:y,fontFamily:t,fontSize:o,fontWeightLight:i,fontWeightRegular:r,fontWeightMedium:l,fontWeightBold:u,...g},p,{clone:!1})}const Ev=.2,xv=.14,Av=.12;function j(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${Ev})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${xv})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${Av})`].join(",")}const Iv=["none",j(0,2,1,-1,0,1,1,0,0,1,3,0),j(0,3,1,-2,0,2,2,0,0,1,5,0),j(0,3,3,-2,0,3,4,0,0,1,8,0),j(0,2,4,-1,0,4,5,0,0,1,10,0),j(0,3,5,-1,0,5,8,0,0,1,14,0),j(0,3,5,-1,0,6,10,0,0,1,18,0),j(0,4,5,-2,0,7,10,1,0,2,16,1),j(0,5,5,-3,0,8,10,1,0,3,14,2),j(0,5,6,-3,0,9,12,1,0,3,16,2),j(0,6,6,-3,0,10,14,1,0,4,18,3),j(0,6,7,-4,0,11,15,1,0,4,20,3),j(0,7,8,-4,0,12,17,2,0,5,22,4),j(0,7,8,-4,0,13,19,2,0,5,24,4),j(0,7,9,-4,0,14,21,2,0,5,26,4),j(0,8,9,-5,0,15,22,2,0,6,28,5),j(0,8,10,-5,0,16,24,2,0,6,30,5),j(0,8,11,-5,0,17,26,2,0,6,32,5),j(0,9,11,-5,0,18,28,2,0,7,34,6),j(0,9,12,-6,0,19,29,2,0,7,36,6),j(0,10,13,-6,0,20,31,3,0,8,38,7),j(0,10,13,-6,0,21,33,3,0,8,40,7),j(0,10,14,-6,0,22,35,3,0,8,42,7),j(0,11,14,-7,0,23,36,3,0,9,44,8),j(0,11,15,-7,0,24,38,3,0,9,46,8)],Mv={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},wv={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Nr(n){return`${Math.round(n)}ms`}function Rv(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function Pv(n){const e={...Mv,...n.easing},t={...wv,...n.duration};return{getAutoHeightDuration:Rv,create:(i=["all"],r={})=>{const{duration:l=t.standard,easing:u=e.easeInOut,delay:f=0,...c}=r;return(Array.isArray(i)?i:[i]).map(d=>`${d} ${typeof l=="string"?l:Nr(l)} ${u} ${typeof f=="string"?f:Nr(f)}`).join(",")},...n,easing:e,duration:t}}const kv={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Nv(n){return Se(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function Vs(n={}){const e={...n};function t(o){const i=Object.entries(o);for(let r=0;r<i.length;r++){const[l,u]=i[r];!Nv(u)||l.startsWith("unstable_")?delete o[l]:Se(u)&&(o[l]={...u},t(o[l]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function eo(n={},...e){const{breakpoints:t,mixins:o={},spacing:i,palette:r={},transitions:l={},typography:u={},shape:f,...c}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(qe(20));const d=wo(r),p=So(n);let m=pe(p,{mixins:Tv(p.breakpoints,o),palette:d,shadows:Iv.slice(),typography:Sv(d,u),transitions:Pv(l),zIndex:{...kv}});return m=pe(m,c),m=e.reduce((y,v)=>pe(y,v),m),m.unstable_sxConfig={...Nt,...c==null?void 0:c.unstable_sxConfig},m.unstable_sx=function(v){return He({sx:v,theme:this})},m.toRuntimeSource=Vs,m}function Dv(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const bv=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=Dv(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function Us(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function $s(n){return n==="dark"?bv:[]}function Fv(n){const{palette:e={mode:"light"},opacity:t,overlays:o,...i}=n,r=wo(e);return{palette:r,opacity:{...Us(r.mode),...t},overlays:o||$s(r.mode),...i}}function Lv(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const Vv=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],Uv=n=>(e,t)=>{const o=n.rootSelector||":root",i=n.colorSchemeSelector;let r=i;if(i==="class"&&(r=".%s"),i==="data"&&(r="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(r=`[${i}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const l={};return Vv(n.cssVarPrefix).forEach(u=>{l[u]=t[u],delete t[u]}),r==="media"?{[o]:t,"@media (prefers-color-scheme: dark)":{[o]:l}}:r?{[r.replace("%s",e)]:l,[`${o}, ${r.replace("%s",e)}`]:t}:{[o]:{...t,...l}}}if(r&&r!=="media")return`${o}, ${r.replace("%s",String(e))}`}else if(e){if(r==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[o]:t}};if(r)return r.replace("%s",String(e))}return o};function $v(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function T(n,e,t){!n[e]&&t&&(n[e]=t)}function Tt(n){return typeof n!="string"||!n.startsWith("hsl")?n:bs(n)}function we(n,e){`${e}Channel`in n||(n[`${e}Channel`]=Ct(Tt(n[e])))}function Bv(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const Ce=n=>{try{return n()}catch{}},Gv=(n="mui")=>sv(n);function Rn(n,e,t,o){if(!e)return;e=e===!0?{}:e;const i=o==="dark"?"dark":"light";if(!t){n[o]=Fv({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:r,...l}=eo({...t,palette:{mode:i,...e==null?void 0:e.palette}});return n[o]={...e,palette:r,opacity:{...Us(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||$s(i)},l}function Ov(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:o,disableCssColorScheme:i=!1,cssVarPrefix:r="mui",shouldSkipGeneratingVar:l=Lv,colorSchemeSelector:u=t.light&&t.dark?"media":void 0,rootSelector:f=":root",...c}=n,d=Object.keys(t)[0],p=o||(t.light&&d!=="light"?"light":d),m=Gv(r),{[p]:y,light:v,dark:g,..._}=t,S={..._};let A=y;if((p==="dark"&&!("dark"in t)||p==="light"&&!("light"in t))&&(A=!0),!A)throw new Error(qe(21,p));const E=Rn(S,A,c,p);v&&!S.light&&Rn(S,v,void 0,"light"),g&&!S.dark&&Rn(S,g,void 0,"dark");let x={defaultColorScheme:p,...E,cssVarPrefix:r,colorSchemeSelector:u,rootSelector:f,getCssVar:m,colorSchemes:S,font:{...Cv(E.typography),...E.font},spacing:Bv(c.spacing)};Object.keys(x.colorSchemes).forEach(D=>{const h=x.colorSchemes[D].palette,w=V=>{const W=V.split("-"),X=W[1],ce=W[2];return m(V,h[X][ce])};if(h.mode==="light"&&(T(h.common,"background","#fff"),T(h.common,"onBackground","#000")),h.mode==="dark"&&(T(h.common,"background","#000"),T(h.common,"onBackground","#fff")),$v(h,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),h.mode==="light"){T(h.Alert,"errorColor",z(h.error.light,.6)),T(h.Alert,"infoColor",z(h.info.light,.6)),T(h.Alert,"successColor",z(h.success.light,.6)),T(h.Alert,"warningColor",z(h.warning.light,.6)),T(h.Alert,"errorFilledBg",w("palette-error-main")),T(h.Alert,"infoFilledBg",w("palette-info-main")),T(h.Alert,"successFilledBg",w("palette-success-main")),T(h.Alert,"warningFilledBg",w("palette-warning-main")),T(h.Alert,"errorFilledColor",Ce(()=>h.getContrastText(h.error.main))),T(h.Alert,"infoFilledColor",Ce(()=>h.getContrastText(h.info.main))),T(h.Alert,"successFilledColor",Ce(()=>h.getContrastText(h.success.main))),T(h.Alert,"warningFilledColor",Ce(()=>h.getContrastText(h.warning.main))),T(h.Alert,"errorStandardBg",Y(h.error.light,.9)),T(h.Alert,"infoStandardBg",Y(h.info.light,.9)),T(h.Alert,"successStandardBg",Y(h.success.light,.9)),T(h.Alert,"warningStandardBg",Y(h.warning.light,.9)),T(h.Alert,"errorIconColor",w("palette-error-main")),T(h.Alert,"infoIconColor",w("palette-info-main")),T(h.Alert,"successIconColor",w("palette-success-main")),T(h.Alert,"warningIconColor",w("palette-warning-main")),T(h.AppBar,"defaultBg",w("palette-grey-100")),T(h.Avatar,"defaultBg",w("palette-grey-400")),T(h.Button,"inheritContainedBg",w("palette-grey-300")),T(h.Button,"inheritContainedHoverBg",w("palette-grey-A100")),T(h.Chip,"defaultBorder",w("palette-grey-400")),T(h.Chip,"defaultAvatarColor",w("palette-grey-700")),T(h.Chip,"defaultIconColor",w("palette-grey-700")),T(h.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),T(h.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),T(h.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),T(h.LinearProgress,"primaryBg",Y(h.primary.main,.62)),T(h.LinearProgress,"secondaryBg",Y(h.secondary.main,.62)),T(h.LinearProgress,"errorBg",Y(h.error.main,.62)),T(h.LinearProgress,"infoBg",Y(h.info.main,.62)),T(h.LinearProgress,"successBg",Y(h.success.main,.62)),T(h.LinearProgress,"warningBg",Y(h.warning.main,.62)),T(h.Skeleton,"bg",`rgba(${w("palette-text-primaryChannel")} / 0.11)`),T(h.Slider,"primaryTrack",Y(h.primary.main,.62)),T(h.Slider,"secondaryTrack",Y(h.secondary.main,.62)),T(h.Slider,"errorTrack",Y(h.error.main,.62)),T(h.Slider,"infoTrack",Y(h.info.main,.62)),T(h.Slider,"successTrack",Y(h.success.main,.62)),T(h.Slider,"warningTrack",Y(h.warning.main,.62));const V=Ut(h.background.default,.8);T(h.SnackbarContent,"bg",V),T(h.SnackbarContent,"color",Ce(()=>h.getContrastText(V))),T(h.SpeedDialAction,"fabHoverBg",Ut(h.background.paper,.15)),T(h.StepConnector,"border",w("palette-grey-400")),T(h.StepContent,"border",w("palette-grey-400")),T(h.Switch,"defaultColor",w("palette-common-white")),T(h.Switch,"defaultDisabledColor",w("palette-grey-100")),T(h.Switch,"primaryDisabledColor",Y(h.primary.main,.62)),T(h.Switch,"secondaryDisabledColor",Y(h.secondary.main,.62)),T(h.Switch,"errorDisabledColor",Y(h.error.main,.62)),T(h.Switch,"infoDisabledColor",Y(h.info.main,.62)),T(h.Switch,"successDisabledColor",Y(h.success.main,.62)),T(h.Switch,"warningDisabledColor",Y(h.warning.main,.62)),T(h.TableCell,"border",Y(Vt(h.divider,1),.88)),T(h.Tooltip,"bg",Vt(h.grey[700],.92))}if(h.mode==="dark"){T(h.Alert,"errorColor",Y(h.error.light,.6)),T(h.Alert,"infoColor",Y(h.info.light,.6)),T(h.Alert,"successColor",Y(h.success.light,.6)),T(h.Alert,"warningColor",Y(h.warning.light,.6)),T(h.Alert,"errorFilledBg",w("palette-error-dark")),T(h.Alert,"infoFilledBg",w("palette-info-dark")),T(h.Alert,"successFilledBg",w("palette-success-dark")),T(h.Alert,"warningFilledBg",w("palette-warning-dark")),T(h.Alert,"errorFilledColor",Ce(()=>h.getContrastText(h.error.dark))),T(h.Alert,"infoFilledColor",Ce(()=>h.getContrastText(h.info.dark))),T(h.Alert,"successFilledColor",Ce(()=>h.getContrastText(h.success.dark))),T(h.Alert,"warningFilledColor",Ce(()=>h.getContrastText(h.warning.dark))),T(h.Alert,"errorStandardBg",z(h.error.light,.9)),T(h.Alert,"infoStandardBg",z(h.info.light,.9)),T(h.Alert,"successStandardBg",z(h.success.light,.9)),T(h.Alert,"warningStandardBg",z(h.warning.light,.9)),T(h.Alert,"errorIconColor",w("palette-error-main")),T(h.Alert,"infoIconColor",w("palette-info-main")),T(h.Alert,"successIconColor",w("palette-success-main")),T(h.Alert,"warningIconColor",w("palette-warning-main")),T(h.AppBar,"defaultBg",w("palette-grey-900")),T(h.AppBar,"darkBg",w("palette-background-paper")),T(h.AppBar,"darkColor",w("palette-text-primary")),T(h.Avatar,"defaultBg",w("palette-grey-600")),T(h.Button,"inheritContainedBg",w("palette-grey-800")),T(h.Button,"inheritContainedHoverBg",w("palette-grey-700")),T(h.Chip,"defaultBorder",w("palette-grey-700")),T(h.Chip,"defaultAvatarColor",w("palette-grey-300")),T(h.Chip,"defaultIconColor",w("palette-grey-300")),T(h.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),T(h.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),T(h.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),T(h.LinearProgress,"primaryBg",z(h.primary.main,.5)),T(h.LinearProgress,"secondaryBg",z(h.secondary.main,.5)),T(h.LinearProgress,"errorBg",z(h.error.main,.5)),T(h.LinearProgress,"infoBg",z(h.info.main,.5)),T(h.LinearProgress,"successBg",z(h.success.main,.5)),T(h.LinearProgress,"warningBg",z(h.warning.main,.5)),T(h.Skeleton,"bg",`rgba(${w("palette-text-primaryChannel")} / 0.13)`),T(h.Slider,"primaryTrack",z(h.primary.main,.5)),T(h.Slider,"secondaryTrack",z(h.secondary.main,.5)),T(h.Slider,"errorTrack",z(h.error.main,.5)),T(h.Slider,"infoTrack",z(h.info.main,.5)),T(h.Slider,"successTrack",z(h.success.main,.5)),T(h.Slider,"warningTrack",z(h.warning.main,.5));const V=Ut(h.background.default,.98);T(h.SnackbarContent,"bg",V),T(h.SnackbarContent,"color",Ce(()=>h.getContrastText(V))),T(h.SpeedDialAction,"fabHoverBg",Ut(h.background.paper,.15)),T(h.StepConnector,"border",w("palette-grey-600")),T(h.StepContent,"border",w("palette-grey-600")),T(h.Switch,"defaultColor",w("palette-grey-300")),T(h.Switch,"defaultDisabledColor",w("palette-grey-600")),T(h.Switch,"primaryDisabledColor",z(h.primary.main,.55)),T(h.Switch,"secondaryDisabledColor",z(h.secondary.main,.55)),T(h.Switch,"errorDisabledColor",z(h.error.main,.55)),T(h.Switch,"infoDisabledColor",z(h.info.main,.55)),T(h.Switch,"successDisabledColor",z(h.success.main,.55)),T(h.Switch,"warningDisabledColor",z(h.warning.main,.55)),T(h.TableCell,"border",z(Vt(h.divider,1),.68)),T(h.Tooltip,"bg",Vt(h.grey[700],.92))}we(h.background,"default"),we(h.background,"paper"),we(h.common,"background"),we(h.common,"onBackground"),we(h,"divider"),Object.keys(h).forEach(V=>{const W=h[V];V!=="tonalOffset"&&W&&typeof W=="object"&&(W.main&&T(h[V],"mainChannel",Ct(Tt(W.main))),W.light&&T(h[V],"lightChannel",Ct(Tt(W.light))),W.dark&&T(h[V],"darkChannel",Ct(Tt(W.dark))),W.contrastText&&T(h[V],"contrastTextChannel",Ct(Tt(W.contrastText))),V==="text"&&(we(h[V],"primary"),we(h[V],"secondary")),V==="action"&&(W.active&&we(h[V],"active"),W.selected&&we(h[V],"selected")))})}),x=e.reduce((D,h)=>pe(D,h),x);const C={prefix:r,disableCssColorScheme:i,shouldSkipGeneratingVar:l,getSelector:Uv(x)},{vars:M,generateThemeVars:R,generateStyleSheets:$}=uv(x,C);return x.vars=M,Object.entries(x.colorSchemes[x.defaultColorScheme]).forEach(([D,h])=>{x[D]=h}),x.generateThemeVars=R,x.generateStyleSheets=$,x.generateSpacing=function(){return Ps(c.spacing,po(this))},x.getColorSchemeSelector=cv(u),x.spacing=x.generateSpacing(),x.shouldSkipGeneratingVar=l,x.unstable_sxConfig={...Nt,...c==null?void 0:c.unstable_sxConfig},x.unstable_sx=function(h){return He({sx:h,theme:this})},x.toRuntimeSource=Vs,x}function Dr(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:wo({...t===!0?{}:t.palette,mode:e})})}function Bs(n={},...e){const{palette:t,cssVariables:o=!1,colorSchemes:i=t?void 0:{light:!0},defaultColorScheme:r=t==null?void 0:t.mode,...l}=n,u=r||"light",f=i==null?void 0:i[u],c={...i,...t?{[u]:{...typeof f!="boolean"&&f,palette:t}}:void 0};if(o===!1){if(!("colorSchemes"in n))return eo(n,...e);let d=t;"palette"in n||c[u]&&(c[u]!==!0?d=c[u].palette:u==="dark"&&(d={mode:"dark"}));const p=eo({...n,palette:d},...e);return p.defaultColorScheme=u,p.colorSchemes=c,p.palette.mode==="light"&&(p.colorSchemes.light={...c.light!==!0&&c.light,palette:p.palette},Dr(p,"dark",c.dark)),p.palette.mode==="dark"&&(p.colorSchemes.dark={...c.dark!==!0&&c.dark,palette:p.palette},Dr(p,"light",c.light)),p}return!t&&!("light"in c)&&u==="light"&&(c.light=!0),Ov({...l,colorSchemes:c,defaultColorScheme:u,...typeof o!="boolean"&&o},...e)}const qv=Bs(),Gs="$$material";function Hv(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const Wv=n=>Hv(n)&&n!=="classes",Tn=Wy({themeId:Gs,defaultTheme:qv,rootShouldForwardProp:Wv});function Jv(){return ps}const Ro=rv;function Os(n){return iv(n)}function Kv(n){return typeof n.main=="string"}function zv(n,e=[]){if(!Kv(n))return!1;for(const t of e)if(!n.hasOwnProperty(t)||typeof n[t]!="string")return!1;return!0}function qs(n=[]){return([,e])=>e&&zv(e,n)}function Yv(n){return Eo("MuiCircularProgress",n)}xo("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const De=44,to=ws`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,no=ws`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,Zv=typeof to!="string"?_o`
        animation: ${to} 1.4s linear infinite;
      `:null,Xv=typeof no!="string"?_o`
        animation: ${no} 1.4s ease-in-out infinite;
      `:null,Qv=n=>{const{classes:e,variant:t,color:o,disableShrink:i}=n,r={root:["root",t,`color${Pe(o)}`],svg:["svg"],circle:["circle",`circle${Pe(t)}`,i&&"circleDisableShrink"]};return us(r,Yv,e)},jv=Tn("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`color${Pe(t.color)}`]]}})(Ro(({theme:n})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("transform")}},{props:{variant:"indeterminate"},style:Zv||{animation:`${to} 1.4s linear infinite`}},...Object.entries(n.palette).filter(qs()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}}))]}))),eC=Tn("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),tC=Tn("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.circle,e[`circle${Pe(t.variant)}`],t.disableShrink&&e.circleDisableShrink]}})(Ro(({theme:n})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:Xv||{animation:`${no} 1.4s ease-in-out infinite`}}]}))),Hs=K.forwardRef(function(e,t){const o=Os({props:e,name:"MuiCircularProgress"}),{className:i,color:r="primary",disableShrink:l=!1,size:u=40,style:f,thickness:c=3.6,value:d=0,variant:p="indeterminate",...m}=o,y={...o,color:r,disableShrink:l,size:u,thickness:c,value:d,variant:p},v=Qv(y),g={},_={},S={};if(p==="determinate"){const A=2*Math.PI*((De-c)/2);g.strokeDasharray=A.toFixed(3),S["aria-valuenow"]=Math.round(d),g.strokeDashoffset=`${((100-d)/100*A).toFixed(3)}px`,_.transform="rotate(-90deg)"}return ne.jsx(jv,{className:uo(v.root,i),style:{width:u,height:u,..._,...f},ownerState:y,ref:t,role:"progressbar",...S,...m,children:ne.jsx(eC,{className:v.svg,ownerState:y,viewBox:`${De/2} ${De/2} ${De} ${De}`,children:ne.jsx(tC,{className:v.circle,style:g,ownerState:y,cx:De,cy:De,r:(De-c)/2,fill:"none",strokeWidth:c})})})});function nC(n){return Eo("MuiTypography",n)}xo("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const oC={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},iC=Jv(),rC=n=>{const{align:e,gutterBottom:t,noWrap:o,paragraph:i,variant:r,classes:l}=n,u={root:["root",r,n.align!=="inherit"&&`align${Pe(e)}`,t&&"gutterBottom",o&&"noWrap",i&&"paragraph"]};return us(u,nC,l)},sC=Tn("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.variant&&e[t.variant],t.align!=="inherit"&&e[`align${Pe(t.align)}`],t.noWrap&&e.noWrap,t.gutterBottom&&e.gutterBottom,t.paragraph&&e.paragraph]}})(Ro(({theme:n})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(n.typography).filter(([t,o])=>t!=="inherit"&&o&&typeof o=="object").map(([t,o])=>({props:{variant:t},style:o})),...Object.entries(n.palette).filter(qs()).map(([t])=>({props:{color:t},style:{color:(n.vars||n).palette[t].main}})),...Object.entries(((e=n.palette)==null?void 0:e.text)||{}).filter(([,t])=>typeof t=="string").map(([t])=>({props:{color:`text${Pe(t)}`},style:{color:(n.vars||n).palette.text[t]}})),{props:({ownerState:t})=>t.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:t})=>t.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:t})=>t.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:t})=>t.paragraph,style:{marginBottom:16}}]}})),br={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},aC=K.forwardRef(function(e,t){const{color:o,...i}=Os({props:e,name:"MuiTypography"}),r=!oC[o],l=iC({...i,...r&&{color:o}}),{align:u="inherit",className:f,component:c,gutterBottom:d=!1,noWrap:p=!1,paragraph:m=!1,variant:y="body1",variantMapping:v=br,...g}=l,_={...l,align:u,color:o,className:f,component:c,gutterBottom:d,noWrap:p,paragraph:m,variant:y,variantMapping:v},S=c||(m?"p":v[y]||br[y])||"span",A=rC(_);return ne.jsx(sC,{as:S,ref:t,className:uo(A.root,f),...g,ownerState:_,style:{...u!=="inherit"&&{"--Typography-textAlign":u},...g.style}})}),lC=xo("MuiBox",["root"]),uC=Bs(),oo=By({themeId:Gs,defaultTheme:uC,defaultClassName:lC.root,generateClassName:ks.generate});function cC(n){return ne.jsxs(oo,{sx:{position:"relative",display:"inline-flex"},children:[ne.jsx(Hs,{variant:"determinate",...n,size:80,sx:{color:"green"}}),ne.jsx(oo,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},children:ne.jsx(aC,{variant:"h6",component:"div",sx:{color:"white"},children:`${Math.round(n.value)}%`})})]})}function fC(){const[n,e]=K.useState(null);return K.useEffect(()=>{chrome.tabs.query({active:!0,currentWindow:!0},t=>{var o;(o=t[0])!=null&&o.id&&chrome.tabs.sendMessage(t[0].id,{type:"GET_PRODUCT_DATA"},async i=>{if(i&&i.title){const r=await Fh(i.title);e(r)}})})},[]),ne.jsx("div",{className:"w-full min-h-full justify-center absolute top-0 left-0 right-0 bottom-0 text-center p-3 bg-gray-800 leading-relaxed",children:ne.jsx("header",{className:"flex flex-col items-center justify-center text-white ",children:n?ne.jsxs("div",{children:[ne.jsxs("div",{children:["Product: ",n.productName]}),ne.jsx("div",{children:"Score:"}),ne.jsx(cC,{value:n.score}),ne.jsxs("div",{children:["Suggested alternative: ",n.suggestedAlternative]}),ne.jsxs("div",{children:["Summary: ",n.summaryOfEnvironmentalImpact]})]}):ne.jsxs("div",{children:[ne.jsx("div",{className:"text-lg",children:"Loading..."}),ne.jsx(oo,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:ne.jsx(Hs,{size:80,thickness:5,color:"success"})})]})})})}function dC(){const n=document.querySelector("#__root");if(!n)throw new Error("Can't find Popup root element");Js.createRoot(n).render(ne.jsx(fC,{}))}dC();
//# sourceMappingURL=index.html-hSohwKDo.js.map
